(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{6217:(gn,_t,$)=>{"use strict";$.d(_t,{nm:()=>ct});var c=$(2122);$(4650),$(259);var Ve=$(5861),tt=$(9681),Ke=$(4859),Ne=$(2090),rt=$(1877);const ie=new Map,ut={activated:!1,tokenObservers:[]},he={initialized:!1,enabled:!1};function B(yt){return ie.get(yt)||Object.assign({},ut)}function Oe(){return he}class le{constructor(gt,St,Xt,un,sr){if(this.operation=gt,this.retryPolicy=St,this.getWaitDuration=Xt,this.lowerBound=un,this.upperBound=sr,this.pending=null,this.nextErrorWaitInterval=un,un>sr)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(gt){var St=this;return(0,Ve.Z)(function*(){St.stop();try{St.pending=new Ne.BH,yield function ve(yt){return new Promise(gt=>{setTimeout(gt,yt)})}(St.getNextRun(gt)),St.pending.resolve(),yield St.pending.promise,St.pending=new Ne.BH,yield St.operation(),St.pending.resolve(),yield St.pending.promise,St.process(!0).catch(()=>{})}catch(Xt){St.retryPolicy(Xt)?St.process(!1).catch(()=>{}):St.stop()}})()}getNextRun(gt){if(gt)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const St=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),St}}}const Be=new Ne.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ot(yt){if(!B(yt).activated)throw Be.create("use-before-activation",{appName:yt.name})}function An(yt,gt){return vn.apply(this,arguments)}function vn(){return(vn=(0,Ve.Z)(function*({url:yt,body:gt},St){const Xt={"Content-Type":"application/json"},un=St.getImmediate({optional:!0});if(un){const ki=yield un.getHeartbeatsHeader();ki&&(Xt["X-Firebase-Client"]=ki)}const sr={method:"POST",body:JSON.stringify(gt),headers:Xt};let xn,Kn;try{xn=yield fetch(yt,sr)}catch(ki){throw Be.create("fetch-network-error",{originalErrorMessage:null==ki?void 0:ki.message})}if(200!==xn.status)throw Be.create("fetch-status-error",{httpStatus:xn.status});try{Kn=yield xn.json()}catch(ki){throw Be.create("fetch-parse-error",{originalErrorMessage:null==ki?void 0:ki.message})}const Un=Kn.ttl.match(/^([\d.]+)(s)$/);if(!Un||!Un[2]||isNaN(Number(Un[1])))throw Be.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Kn.ttl}`});const ai=1e3*Number(Un[1]),xr=Date.now();return{token:Kn.token,expireTimeMillis:xr+ai,issuedAtTimeMillis:xr}})).apply(this,arguments)}function rn(yt,gt){const{projectId:St,appId:Xt,apiKey:un}=yt.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${St}/apps/${Xt}:exchangeDebugToken?key=${un}`,body:{debug_token:gt}}}const Or="firebase-app-check-store";let wn=null;function fr(){return wn||(wn=new Promise((yt,gt)=>{try{const St=indexedDB.open("firebase-app-check-database",1);St.onsuccess=Xt=>{yt(Xt.target.result)},St.onerror=Xt=>{var un;gt(Be.create("storage-open",{originalErrorMessage:null===(un=Xt.target.error)||void 0===un?void 0:un.message}))},St.onupgradeneeded=Xt=>{0===Xt.oldVersion&&Xt.target.result.createObjectStore(Or,{keyPath:"compositeKey"})}}catch(St){gt(Be.create("storage-open",{originalErrorMessage:null==St?void 0:St.message}))}}),wn)}function tr(){return(tr=(0,Ve.Z)(function*(yt,gt){const Xt=(yield fr()).transaction(Or,"readwrite"),sr=Xt.objectStore(Or).put({compositeKey:yt,value:gt});return new Promise((xn,Kn)=>{sr.onsuccess=Un=>{xn()},Xt.onerror=Un=>{var ai;Kn(Be.create("storage-set",{originalErrorMessage:null===(ai=Un.target.error)||void 0===ai?void 0:ai.message}))}})})).apply(this,arguments)}const Pr=new rt.Yd("@firebase/app-check");function qr(yt,gt){return(0,Ne.hl)()?function wr(yt,gt){return function rr(yt,gt){return tr.apply(this,arguments)}(function Jr(yt){return`${yt.options.appId}-${yt.name}`}(yt),gt)}(yt,gt).catch(St=>{Pr.warn(`Failed to write token to IndexedDB. Error: ${St}`)}):Promise.resolve()}function oi(){return Oe().enabled}function ar(){return er.apply(this,arguments)}function er(){return(er=(0,Ve.Z)(function*(){const yt=Oe();if(yt.enabled&&yt.token)return yt.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const yn={error:"UNKNOWN_ERROR"};function zt(yt){return Ne.US.encodeString(JSON.stringify(yt),!1)}function Sn(yt){return nr.apply(this,arguments)}function nr(){return(nr=(0,Ve.Z)(function*(yt,gt=!1){const St=yt.app;Ot(St);const Xt=B(St);let sr,un=Xt.token;if(un&&!Pt(un)&&(Xt.token=void 0,un=void 0),!un){const Un=yield Xt.cachedTokenPromise;Un&&(Pt(Un)?un=Un:yield qr(St,void 0))}if(!gt&&un&&Pt(un))return{token:un.token};let Kn,xn=!1;if(oi()){Xt.exchangeTokenPromise||(Xt.exchangeTokenPromise=An(rn(St,yield ar()),yt.heartbeatServiceProvider).finally(()=>{Xt.exchangeTokenPromise=void 0}),xn=!0);const Un=yield Xt.exchangeTokenPromise;return yield qr(St,Un),Xt.token=Un,{token:Un.token}}try{Xt.exchangeTokenPromise||(Xt.exchangeTokenPromise=Xt.provider.getToken().finally(()=>{Xt.exchangeTokenPromise=void 0}),xn=!0),un=yield B(St).exchangeTokenPromise}catch(Un){"appCheck/throttled"===Un.code?Pr.warn(Un.message):Pr.error(Un),sr=Un}return un?sr?Kn=Pt(un)?{token:un.token,internalError:sr}:Mt(sr):(Kn={token:un.token},Xt.token=un,yield qr(St,un)):Kn=Mt(sr),xn&&ht(St,Kn),Kn})).apply(this,arguments)}function hr(yt,gt){const St=B(yt),Xt=St.tokenObservers.filter(un=>un.next!==gt);0===Xt.length&&St.tokenRefresher&&St.tokenRefresher.isRunning()&&St.tokenRefresher.stop(),St.tokenObservers=Xt}function ot(yt){const{app:gt}=yt,St=B(gt);let Xt=St.tokenRefresher;Xt||(Xt=function Ze(yt){const{app:gt}=yt;return new le((0,Ve.Z)(function*(){let Xt;if(Xt=B(gt).token?yield Sn(yt,!0):yield Sn(yt),Xt.error)throw Xt.error;if(Xt.internalError)throw Xt.internalError}),()=>!0,()=>{const St=B(gt);if(St.token){let Xt=St.token.issuedAtTimeMillis+.5*(St.token.expireTimeMillis-St.token.issuedAtTimeMillis)+3e5;return Xt=Math.min(Xt,St.token.expireTimeMillis-3e5),Math.max(0,Xt-Date.now())}return 0},3e4,96e4)}(yt),St.tokenRefresher=Xt),!Xt.isRunning()&&St.isTokenAutoRefreshEnabled&&Xt.start()}function ht(yt,gt){const St=B(yt).tokenObservers;for(const Xt of St)try{"EXTERNAL"===Xt.type&&null!=gt.error?Xt.error(gt.error):Xt.next(gt)}catch(un){}}function Pt(yt){return yt.expireTimeMillis-Date.now()>0}function Mt(yt){return{token:zt(yn),error:yt}}class Vn{constructor(gt,St){this.app=gt,this.heartbeatServiceProvider=St}_delete(){const{tokenObservers:gt}=B(this.app);for(const St of gt)hr(this.app,St.next);return Promise.resolve()}}const Tr="app-check-internal";!function mi(){(0,tt._registerComponent)(new Ke.wA("app-check",yt=>function Qn(yt,gt){return new Vn(yt,gt)}(yt.getProvider("app").getImmediate(),yt.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((yt,gt,St)=>{yt.getProvider(Tr).initialize()})),(0,tt._registerComponent)(new Ke.wA(Tr,yt=>function br(yt){return{getToken:gt=>Sn(yt,gt),addTokenListener:gt=>function Xn(yt,gt,St,Xt){const{app:un}=yt,sr=B(un);if(sr.tokenObservers=[...sr.tokenObservers,{next:St,error:Xt,type:gt}],sr.token&&Pt(sr.token)){const Kn=sr.token;Promise.resolve().then(()=>{St({token:Kn.token}),ot(yt)}).catch(()=>{})}sr.cachedTokenPromise.then(()=>ot(yt))}(yt,"INTERNAL",gt),removeTokenListener:gt=>hr(yt.app,gt)}}(yt.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,tt.registerVersion)("@firebase/app-check","0.6.0")}();class ct{constructor(){return(0,c.vb)("app-check")}}typeof window<"u"&&window},3385:(gn,_t,$)=>{"use strict";$.d(_t,{zQ:()=>B,rT:()=>rt,f7:()=>ut,L6:()=>Ke,_Q:()=>Ne,lh:()=>ie,Qv:()=>tt,nw:()=>he});var c=$(4650),ne=$(7579),W=$(9646),Ue=$(9751),Le=$(8996),He=$(6451),we=$(5363),Se=$(3900),$e=$(4004),xe=$(3151),de=$(590),Te=$(576);function ze(Oe,et){return(0,Te.m)(et)?(0,Se.w)(()=>Oe,et):(0,Se.w)(()=>Oe)}var Xe=$(9468),vt=$(9300),lt=$(2122),at=$(2011),ye=$(6895),Ce=$(6217);$(9260);const tt=new c.OlP("angularfire2.auth.use-emulator"),Ke=new c.OlP("angularfire2.auth.settings"),Ne=new c.OlP("angularfire2.auth.tenant-id"),rt=new c.OlP("angularfire2.auth.langugage-code"),ie=new c.OlP("angularfire2.auth.use-device-language"),ut=new c.OlP("angularfire.auth.persistence"),he=(Oe,et,Rt,qt,qe,be,K,le)=>(0,at.cc)(`${Oe.name}.auth`,"AngularFireAuth",Oe.name,()=>{const ve=et.runOutsideAngular(()=>Oe.auth());if(Rt&&ve.useEmulator(...Rt),qt&&(ve.tenantId=qt),ve.languageCode=qe,be&&ve.useDeviceLanguage(),K)for(const[Me,Be]of Object.entries(K))ve.settings[Me]=Be;return le&&ve.setPersistence(le),ve},[Rt,qt,qe,be,K,le]);let B=(()=>{class Oe{constructor(Rt,qt,qe,be,K,le,ve,Me,Be,At,Ot,Bt){const Ht=new ne.x,An=(0,W.of)(void 0).pipe((0,we.Q)(K.outsideAngular),(0,Se.w)(()=>be.runOutsideAngular(()=>Promise.resolve().then($.bind($,9169)))),(0,$e.U)(()=>(0,at.on)(Rt,be,qt)),(0,$e.U)(vn=>he(vn,be,le,Me,Be,At,ve,Ot)),(0,xe.d)({bufferSize:1,refCount:!1}));if((0,ye.PM)(qe))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,W.of)(null);else{An.pipe((0,de.P)()).subscribe();const Pn=An.pipe((0,Se.w)(En=>En.getRedirectResult().then(zn=>zn,()=>null)),lt.iC,(0,xe.d)({bufferSize:1,refCount:!1})),Fn=An.pipe((0,Se.w)(En=>new Ue.y(zn=>({unsubscribe:be.runOutsideAngular(()=>En.onAuthStateChanged(Or=>zn.next(Or),Or=>zn.error(Or),()=>zn.complete()))})))),rn=An.pipe((0,Se.w)(En=>new Ue.y(zn=>({unsubscribe:be.runOutsideAngular(()=>En.onIdTokenChanged(Or=>zn.next(Or),Or=>zn.error(Or),()=>zn.complete()))}))));this.authState=Pn.pipe(ze(Fn),(0,Xe.R)(K.outsideAngular),(0,we.Q)(K.insideAngular)),this.user=Pn.pipe(ze(rn),(0,Xe.R)(K.outsideAngular),(0,we.Q)(K.insideAngular)),this.idToken=this.user.pipe((0,Se.w)(En=>En?(0,Le.D)(En.getIdToken()):(0,W.of)(null))),this.idTokenResult=this.user.pipe((0,Se.w)(En=>En?(0,Le.D)(En.getIdTokenResult()):(0,W.of)(null))),this.credential=(0,He.T)(Pn,Ht,this.authState.pipe((0,vt.h)(En=>!En))).pipe((0,$e.U)(En=>null!=En&&En.user?En:null),(0,Xe.R)(K.outsideAngular),(0,we.Q)(K.insideAngular))}return(0,at.pX)(this,An,be,{spy:{apply:(vn,Pn,Fn)=>{(vn.startsWith("signIn")||vn.startsWith("createUser"))&&Fn.then(rn=>Ht.next(rn))}}})}}return Oe.\u0275fac=function(Rt){return new(Rt||Oe)(c.LFG(at.Dh),c.LFG(at.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(lt.HU),c.LFG(tt,8),c.LFG(Ke,8),c.LFG(Ne,8),c.LFG(rt,8),c.LFG(ie,8),c.LFG(ut,8),c.LFG(Ce.nm,8))},Oe.\u0275prov=c.Yz7({token:Oe,factory:Oe.\u0275fac,providedIn:"any"}),Oe})()},3101:(gn,_t,$)=>{"use strict";$.d(_t,{ST:()=>Pp,yb:()=>B_});var c=$(4650),ne=$(4986),W=$(9751),Ue=$(8996),Le=$(9646),He=$(2122),we=$(8675),Se=$(4482),$e=$(5403);function xe(){return(0,Se.e)((i,e)=>{let t,a=!1;i.subscribe((0,$e.x)(e,h=>{const m=t;t=h,a&&e.next([m,h]),a=!0}))})}var ie,de=$(4004),Te=$(5026),ze=$(1884),Xe=$(9300),vt=$(2011),lt=$(6895),ye=($(9169),$(3942)),Ce=$(5861),wt=$(9681),Ve=$(4859),tt=$(1877),Ke=$(2090),Ne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},rt={},ut=ut||{},he=Ne||self;function B(){}function ke(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Oe(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Rt="closure_uid_"+(1e9*Math.random()>>>0),qt=0;function qe(i,e,t){return i.call.apply(i.bind,arguments)}function be(i,e,t){if(!i)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var h=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(h,a),i.apply(e,h)}}return function(){return i.apply(e,arguments)}}function K(i,e,t){return(K=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?qe:be).apply(null,arguments)}function le(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var a=t.slice();return a.push.apply(a,arguments),i.apply(this,a)}}function ve(i,e){function t(){}t.prototype=e.prototype,i.X=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Wb=function(a,h,m){for(var E=Array(arguments.length-2),R=2;R<arguments.length;R++)E[R-2]=arguments[R];return e.prototype[h].apply(a,E)}}function Me(){this.s=this.s,this.o=this.o}Me.prototype.s=!1,Me.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function et(i){Object.prototype.hasOwnProperty.call(i,Rt)&&i[Rt]||(i[Rt]=++qt)}(this)},Me.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const At=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function Ot(i){const e=i.length;if(0<e){const t=Array(e);for(let a=0;a<e;a++)t[a]=i[a];return t}return[]}function Bt(i,e){for(let t=1;t<arguments.length;t++){const a=arguments[t];if(ke(a)){const h=i.length||0,m=a.length||0;i.length=h+m;for(let E=0;E<m;E++)i[h+E]=a[E]}else i.push(a)}}function Ht(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Ht.prototype.h=function(){this.defaultPrevented=!0};var An=function(){if(!he.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{he.addEventListener("test",B,e),he.removeEventListener("test",B,e)}catch(t){}return i}();function vn(i){return/^[\s\xa0]*$/.test(i)}var Pn=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Fn(i,e){return i<e?-1:i>e?1:0}function rn(){var i=he.navigator;return i&&(i=i.userAgent)?i:""}function En(i){return-1!=rn().indexOf(i)}function zn(i){return zn[" "](i),i}zn[" "]=B;var rr,i,Yt=En("Opera"),wn=En("Trident")||En("MSIE"),fr=En("Edge"),ni=fr||wn,wr=En("Gecko")&&!(-1!=rn().toLowerCase().indexOf("webkit")&&!En("Edge"))&&!(En("Trident")||En("MSIE"))&&!En("Edge"),Kr=-1!=rn().toLowerCase().indexOf("webkit")&&!En("Edge");function ci(){var i=he.document;return i?i.documentMode:void 0}e:{var tr="",Hn=(i=rn(),wr?/rv:([^\);]+)(\)|;)/.exec(i):fr?/Edge\/([\d\.]+)/.exec(i):wn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Kr?/WebKit\/(\S+)/.exec(i):Yt?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Hn&&(tr=Hn?Hn[1]:""),wn){var Zn=ci();if(null!=Zn&&Zn>parseFloat(tr)){rr=String(Zn);break e}}rr=tr}var Jr={};var qr=he.document&&wn&&(ci()||parseInt(rr,10))||void 0;function vi(i,e){if(Ht.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,a=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(wr){e:{try{zn(e.nodeName);var h=!0;break e}catch(m){}h=!1}h||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,a?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Ir[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&vi.X.h.call(this)}}ve(vi,Ht);var Ir={2:"touch",3:"pen",4:"mouse"};vi.prototype.h=function(){vi.X.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var oi="closure_listenable_"+(1e6*Math.random()|0),ar=0;function er(i,e,t,a,h){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!a,this.ha=h,this.key=++ar,this.ba=this.ea=!1}function gr(i){i.ba=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function yn(i,e,t){for(const a in i)e.call(t,i[a],a,i)}function zt(i){const e={};for(const t in i)e[t]=i[t];return e}const Sn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nr(i,e){let t,a;for(let h=1;h<arguments.length;h++){for(t in a=arguments[h],a)i[t]=a[t];for(let m=0;m<Sn.length;m++)t=Sn[m],Object.prototype.hasOwnProperty.call(a,t)&&(i[t]=a[t])}}function Xn(i){this.src=i,this.g={},this.h=0}function hr(i,e){var t=e.type;if(t in i.g){var m,a=i.g[t],h=At(a,e);(m=0<=h)&&Array.prototype.splice.call(a,h,1),m&&(gr(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function ot(i,e,t,a){for(var h=0;h<i.length;++h){var m=i[h];if(!m.ba&&m.listener==e&&m.capture==!!t&&m.ha==a)return h}return-1}Xn.prototype.add=function(i,e,t,a,h){var m=i.toString();(i=this.g[m])||(i=this.g[m]=[],this.h++);var E=ot(i,e,a,h);return-1<E?(e=i[E],t||(e.ea=!1)):((e=new er(e,this.src,m,!!a,h)).ea=t,i.push(e)),e};var Ze="closure_lm_"+(1e6*Math.random()|0),ht={};function Pt(i,e,t,a,h){if(a&&a.once)return Qn(i,e,t,a,h);if(Array.isArray(e)){for(var m=0;m<e.length;m++)Pt(i,e[m],t,a,h);return null}return t=pe(t),i&&i[oi]?i.N(e,t,Oe(a)?!!a.capture:!!a,h):Mt(i,e,t,!1,a,h)}function Mt(i,e,t,a,h,m){if(!e)throw Error("Invalid event type");var E=Oe(h)?!!h.capture:!!h,R=it(i);if(R||(i[Ze]=R=new Xn(i)),(t=R.add(e,t,a,E,m)).proxy)return t;if(a=function Vn(){const e=Tt;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=a,a.src=i,a.listener=t,i.addEventListener)An||(h=E),void 0===h&&(h=!1),i.addEventListener(e.toString(),a,h);else if(i.attachEvent)i.attachEvent($r(e.toString()),a);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(a)}return t}function Qn(i,e,t,a,h){if(Array.isArray(e)){for(var m=0;m<e.length;m++)Qn(i,e[m],t,a,h);return null}return t=pe(t),i&&i[oi]?i.O(e,t,Oe(a)?!!a.capture:!!a,h):Mt(i,e,t,!0,a,h)}function br(i,e,t,a,h){if(Array.isArray(e))for(var m=0;m<e.length;m++)br(i,e[m],t,a,h);else a=Oe(a)?!!a.capture:!!a,t=pe(t),i&&i[oi]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=ot(m=i.g[e],t,a,h))&&(gr(m[t]),Array.prototype.splice.call(m,t,1),0==m.length&&(delete i.g[e],i.h--))):i&&(i=it(i))&&(e=i.g[e.toString()],i=-1,e&&(i=ot(e,t,a,h)),(t=-1<i?e[i]:null)&&ur(t))}function ur(i){if("number"!=typeof i&&i&&!i.ba){var e=i.src;if(e&&e[oi])hr(e.i,i);else{var t=i.type,a=i.proxy;e.removeEventListener?e.removeEventListener(t,a,i.capture):e.detachEvent?e.detachEvent($r(t),a):e.addListener&&e.removeListener&&e.removeListener(a),(t=it(e))?(hr(t,i),0==t.h&&(t.src=null,e[Ze]=null)):gr(i)}}}function $r(i){return i in ht?ht[i]:ht[i]="on"+i}function Tt(i,e){if(i.ba)i=!0;else{e=new vi(e,this);var t=i.listener,a=i.ha||i.src;i.ea&&ur(i),i=t.call(a,e)}return i}function it(i){return(i=i[Ze])instanceof Xn?i:null}var Z="__closure_events_fn_"+(1e9*Math.random()>>>0);function pe(i){return"function"==typeof i?i:(i[Z]||(i[Z]=function(e){return i.handleEvent(e)}),i[Z])}function Ye(){Me.call(this),this.i=new Xn(this),this.P=this,this.I=null}function pt(i,e){var t,a=i.I;if(a)for(t=[];a;a=a.I)t.push(a);if(i=i.P,a=e.type||e,"string"==typeof e)e=new Ht(e,i);else if(e instanceof Ht)e.target=e.target||i;else{var h=e;nr(e=new Ht(a,i),h)}if(h=!0,t)for(var m=t.length-1;0<=m;m--){var E=e.g=t[m];h=Lt(E,a,!0,e)&&h}if(h=Lt(E=e.g=i,a,!0,e)&&h,h=Lt(E,a,!1,e)&&h,t)for(m=0;m<t.length;m++)h=Lt(E=e.g=t[m],a,!1,e)&&h}function Lt(i,e,t,a){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var h=!0,m=0;m<e.length;++m){var E=e[m];if(E&&!E.ba&&E.capture==t){var R=E.listener,Y=E.ha||E.src;E.ea&&hr(i.i,E),h=!1!==R.call(Y,a)&&h}}return h&&!a.defaultPrevented}ve(Ye,Me),Ye.prototype[oi]=!0,Ye.prototype.removeEventListener=function(i,e,t,a){br(this,i,e,t,a)},Ye.prototype.M=function(){if(Ye.X.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],a=0;a<t.length;a++)gr(t[a]);delete i.g[e],i.h--}}this.I=null},Ye.prototype.N=function(i,e,t,a){return this.i.add(String(i),e,!1,t,a)},Ye.prototype.O=function(i,e,t,a){return this.i.add(String(i),e,!0,t,a)};var en=he.JSON.stringify;function tn(){var i=Fr;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var di,hn=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new Rn,i=>i.reset());class Rn{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Dr(i){he.setTimeout(()=>{throw i},0)}function Yr(i,e){di||function mr(){var i=he.Promise.resolve(void 0);di=function(){i.then(Si)}}(),Er||(di(),Er=!0),Fr.add(i,e)}var Er=!1,Fr=new class Cn{constructor(){this.h=this.g=null}add(e,t){const a=hn.get();a.set(e,t),this.h?this.h.next=a:this.g=a,this.h=a}};function Si(){for(var i;i=tn();){try{i.h.call(i.g)}catch(t){Dr(t)}var e=hn;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Er=!1}function pr(i,e){Ye.call(this),this.h=i||1,this.g=e||he,this.j=K(this.lb,this),this.l=Date.now()}function hi(i){i.ca=!1,i.R&&(i.g.clearTimeout(i.R),i.R=null)}function Dn(i,e,t){if("function"==typeof i)t&&(i=K(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=K(i.handleEvent,i)}return 2147483647<Number(e)?-1:he.setTimeout(i,e||0)}function ir(i){i.g=Dn(()=>{i.g=null,i.i&&(i.i=!1,ir(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}ve(pr,Ye),(ie=pr.prototype).ca=!1,ie.R=null,ie.lb=function(){if(this.ca){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-i):(this.R&&(this.g.clearTimeout(this.R),this.R=null),pt(this,"tick"),this.ca&&(hi(this),this.start()))}},ie.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ie.M=function(){pr.X.M.call(this),hi(this),delete this.g};class Tr extends Me{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ir(this)}M(){super.M(),this.g&&(he.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mi(i){Me.call(this),this.h=i,this.g={}}ve(mi,Me);var Li=[];function Ie(i,e,t,a){Array.isArray(t)||(t&&(Li[0]=t.toString()),t=Li);for(var h=0;h<t.length;h++){var m=Pt(e,t[h],a||i.handleEvent,!1,i.h||i);if(!m)break;i.g[m.key]=m}}function ct(i){yn(i.g,function(e,t){this.g.hasOwnProperty(t)&&ur(e)},i),i.g={}}function N(){this.g=!0}function ae(i,e,t,a){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ue(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var a=t[i];if(!(2>a.length)){var h=a[1];if(Array.isArray(h)&&!(1>h.length)){var m=h[0];if("noop"!=m&&"stop"!=m&&"close"!=m)for(var E=1;E<h.length;E++)h[E]=""}}}return en(t)}catch(R){return e}}(i,t)+(a?" "+a:"")})}mi.prototype.M=function(){mi.X.M.call(this),ct(this)},mi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},N.prototype.Aa=function(){this.g=!1},N.prototype.info=function(){};var Fe={},We=null;function dt(){return We=We||new Ye}function bt(i){Ht.call(this,Fe.Pa,i)}function Kt(i){const e=dt();pt(e,new bt(e))}function sn(i,e){Ht.call(this,Fe.STAT_EVENT,i),this.stat=e}function mn(i){const e=dt();pt(e,new sn(e,i))}function vr(i,e){Ht.call(this,Fe.Qa,i),this.size=e}function kn(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return he.setTimeout(function(){i()},e)}Fe.Pa="serverreachability",ve(bt,Ht),Fe.STAT_EVENT="statevent",ve(sn,Ht),Fe.Qa="timingevent",ve(vr,Ht);var yt={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},gt={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function St(){}function un(){}St.prototype.h=null;var Un,sr={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function xn(){Ht.call(this,"d")}function Kn(){Ht.call(this,"c")}function ai(){}function xr(i,e,t,a){this.l=i,this.j=e,this.m=t,this.U=a||1,this.S=new mi(this),this.O=ws,this.T=new pr(i=ni?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new ki}function ki(){this.i=null,this.g="",this.h=!1}ve(xn,Ht),ve(Kn,Ht),ve(ai,St),ai.prototype.g=function(){return new XMLHttpRequest},ai.prototype.i=function(){return{}},Un=new ai;var ws=45e3,Zi={},Ai={};function yi(i,e,t){i.K=1,i.v=Wi(Us(e)),i.s=t,i.P=!0,Nr(i,null)}function Nr(i,e){i.F=Date.now(),Ni(i),i.A=Us(i.v);var t=i.A,a=i.U;Array.isArray(a)||(a=[String(a)]),go(t.i,"t",a),i.C=0,t=i.l.H,i.h=new ki,i.g=fa(i.l,t?e:null,!i.s),0<i.N&&(i.L=new Tr(K(i.La,i,i.g),i.N)),Ie(i.S,i.g,"readystatechange",i.ib),e=i.H?zt(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.da(i.A,i.u,i.s,e)):(i.u="GET",i.g.da(i.A,i.u,null,e)),Kt(),function J(i,e,t,a,h,m){i.info(function(){if(i.g)if(m)for(var E="",R=m.split("&"),Y=0;Y<R.length;Y++){var se=R[Y].split("=");if(1<se.length){var Pe=se[0];se=se[1];var ft=Pe.split("_");E=2<=ft.length&&"type"==ft[1]?E+(Pe+"=")+se+"&":E+(Pe+"=redacted&")}}else E=null;else E=m;return"XMLHTTP REQ ("+a+") [attempt "+h+"]: "+e+"\n"+t+"\n"+E})}(i.j,i.u,i.A,i.m,i.U,i.s)}function Hi(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Da}function Gi(i,e,t){let h,a=!0;for(;!i.I&&i.C<t.length;){if(h=Ss(i,t),h==Ai){4==e&&(i.o=4,mn(14),a=!1),ae(i.j,i.m,null,"[Incomplete Response]");break}if(h==Zi){i.o=4,mn(15),ae(i.j,i.m,t,"[Invalid Chunk]"),a=!1;break}ae(i.j,i.m,h,null),rs(i,h)}Hi(i)&&h!=Ai&&h!=Zi&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,mn(16),a=!1),i.i=i.i&&a,a?0<t.length&&!i.$&&(i.$=!0,(e=i.l).g==i&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Sl(e),e.K=!0,mn(11))):(ae(i.j,i.m,t,"[Invalid Chunked Response]"),Ws(i),Is(i))}function Ss(i,e){var t=i.C,a=e.indexOf("\n",t);return-1==a?Ai:(t=Number(e.substring(t,a)),isNaN(t)?Zi:(a+=1)+t>e.length?Ai:(e=e.substr(a,t),i.C=a+t,e))}function Ni(i){i.V=Date.now()+i.O,ho(i,i.O)}function ho(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=kn(K(i.gb,i),e)}function Vs(i){i.B&&(he.clearTimeout(i.B),i.B=null)}function Is(i){0==i.l.G||i.I||Vl(i.l,i)}function Ws(i){Vs(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,hi(i.T),ct(i.S),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function rs(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||js(t.h,i)))if(!i.J&&js(t.h,i)&&3==t.G){try{var a=t.Fa.g.parse(e)}catch(se){a=null}if(Array.isArray(a)&&3==a.length){var h=a;if(0==h[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<i.F))break e;ha(t),ll(t)}Va(t),mn(18)}}else t.Ba=h[1],0<t.Ba-t.T&&37500>h[2]&&t.L&&0==t.A&&!t.v&&(t.v=kn(K(t.cb,t),6e3));if(1>=_i(t.h)&&t.ja){try{t.ja()}catch(se){}t.ja=void 0}}else Xs(t,11)}else if((i.J||t.g==i)&&ha(t),!vn(e))for(h=t.Fa.g.parse(e),e=0;e<h.length;e++){let se=h[e];if(t.T=se[0],se=se[1],2==t.G)if("c"==se[0]){t.I=se[1],t.ka=se[2];const Pe=se[3];null!=Pe&&(t.ma=Pe,t.j.info("VER="+t.ma));const ft=se[4];null!=ft&&(t.Ca=ft,t.j.info("SVER="+t.Ca));const $t=se[5];null!=$t&&"number"==typeof $t&&0<$t&&(t.J=a=1.5*$t,t.j.info("backChannelRequestTimeoutMs_="+a)),a=t;const an=i.g;if(an){const In=an.g?an.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(In){var m=a.h;m.g||-1==In.indexOf("spdy")&&-1==In.indexOf("quic")&&-1==In.indexOf("h2")||(m.j=m.l,m.g=new Set,m.h&&(Qi(m,m.h),m.h=null))}if(a.D){const dr=an.g?an.g.getResponseHeader("X-HTTP-Session-Id"):null;dr&&(a.za=dr,bi(a.F,a.D,dr))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-i.F,t.j.info("Handshake RTT: "+t.P+"ms"));var E=i;if((a=t).sa=hu(a,a.H?a.ka:null,a.V),E.J){I(a.h,E);var R=E,Y=a.J;Y&&R.setTimeout(Y),R.B&&(Vs(R),Ni(R)),a.g=E}else ul(a);0<t.i.length&&es(t)}else"stop"!=se[0]&&"close"!=se[0]||Xs(t,7);else 3==t.G&&("stop"==se[0]||"close"==se[0]?"stop"==se[0]?Xs(t,7):Go(t):"noop"!=se[0]&&t.l&&t.l.wa(se),t.A=0)}Kt()}catch(se){}}function fo(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(ke(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function zi(i){if(i.oa&&"function"==typeof i.oa)return i.oa();if(!i.W||"function"!=typeof i.W){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(ke(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const a in i)e[t++]=a;return e}}}(i),a=function lo(i){if(i.W&&"function"==typeof i.W)return i.W();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(ke(i)){for(var e=[],t=i.length,a=0;a<t;a++)e.push(i[a]);return e}for(a in e=[],t=0,i)e[t++]=i[a];return e}(i),h=a.length,m=0;m<h;m++)e.call(void 0,a[m],t&&t[m],i)}(ie=xr.prototype).setTimeout=function(i){this.O=i},ie.ib=function(i){i=i.target;const e=this.L;e&&3==yo(i)?e.l():this.La(i)},ie.La=function(i){try{if(i==this.g)e:{const Pe=yo(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>Pe)&&(3!=Pe||ni||this.g&&(this.h.h||this.g.fa()||vo(this.g)))){this.I||4!=Pe||7==e||Kt(),Vs(this);var t=this.g.aa();this.Y=t;t:if(Hi(this)){var a=vo(this.g);i="";var h=a.length,m=4==yo(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ws(this),Is(this);var E="";break t}this.h.i=new he.TextDecoder}for(e=0;e<h;e++)this.h.h=!0,i+=this.h.i.decode(a[e],{stream:m&&e==h-1});a.splice(0,h),this.h.g+=i,this.C=0,E=this.h.g}else E=this.g.fa();if(this.i=200==t,function me(i,e,t,a,h,m,E){i.info(function(){return"XMLHTTP RESP ("+a+") [ attempt "+h+"]: "+e+"\n"+t+"\n"+m+" "+E})}(this.j,this.u,this.A,this.m,this.U,Pe,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var R,Y=this.g;if((R=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vn(R)){var se=R;break t}}se=null}if(!(t=se)){this.i=!1,this.o=3,mn(12),Ws(this),Is(this);break e}ae(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,rs(this,t)}this.P?(Gi(this,Pe,E),ni&&this.i&&3==Pe&&(Ie(this.S,this.T,"tick",this.hb),this.T.start())):(ae(this.j,this.m,E,null),rs(this,E)),4==Pe&&Ws(this),this.i&&!this.I&&(4==Pe?Vl(this.l,this):(this.i=!1,Ni(this)))}else 400==t&&0<E.indexOf("Unknown SID")?(this.o=3,mn(12)):(this.o=0,mn(13)),Ws(this),Is(this)}}}catch(Pe){}},ie.hb=function(){if(this.g){var i=yo(this.g),e=this.g.fa();this.C<e.length&&(Vs(this),Gi(this,i,e),this.i&&4!=i&&Ni(this))}},ie.cancel=function(){this.I=!0,Ws(this)},ie.gb=function(){this.B=null;const i=Date.now();0<=i-this.V?(function Je(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Kt(),mn(17)),Ws(this),this.o=2,Is(this)):ho(this,this.V-i)};var Po=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ri(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Ri){this.h=void 0!==e?e:i.h,Ks(this,i.j),this.s=i.s,this.g=i.g,ds(this,i.m),this.l=i.l,e=i.i;var t=new po;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Ar(this,t),this.o=i.o}else i&&(t=String(i).match(Po))?(this.h=!!e,Ks(this,t[1]||"",!0),this.s=is(t[2]||""),this.g=is(t[3]||"",!0),ds(this,t[4]),this.l=is(t[5]||"",!0),Ar(this,t[6]||"",!0),this.o=is(t[7]||"")):(this.h=!!e,this.i=new po(null,this.h))}function Us(i){return new Ri(i)}function Ks(i,e,t){i.j=t?is(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function ds(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Ar(i,e,t){e instanceof po?(i.i=e,function Do(i,e){e&&!i.j&&(As(i),i.i=null,i.g.forEach(function(t,a){var h=a.toLowerCase();a!=h&&(xi(this,a),go(this,h,t))},i)),i.j=e}(i.i,i.h)):(t||(e=Oi(e,la)),i.i=new po(e,i.h))}function bi(i,e,t){i.i.set(e,t)}function Wi(i){return bi(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function is(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Oi(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,qs),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function qs(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Ri.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Oi(e,$i,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Oi(e,$i,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(Oi(t,"/"==t.charAt(0)?Ki:Ys,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",Oi(t,ko)),i.join("")};var $i=/[#\/\?@]/g,Ys=/[#\?:]/g,Ki=/[#\?]/g,la=/[#\?@]/g,ko=/#/g;function po(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function As(i){i.g||(i.g=new Map,i.h=0,i.i&&function Ba(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var a=i[t].indexOf("="),h=null;if(0<=a){var m=i[t].substring(0,a);h=i[t].substring(a+1)}else m=i[t];e(m,h?decodeURIComponent(h.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function xi(i,e){As(i),e=hs(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function Xi(i,e){return As(i),e=hs(i,e),i.g.has(e)}function go(i,e,t){xi(i,e),0<t.length&&(i.i=null,i.g.set(hs(i,e),Ot(t)),i.h+=t.length)}function hs(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function al(i){this.l=i||Ei,i=he.PerformanceNavigationTiming?0<(i=he.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(he.g&&he.g.Ga&&he.g.Ga()&&he.g.Ga().$b),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ie=po.prototype).add=function(i,e){As(this),this.i=null,i=hs(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},ie.forEach=function(i,e){As(this),this.g.forEach(function(t,a){t.forEach(function(h){i.call(e,h,a,this)},this)},this)},ie.oa=function(){As(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let a=0;a<e.length;a++){const h=i[a];for(let m=0;m<h.length;m++)t.push(e[a])}return t},ie.W=function(i){As(this);let e=[];if("string"==typeof i)Xi(this,i)&&(e=e.concat(this.g.get(hs(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},ie.set=function(i,e){return As(this),this.i=null,Xi(this,i=hs(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},ie.get=function(i,e){return i&&0<(i=this.W(i)).length?String(i[0]):e},ie.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var a=e[t];const m=encodeURIComponent(String(a)),E=this.W(a);for(a=0;a<E.length;a++){var h=m;""!==E[a]&&(h+="="+encodeURIComponent(String(E[a]))),i.push(h)}}return this.i=i.join("&")};var Ei=10;function ua(i){return!!i.h||!!i.g&&i.g.size>=i.j}function _i(i){return i.h?1:i.g?i.g.size:0}function js(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Qi(i,e){i.g?i.g.add(e):i.h=e}function I(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function X(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return Ot(i.i)}function w(){}function G(){this.g=new w}function Re(i,e,t){const a=t||"";try{fo(i,function(h,m){let E=h;Oe(h)&&(E=en(h)),e.push(a+m+"="+encodeURIComponent(E))})}catch(h){throw e.push(a+"type="+encodeURIComponent("_badmap")),h}}function j(i,e,t,a,h){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,h(a)}catch(m){}}function F(i){this.l=i.ac||null,this.j=i.jb||!1}function P(i,e){Ye.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=oe,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}al.prototype.cancel=function(){if(this.i=X(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},w.prototype.stringify=function(i){return he.JSON.stringify(i,void 0)},w.prototype.parse=function(i){return he.JSON.parse(i,void 0)},ve(F,St),F.prototype.g=function(){return new P(this.l,this.j)},F.prototype.i=function(i){return function(){return i}}({}),ve(P,Ye);var oe=0;function mt(i){i.j.read().then(i.Ta.bind(i)).catch(i.ga.bind(i))}function nn(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Zr(i)}function Zr(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(ie=P.prototype).open=function(i,e){if(this.readyState!=oe)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Zr(this)},ie.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||he).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},ie.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,nn(this)),this.readyState=oe},ie.Wa=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Zr(this)),this.g&&(this.readyState=3,Zr(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof he.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;mt(this)}else i.text().then(this.Va.bind(this),this.ga.bind(this))},ie.Ta=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?nn(this):Zr(this),3==this.readyState&&mt(this)}},ie.Va=function(i){this.g&&(this.response=this.responseText=i,nn(this))},ie.Ua=function(i){this.g&&(this.response=i,nn(this))},ie.ga=function(){this.g&&nn(this)},ie.setRequestHeader=function(i,e){this.v.append(i,e)},ie.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},ie.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(P.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Ji=he.JSON.parse;function Xr(i){Ye.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Rs,this.K=this.L=!1}ve(Xr,Ye);var Rs="",Hs=/^https?$/i,Bl=["POST","PUT"];function on(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,li(i),ca(i)}function li(i){i.D||(i.D=!0,pt(i,"complete"),pt(i,"error"))}function ba(i){if(i.h&&typeof ut<"u"&&(!i.C[1]||4!=yo(i)||2!=i.aa()))if(i.v&&4==yo(i))Dn(i.Ha,0,i);else if(pt(i,"readystatechange"),4==yo(i)){i.h=!1;try{const R=i.aa();e:switch(R){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var a;if(a=0===R){var h=String(i.H).match(Po)[1]||null;if(!h&&he.self&&he.self.location){var m=he.self.location.protocol;h=m.substr(0,m.length-1)}a=!Hs.test(h?h.toLowerCase():"")}t=a}if(t)pt(i,"complete"),pt(i,"success");else{i.m=6;try{var E=2<yo(i)?i.g.statusText:""}catch(Y){E=""}i.j=E+" ["+i.aa()+"]",li(i)}}finally{ca(i)}}}function ca(i,e){if(i.g){fs(i);const t=i.g,a=i.C[0]?B:null;i.g=null,i.C=null,e||pt(i,"ready");try{t.onreadystatechange=a}catch(h){}}}function fs(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(he.clearTimeout(i.A),i.A=null)}function yo(i){return i.g?i.g.readyState:0}function vo(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case Rs:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Cs(i){let e="";return yn(i,function(t,a){e+=a,e+=":",e+=t,e+="\r\n"}),e}function da(i,e,t){e:{for(a in t){var a=!1;break e}a=!0}a||(t=Cs(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):bi(i,e,t))}function Ho(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function Ca(i){this.Ca=0,this.i=[],this.j=new N,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Ho("failFast",!1,i),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Ho("baseRetryDelayMs",5e3,i),this.bb=Ho("retryDelaySeedMs",1e4,i),this.$a=Ho("forwardChannelMaxRetries",2,i),this.ta=Ho("forwardChannelRequestTimeoutMs",2e4,i),this.ra=i&&i.xmlHttpFactory||void 0,this.Da=i&&i.Zb||!1,this.J=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.I="",this.h=new al(i&&i.concurrentRequestLimit),this.Fa=new G,this.O=i&&i.fastHandshake||!1,this.N=i&&i.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=i&&i.Xb||!1,i&&i.Aa&&this.j.Aa(),i&&i.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&i&&i.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Go(i){if(To(i),3==i.G){var e=i.U++,t=Us(i.F);bi(t,"SID",i.I),bi(t,"RID",e),bi(t,"TYPE","terminate"),Os(i,t),(e=new xr(i,i.j,e,void 0)).K=2,e.v=Wi(Us(t)),t=!1,he.navigator&&he.navigator.sendBeacon&&(t=he.navigator.sendBeacon(e.v.toString(),"")),!t&&he.Image&&((new Image).src=e.v,t=!0),t||(e.g=fa(e.l,null),e.g.da(e.v)),e.F=Date.now(),Ni(e)}du(i)}function ll(i){i.g&&(Sl(i),i.g.cancel(),i.g=null)}function To(i){ll(i),i.u&&(he.clearTimeout(i.u),i.u=null),ha(i),i.h.cancel(),i.m&&("number"==typeof i.m&&he.clearTimeout(i.m),i.m=null)}function es(i){ua(i.h)||i.m||(i.m=!0,Yr(i.Ja,i),i.C=0)}function Da(i,e){var t;t=e?e.m:i.U++;const a=Us(i.F);bi(a,"SID",i.I),bi(a,"RID",t),bi(a,"AID",i.T),Os(i,a),i.o&&i.s&&da(a,i.o,i.s),t=new xr(i,i.j,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.i=e.D.concat(i.i)),e=_o(i,t,1e3),t.setTimeout(Math.round(.5*i.ta)+Math.round(.5*i.ta*Math.random())),Qi(i.h,t),yi(t,a,e)}function Os(i,e){i.ia&&yn(i.ia,function(t,a){bi(e,a,t)}),i.l&&fo({},function(t,a){bi(e,a,t)})}function _o(i,e,t){t=Math.min(i.i.length,t);var a=i.l?K(i.l.Ra,i.l,i):null;e:{var h=i.i;let m=-1;for(;;){const E=["count="+t];-1==m?0<t?(m=h[0].h,E.push("ofs="+m)):m=0:E.push("ofs="+m);let R=!0;for(let Y=0;Y<t;Y++){let se=h[Y].h;const Pe=h[Y].g;if(se-=m,0>se)m=Math.max(0,h[Y].h-100),R=!1;else try{Re(Pe,E,"req"+se+"_")}catch(ft){a&&a(Pe)}}if(R){a=E.join("&");break e}}}return i=i.i.splice(0,t),e.D=i,a}function ul(i){i.g||i.u||(i.Z=1,Yr(i.Ia,i),i.A=0)}function Va(i){return!(i.g||i.u||3<=i.A||(i.Z++,i.u=kn(K(i.Ia,i),Ps(i,i.A)),i.A++,0))}function Sl(i){null!=i.B&&(he.clearTimeout(i.B),i.B=null)}function Ua(i){i.g=new xr(i,i.j,"rpc",i.Z),null===i.o&&(i.g.H=i.s),i.g.N=0;var e=Us(i.sa);bi(e,"RID","rpc"),bi(e,"SID",i.I),bi(e,"CI",i.L?"0":"1"),bi(e,"AID",i.T),bi(e,"TYPE","xmlhttp"),Os(i,e),i.o&&i.s&&da(e,i.o,i.s),i.J&&i.g.setTimeout(i.J);var t=i.g;i=i.ka,t.K=1,t.v=Wi(Us(e)),t.s=null,t.P=!0,Nr(t,i)}function ha(i){null!=i.v&&(he.clearTimeout(i.v),i.v=null)}function Vl(i,e){var t=null;if(i.g==e){ha(i),Sl(i),i.g=null;var a=2}else{if(!js(i.h,e))return;t=e.D,I(i.h,e),a=1}if(0!=i.G)if(i.pa=e.Y,e.i)if(1==a){t=e.s?e.s.length:0,e=Date.now()-e.F;var h=i.C;pt(a=dt(),new vr(a,t)),es(i)}else ul(i);else if(3==(h=e.o)||0==h&&0<i.pa||!(1==a&&function Zs(i,e){return!(_i(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.D.concat(i.i),0):1==i.G||2==i.G||i.C>=(i.Za?0:i.$a)||(i.m=kn(K(i.Ja,i,e),Ps(i,i.C)),i.C++,0)))}(i,e)||2==a&&Va(i)))switch(t&&0<t.length&&(e=i.h,e.i=e.i.concat(t)),h){case 1:Xs(i,5);break;case 4:Xs(i,10);break;case 3:Xs(i,6);break;default:Xs(i,2)}}function Ps(i,e){let t=i.Xa+Math.floor(Math.random()*i.bb);return i.l||(t*=2),t*e}function Xs(i,e){if(i.j.info("Error code "+e),2==e){var t=null;i.l&&(t=null);var a=K(i.kb,i);t||(t=new Ri("//www.google.com/images/cleardot.gif"),he.location&&"http"==he.location.protocol||Ks(t,"https"),Wi(t)),function Ct(i,e){const t=new N;if(he.Image){const a=new Image;a.onload=le(j,t,a,"TestLoadImage: loaded",!0,e),a.onerror=le(j,t,a,"TestLoadImage: error",!1,e),a.onabort=le(j,t,a,"TestLoadImage: abort",!1,e),a.ontimeout=le(j,t,a,"TestLoadImage: timeout",!1,e),he.setTimeout(function(){a.ontimeout&&a.ontimeout()},1e4),a.src=i}else e(!1)}(t.toString(),a)}else mn(2);i.G=0,i.l&&i.l.va(e),du(i),To(i)}function du(i){if(i.G=0,i.la=[],i.l){const e=X(i.h);(0!=e.length||0!=i.i.length)&&(Bt(i.la,e),Bt(i.la,i.i),i.h.i.length=0,Ot(i.i),i.i.length=0),i.l.ua()}}function hu(i,e,t){var a=t instanceof Ri?Us(t):new Ri(t,void 0);if(""!=a.g)e&&(a.g=e+"."+a.g),ds(a,a.m);else{var h=he.location;a=h.protocol,e=e?e+"."+h.hostname:h.hostname,h=+h.port;var m=new Ri(null,void 0);a&&Ks(m,a),e&&(m.g=e),h&&ds(m,h),t&&(m.l=t),a=m}return e=i.za,(t=i.D)&&e&&bi(a,t,e),bi(a,"VER",i.ma),Os(i,a),a}function fa(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Xr(t&&i.Da&&!i.ra?new F({jb:!0}):i.ra)).Ka(i.H),e}function cl(){}function zo(){if(wn&&!(10<=Number(qr)))throw Error("Environmental error: no available transport.")}function ss(i,e){Ye.call(this),this.g=new Ca(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.S=i,(i=e&&e.Yb)&&!vn(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!vn(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new os(this)}function Gs(i){xn.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function ja(){Kn.call(this),this.status=1}function os(i){this.g=i}(ie=Xr.prototype).Ka=function(i){this.L=i},ie.da=function(i,e,t,a){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Un.g(),this.C=function Xt(i){return i.h||(i.h=i.i())}(this.u?this.u:Un),this.g.onreadystatechange=K(this.Ha,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(m){return void on(this,m)}if(i=t||"",t=new Map(this.headers),a)if(Object.getPrototypeOf(a)===Object.prototype)for(var h in a)t.set(h,a[h]);else{if("function"!=typeof a.keys||"function"!=typeof a.get)throw Error("Unknown input type for opt_headers: "+String(a));for(const m of a.keys())t.set(m,a.get(m))}a=Array.from(t.keys()).find(m=>"content-type"==m.toLowerCase()),h=he.FormData&&i instanceof he.FormData,!(0<=At(Bl,e))||a||h||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[m,E]of t)this.g.setRequestHeader(m,E);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{fs(this),0<this.B&&((this.K=function mo(i){return wn&&function Pr(){return function Or(i){var e=Jr;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=Pn(String(rr)).split("."),t=Pn("9").split("."),a=Math.max(e.length,t.length);for(let E=0;0==i&&E<a;E++){var h=e[E]||"",m=t[E]||"";do{if(h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],m=/(\d*)(\D*)(.*)/.exec(m)||["","","",""],0==h[0].length&&0==m[0].length)break;i=Fn(0==h[1].length?0:parseInt(h[1],10),0==m[1].length?0:parseInt(m[1],10))||Fn(0==h[2].length,0==m[2].length)||Fn(h[2],m[2]),h=h[3],m=m[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=K(this.qa,this)):this.A=Dn(this.qa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(m){on(this,m)}},ie.qa=function(){typeof ut<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,pt(this,"timeout"),this.abort(8))},ie.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,pt(this,"complete"),pt(this,"abort"),ca(this))},ie.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ca(this,!0)),Xr.X.M.call(this)},ie.Ha=function(){this.s||(this.F||this.v||this.l?ba(this):this.fb())},ie.fb=function(){ba(this)},ie.aa=function(){try{return 2<yo(this)?this.g.status:-1}catch(i){return-1}},ie.fa=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},ie.Sa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Ji(e)}},ie.Ea=function(){return this.m},ie.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ie=Ca.prototype).ma=8,ie.G=1,ie.Ja=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const h=new xr(this,this.j,i,void 0);let m=this.s;if(this.S&&(m?(m=zt(m),nr(m,this.S)):m=this.S),null!==this.o||this.N||(h.H=m,m=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var a=this.i[t];if(void 0===(a="__data__"in a.g&&"string"==typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(e+=a)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=_o(this,h,e),bi(t=Us(this.F),"RID",i),bi(t,"CVER",22),this.D&&bi(t,"X-HTTP-Session-Id",this.D),Os(this,t),m&&(this.N?e="headers="+encodeURIComponent(String(Cs(m)))+"&"+e:this.o&&da(t,this.o,m)),Qi(this.h,h),this.Ya&&bi(t,"TYPE","init"),this.O?(bi(t,"$req",e),bi(t,"SID","null"),h.Z=!0,yi(h,t,null)):yi(h,t,e),this.G=2}}else 3==this.G&&(i?Da(this,i):0==this.i.length||ua(this.h)||Da(this))},ie.Ia=function(){if(this.u=null,Ua(this),this.$&&!(this.K||null==this.g||0>=this.P)){var i=2*this.P;this.j.info("BP detection timer enabled: "+i),this.B=kn(K(this.eb,this),i)}},ie.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,mn(10),ll(this),Ua(this))},ie.cb=function(){null!=this.v&&(this.v=null,ll(this),Va(this),mn(19))},ie.kb=function(i){i?(this.j.info("Successfully pinged google.com"),mn(2)):(this.j.info("Failed to ping google.com"),mn(1))},(ie=cl.prototype).xa=function(){},ie.wa=function(){},ie.va=function(){},ie.ua=function(){},ie.Ra=function(){},zo.prototype.g=function(i,e){return new ss(i,e)},ve(ss,Ye),ss.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;mn(0),i.V=e,i.ia=t||{},i.L=i.Y,i.F=hu(i,null,i.V),es(i)},ss.prototype.close=function(){Go(this.g)},ss.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=en(i),i=t);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.ab++,i)),3==e.G&&es(e)},ss.prototype.M=function(){this.g.l=null,delete this.j,Go(this.g),delete this.g,ss.X.M.call(this)},ve(Gs,xn),ve(ja,Kn),ve(os,cl),os.prototype.xa=function(){pt(this.g,"a")},os.prototype.wa=function(i){pt(this.g,new Gs(i))},os.prototype.va=function(i){pt(this.g,new ja)},os.prototype.ua=function(){pt(this.g,"b")},zo.prototype.createWebChannel=zo.prototype.g,ss.prototype.send=ss.prototype.u,ss.prototype.open=ss.prototype.m,ss.prototype.close=ss.prototype.close,yt.NO_ERROR=0,yt.TIMEOUT=8,yt.HTTP_ERROR=6,gt.COMPLETE="complete",un.EventType=sr,sr.OPEN="a",sr.CLOSE="b",sr.ERROR="c",sr.MESSAGE="d",Ye.prototype.listen=Ye.prototype.N,Xr.prototype.listenOnce=Xr.prototype.O,Xr.prototype.getLastError=Xr.prototype.Oa,Xr.prototype.getLastErrorCode=Xr.prototype.Ea,Xr.prototype.getStatus=Xr.prototype.aa,Xr.prototype.getResponseJson=Xr.prototype.Sa,Xr.prototype.getResponseText=Xr.prototype.fa,Xr.prototype.send=Xr.prototype.da,Xr.prototype.setWithCredentials=Xr.prototype.Ka;var L=rt.createWebChannelTransport=function(){return new zo},ee=rt.getStatEventTarget=function(){return dt()},U=rt.ErrorCode=yt,ce=rt.EventType=gt,nt=rt.Event=Fe,Gt=rt.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Zt=rt.FetchXmlHttpFactory=F,qn=rt.WebChannel=un,fi=rt.XhrIo=Xr;const ui="@firebase/firestore";class Gn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gn.UNAUTHENTICATED=new Gn(null),Gn.GOOGLE_CREDENTIALS=new Gn("google-credentials-uid"),Gn.FIRST_PARTY=new Gn("first-party-uid"),Gn.MOCK_USER=new Gn("mock-user");let or="9.15.0";const ri=new tt.Yd("@firebase/firestore");function Ci(){return ri.logLevel}function cn(i,...e){if(ri.logLevel<=tt.in.DEBUG){const t=e.map(as);ri.debug(`Firestore (${or}): ${i}`,...t)}}function jr(i,...e){if(ri.logLevel<=tt.in.ERROR){const t=e.map(as);ri.error(`Firestore (${or}): ${i}`,...t)}}function qi(i,...e){if(ri.logLevel<=tt.in.WARN){const t=e.map(as);ri.warn(`Firestore (${or}): ${i}`,...t)}}function as(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(t){return i}}function Tn(i="Unexpected state"){const e=`FIRESTORE (${or}) INTERNAL ASSERTION FAILED: `+i;throw jr(e),new Error(e)}function Yn(i,e){i||Tn()}function jn(i,e){return i}const Wt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fn extends Ke.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ys{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class dl{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $u{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Gn.UNAUTHENTICATED))}shutdown(){}}class No{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Ha{constructor(e){this.t=e,this.currentUser=Gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var a=this;let h=this.i;const m=se=>this.i!==h?(h=this.i,t(se)):Promise.resolve();let E=new ys;this.o=()=>{this.i++,this.currentUser=this.u(),E.resolve(),E=new ys,e.enqueueRetryable(()=>m(this.currentUser))};const R=()=>{const se=E;e.enqueueRetryable((0,Ce.Z)(function*(){yield se.promise,yield m(a.currentUser)}))},Y=se=>{cn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=se,this.auth.addAuthTokenListener(this.o),R()};this.t.onInit(se=>Y(se)),setTimeout(()=>{if(!this.auth){const se=this.t.getImmediate({optional:!0});se?Y(se):(cn("FirebaseAuthCredentialsProvider","Auth not yet detected"),E.resolve(),E=new ys)}},0),R()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(a=>this.i!==e?(cn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Yn("string"==typeof a.accessToken),new dl(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Yn(null===e||"string"==typeof e),new Gn(e)}}class Ta{constructor(e,t,a,h){this.h=e,this.l=t,this.m=a,this.g=h,this.type="FirstParty",this.user=Gn.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Yn(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class hl{constructor(e,t,a,h){this.h=e,this.l=t,this.m=a,this.g=h}getToken(){return Promise.resolve(new Ta(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Gn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Sa{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Bu{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const a=m=>{null!=m.error&&cn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${m.error.message}`);const E=m.token!==this.A;return this.A=m.token,cn("FirebaseAppCheckTokenProvider",`Received ${E?"new":"existing"} token.`),E?t(m.token):Promise.resolve()};this.o=m=>{e.enqueueRetryable(()=>a(m))};const h=m=>{cn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=m,this.appCheck.addTokenListener(this.o)};this.T.onInit(m=>h(m)),setTimeout(()=>{if(!this.appCheck){const m=this.T.getImmediate({optional:!0});m?h(m):cn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Yn("string"==typeof t.token),this.A=t.token,new Sa(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ul(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let a=0;a<i;a++)t[a]=Math.floor(256*Math.random());return t}class fl{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let a="";for(;a.length<20;){const h=Ul(40);for(let m=0;m<h.length;++m)a.length<20&&h[m]<t&&(a+=e.charAt(h[m]%e.length))}return a}}function Br(i,e){return i<e?-1:i>e?1:0}function Fo(i,e,t){return i.length===e.length&&i.every((a,h)=>t(a,e[h]))}function Al(i){return i+"\0"}class Bi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fn(Wt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fn(Wt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new fn(Wt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fn(Wt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Bi.fromMillis(Date.now())}static fromDate(e){return Bi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),a=Math.floor(1e6*(e-1e3*t));return new Bi(t,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Br(this.nanoseconds,e.nanoseconds):Br(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ln{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ln(e)}static min(){return new Ln(new Bi(0,0))}static max(){return new Ln(new Bi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class pa{constructor(e,t,a){void 0===t?t=0:t>e.length&&Tn(),void 0===a?a=e.length-t:a>e.length-t&&Tn(),this.segments=e,this.offset=t,this.len=a}get length(){return this.len}isEqual(e){return 0===pa.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof pa?e.forEach(a=>{t.push(a)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,a=this.limit();t<a;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const a=Math.min(e.length,t.length);for(let h=0;h<a;h++){const m=e.get(h),E=t.get(h);if(m<E)return-1;if(m>E)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ei extends pa{construct(e,t,a){return new ei(e,t,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const a of e){if(a.indexOf("//")>=0)throw new fn(Wt.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);t.push(...a.split("/").filter(h=>h.length>0))}return new ei(t)}static emptyPath(){return new ei([])}}const pl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Di extends pa{construct(e,t,a){return new Di(e,t,a)}static isValidIdentifier(e){return pl.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Di.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Di(["__name__"])}static fromServerFormat(e){const t=[];let a="",h=0;const m=()=>{if(0===a.length)throw new fn(Wt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(a),a=""};let E=!1;for(;h<e.length;){const R=e[h];if("\\"===R){if(h+1===e.length)throw new fn(Wt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const Y=e[h+1];if("\\"!==Y&&"."!==Y&&"`"!==Y)throw new fn(Wt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=Y,h+=2}else"`"===R?(E=!E,h++):"."!==R||E?(a+=R,h++):(m(),h++)}if(m(),E)throw new fn(Wt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Di(t)}static emptyPath(){return new Di([])}}class $n{constructor(e){this.path=e}static fromPath(e){return new $n(ei.fromString(e))}static fromName(e){return new $n(ei.fromString(e).popFirst(5))}static empty(){return new $n(ei.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ei.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ei.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $n(new ei(e.slice()))}}class Ga{constructor(e,t,a,h){this.indexId=e,this.collectionGroup=t,this.fields=a,this.indexState=h}}function za(i){return i.fields.find(e=>2===e.kind)}function qo(i){return i.fields.filter(e=>2!==e.kind)}Ga.UNKNOWN_ID=-1;class uo{constructor(e,t){this.fieldPath=e,this.kind=t}}class Aa{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Aa(0,vs.min())}}function jl(i,e){const t=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,h=Ln.fromTimestamp(1e9===a?new Bi(t+1,0):new Bi(t,a));return new vs(h,$n.empty(),e)}function Yo(i){return new vs(i.readTime,i.key,-1)}class vs{constructor(e,t,a){this.readTime=e,this.documentKey=t,this.largestBatchId=a}static min(){return new vs(Ln.min(),$n.empty(),-1)}static max(){return new vs(Ln.max(),$n.empty(),-1)}}function gl(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=$n.comparator(i.documentKey,e.documentKey),0!==t?t:Br(i.largestBatchId,e.largestBatchId))}const Uu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xa{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ka(i){return fu.apply(this,arguments)}function fu(){return fu=(0,Ce.Z)(function*(i){if(i.code!==Wt.FAILED_PRECONDITION||i.message!==Uu)throw i;cn("LocalStore","Unexpectedly lost primary lease")}),fu.apply(this,arguments)}class jt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Tn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new jt((a,h)=>{this.nextCallback=m=>{this.wrapSuccess(e,m).next(a,h)},this.catchCallback=m=>{this.wrapFailure(t,m).next(a,h)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof jt?t:jt.resolve(t)}catch(t){return jt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):jt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):jt.reject(t)}static resolve(e){return new jt((t,a)=>{t(e)})}static reject(e){return new jt((t,a)=>{a(e)})}static waitFor(e){return new jt((t,a)=>{let h=0,m=0,E=!1;e.forEach(R=>{++h,R.next(()=>{++m,E&&m===h&&t()},Y=>a(Y))}),E=!0,m===h&&t()})}static or(e){let t=jt.resolve(!1);for(const a of e)t=t.next(h=>h?jt.resolve(h):a());return t}static forEach(e,t){const a=[];return e.forEach((h,m)=>{a.push(t.call(this,h,m))}),this.waitFor(a)}static mapArray(e,t){return new jt((a,h)=>{const m=e.length,E=new Array(m);let R=0;for(let Y=0;Y<m;Y++){const se=Y;t(e[se]).next(Pe=>{E[se]=Pe,++R,R===m&&a(E)},Pe=>h(Pe))}})}static doWhile(e,t){return new jt((a,h)=>{const m=()=>{!0===e()?t().next(()=>{m()},h):a()};m()})}}class Hl{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new ys,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Xo(e,t.error)):this.P.resolve()},this.transaction.onerror=a=>{const h=qa(a.target.error);this.P.reject(new Xo(e,h))}}static open(e,t,a,h){try{return new Hl(t,e.transaction(h,a))}catch(m){throw new Xo(t,m)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(cn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new ga(t)}}class Zo{constructor(e,t,a){this.name=e,this.version=t,this.S=a,12.2===Zo.D((0,Ke.z$)())&&jr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return cn("SimpleDb","Removing database:",e),ml(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Ke.hl)())return!1;if(Zo.N())return!0;const e=(0,Ke.z$)(),t=Zo.D(e),a=0<t&&t<10,h=Zo.k(e),m=0<h&&h<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||a||m)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(a)}static k(e){const t=e.match(/Android ([\d.]+)/i),a=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(a)}F(e){var t=this;return(0,Ce.Z)(function*(){return t.db||(cn("SimpleDb","Opening database:",t.name),t.db=yield new Promise((a,h)=>{const m=indexedDB.open(t.name,t.version);m.onsuccess=E=>{a(E.target.result)},m.onblocked=()=>{h(new Xo(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},m.onerror=E=>{const R=E.target.error;h("VersionError"===R.name?new fn(Wt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===R.name?new fn(Wt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+R):new Xo(e,R))},m.onupgradeneeded=E=>{cn("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',E.oldVersion),t.S.$(E.target.result,m.transaction,E.oldVersion,t.version).next(()=>{cn("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=a=>t.B(a)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,a,h){var m=this;return(0,Ce.Z)(function*(){const E="readonly"===t;let R=0;for(;;){++R;try{m.db=yield m.F(e);const Y=Hl.open(m.db,e,E?"readonly":"readwrite",a),se=h(Y).next(Pe=>(Y.V(),Pe)).catch(Pe=>(Y.abort(Pe),jt.reject(Pe))).toPromise();return se.catch(()=>{}),yield Y.v,se}catch(Y){const se=Y,Pe="FirebaseError"!==se.name&&R<3;if(cn("SimpleDb","Transaction failed with error:",se.message,"Retrying:",Pe),m.close(),!Pe)return Promise.reject(se)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class ju{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return ml(this.q.delete())}}class Xo extends fn{constructor(e,t){super(Wt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function co(i){return"IndexedDbTransactionError"===i.name}class ga{constructor(e){this.store=e}put(e,t){let a;return void 0!==t?(cn("SimpleDb","PUT",this.store.name,e,t),a=this.store.put(t,e)):(cn("SimpleDb","PUT",this.store.name,"<auto-key>",e),a=this.store.put(e)),ml(a)}add(e){return cn("SimpleDb","ADD",this.store.name,e,e),ml(this.store.add(e))}get(e){return ml(this.store.get(e)).next(t=>(void 0===t&&(t=null),cn("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return cn("SimpleDb","DELETE",this.store.name,e),ml(this.store.delete(e))}count(){return cn("SimpleDb","COUNT",this.store.name),ml(this.store.count())}W(e,t){const a=this.options(e,t);if(a.index||"function"!=typeof this.store.getAll){const h=this.cursor(a),m=[];return this.H(h,(E,R)=>{m.push(R)}).next(()=>m)}{const h=this.store.getAll(a.range);return new jt((m,E)=>{h.onerror=R=>{E(R.target.error)},h.onsuccess=R=>{m(R.target.result)}})}}J(e,t){const a=this.store.getAll(e,null===t?void 0:t);return new jt((h,m)=>{a.onerror=E=>{m(E.target.error)},a.onsuccess=E=>{h(E.target.result)}})}Y(e,t){cn("SimpleDb","DELETE ALL",this.store.name);const a=this.options(e,t);a.X=!1;const h=this.cursor(a);return this.H(h,(m,E,R)=>R.delete())}Z(e,t){let a;t?a=e:(a={},t=e);const h=this.cursor(a);return this.H(h,t)}tt(e){const t=this.cursor({});return new jt((a,h)=>{t.onerror=m=>{const E=qa(m.target.error);h(E)},t.onsuccess=m=>{const E=m.target.result;E?e(E.primaryKey,E.value).next(R=>{R?E.continue():a()}):a()}})}H(e,t){const a=[];return new jt((h,m)=>{e.onerror=E=>{m(E.target.error)},e.onsuccess=E=>{const R=E.target.result;if(!R)return void h();const Y=new ju(R),se=t(R.primaryKey,R.value,Y);if(se instanceof jt){const Pe=se.catch(ft=>(Y.done(),jt.reject(ft)));a.push(Pe)}Y.isDone?h():null===Y.G?R.continue():R.continue(Y.G)}}).next(()=>jt.waitFor(a))}options(e,t){let a;return void 0!==e&&("string"==typeof e?a=e:t=e),{index:a,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const a=this.store.index(e.index);return e.X?a.openKeyCursor(e.range,t):a.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ml(i){return new jt((e,t)=>{i.onsuccess=a=>{e(a.target.result)},i.onerror=a=>{const h=qa(a.target.error);t(h)}})}let Qo=!1;function qa(i){const e=Zo.D((0,Ke.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const a=new fn("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Qo||(Qo=!0,setTimeout(()=>{throw a},0)),a}}return i}class Hu{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;cn("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ce.Z)(function*(){t.task=null;try{cn("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(a){co(a)?cn("IndexBackiller","Ignoring IndexedDB error during index backfill: ",a):yield Ka(a)}yield t.nt(6e4)}))}}class Gl{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Ce.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",a=>t.it(a,e))})()}it(e,t){const a=new Set;let h=t,m=!0;return jt.doWhile(()=>!0===m&&h>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(E=>{if(null!==E&&!a.has(E))return cn("IndexBackiller",`Processing collection: ${E}`),this.rt(e,E,h).next(R=>{h-=R,a.add(E)});m=!1})).next(()=>t-h)}rt(e,t,a){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(h=>this.localStore.localDocuments.getNextDocuments(e,t,h,a).next(m=>{const E=m.changes;return this.localStore.indexManager.updateIndexEntries(e,E).next(()=>this.ot(h,m)).next(R=>(cn("IndexBackiller",`Updating offset: ${R}`),this.localStore.indexManager.updateCollectionGroup(e,t,R))).next(()=>E.size)}))}ot(e,t){let a=e;return t.changes.forEach((h,m)=>{const E=Yo(m);gl(E,a)>0&&(a=E)}),new vs(a.readTime,a.documentKey,Math.max(t.batchId,e.largestBatchId))}}let zr=(()=>{class i{constructor(t,a){this.previousValue=t,a&&(a.sequenceNumberHandler=h=>this.ut(h),this.ct=h=>a.writeSequenceNumber(h))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return i.at=-1,i})();class bd{constructor(e,t,a,h,m,E,R,Y){this.databaseId=e,this.appId=t,this.persistenceKey=a,this.host=h,this.ssl=m,this.forceLongPolling=E,this.autoDetectLongPolling=R,this.useFetchStreams=Y}}class Ma{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ma("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ma&&e.projectId===this.projectId&&e.database===this.database}}function zl(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function So(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Wl(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Kl(i){return null==i}function yl(i){return 0===i&&1/i==-1/0}function Ya(i){return"number"==typeof i&&Number.isInteger(i)&&!yl(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class S{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new S(t)}static fromUint8Array(e){const t=function(a){let h="";for(let m=0;m<a.length;++m)h+=String.fromCharCode(a[m]);return h}(e);return new S(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let a=0;a<e.length;a++)t[a]=e.charCodeAt(a);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Br(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}S.EMPTY_BYTE_STRING=new S("");const A=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function T(i){if(Yn(!!i),"string"==typeof i){let e=0;const t=A.exec(i);if(Yn(!!t),t[1]){let h=t[1];h=(h+"000000000").substr(0,9),e=Number(h)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:O(i.seconds),nanos:O(i.nanos)}}function O(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function z(i){return"string"==typeof i?S.fromBase64String(i):S.fromUint8Array(i)}function fe(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function je(i){const e=i.mapValue.fields.__previous_value__;return fe(e)?je(e):e}function Qe(i){const e=T(i.mapValue.fields.__local_write_time__.timestampValue);return new Bi(e.seconds,e.nanos)}const kt={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},pn={nullValue:"NULL_VALUE"};function Wn(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?fe(i)?4:Ee(i)?9007199254740991:10:Tn()}function Mn(i,e){if(i===e)return!0;const t=Wn(i);if(t!==Wn(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Qe(i).isEqual(Qe(e));case 3:return function(a,h){if("string"==typeof a.timestampValue&&"string"==typeof h.timestampValue&&a.timestampValue.length===h.timestampValue.length)return a.timestampValue===h.timestampValue;const m=T(a.timestampValue),E=T(h.timestampValue);return m.seconds===E.seconds&&m.nanos===E.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return h=e,z(i.bytesValue).isEqual(z(h.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,h){return O(a.geoPointValue.latitude)===O(h.geoPointValue.latitude)&&O(a.geoPointValue.longitude)===O(h.geoPointValue.longitude)}(i,e);case 2:return function(a,h){if("integerValue"in a&&"integerValue"in h)return O(a.integerValue)===O(h.integerValue);if("doubleValue"in a&&"doubleValue"in h){const m=O(a.doubleValue),E=O(h.doubleValue);return m===E?yl(m)===yl(E):isNaN(m)&&isNaN(E)}return!1}(i,e);case 9:return Fo(i.arrayValue.values||[],e.arrayValue.values||[],Mn);case 10:return function(a,h){const m=a.mapValue.fields||{},E=h.mapValue.fields||{};if(zl(m)!==zl(E))return!1;for(const R in m)if(m.hasOwnProperty(R)&&(void 0===E[R]||!Mn(m[R],E[R])))return!1;return!0}(i,e);default:return Tn()}var h}function Ur(i,e){return void 0!==(i.values||[]).find(t=>Mn(t,e))}function Qr(i,e){if(i===e)return 0;const t=Wn(i),a=Wn(e);if(t!==a)return Br(t,a);switch(t){case 0:case 9007199254740991:return 0;case 1:return Br(i.booleanValue,e.booleanValue);case 2:return function(h,m){const E=O(h.integerValue||h.doubleValue),R=O(m.integerValue||m.doubleValue);return E<R?-1:E>R?1:E===R?0:isNaN(E)?isNaN(R)?0:-1:1}(i,e);case 3:return xs(i.timestampValue,e.timestampValue);case 4:return xs(Qe(i),Qe(e));case 5:return Br(i.stringValue,e.stringValue);case 6:return function(h,m){const E=z(h),R=z(m);return E.compareTo(R)}(i.bytesValue,e.bytesValue);case 7:return function(h,m){const E=h.split("/"),R=m.split("/");for(let Y=0;Y<E.length&&Y<R.length;Y++){const se=Br(E[Y],R[Y]);if(0!==se)return se}return Br(E.length,R.length)}(i.referenceValue,e.referenceValue);case 8:return function(h,m){const E=Br(O(h.latitude),O(m.latitude));return 0!==E?E:Br(O(h.longitude),O(m.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(h,m){const E=h.values||[],R=m.values||[];for(let Y=0;Y<E.length&&Y<R.length;++Y){const se=Qr(E[Y],R[Y]);if(se)return se}return Br(E.length,R.length)}(i.arrayValue,e.arrayValue);case 10:return function(h,m){if(h===kt.mapValue&&m===kt.mapValue)return 0;if(h===kt.mapValue)return 1;if(m===kt.mapValue)return-1;const E=h.fields||{},R=Object.keys(E),Y=m.fields||{},se=Object.keys(Y);R.sort(),se.sort();for(let Pe=0;Pe<R.length&&Pe<se.length;++Pe){const ft=Br(R[Pe],se[Pe]);if(0!==ft)return ft;const $t=Qr(E[R[Pe]],Y[se[Pe]]);if(0!==$t)return $t}return Br(R.length,se.length)}(i.mapValue,e.mapValue);default:throw Tn()}}function xs(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Br(i,e);const t=T(i),a=T(e),h=Br(t.seconds,a.seconds);return 0!==h?h:Br(t.nanos,a.nanos)}function ls(i){return Eo(i)}function Eo(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(a){const h=T(a);return`time(${h.seconds},${h.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?z(i.bytesValue).toBase64():"referenceValue"in i?$n.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(a){let h="[",m=!0;for(const E of a.values||[])m?m=!1:h+=",",h+=Eo(E);return h+"]"}(i.arrayValue):"mapValue"in i?function(a){const h=Object.keys(a.fields||{}).sort();let m="{",E=!0;for(const R of h)E?E=!1:m+=",",m+=`${R}:${Eo(a.fields[R])}`;return m+"}"}(i.mapValue):Tn();var e}function Mi(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function wo(i){return!!i&&"integerValue"in i}function Lo(i){return!!i&&"arrayValue"in i}function Ao(i){return!!i&&"nullValue"in i}function ql(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function H(i){return!!i&&"mapValue"in i}function q(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return So(i.mapValue.fields,(t,a)=>e.mapValue.fields[t]=q(a)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=q(i.arrayValue.values[t]);return e}return Object.assign({},i)}function Ee(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function st(i){return"nullValue"in i?pn:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Mi(Ma.empty(),$n.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:Tn()}function xt(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Mi(Ma.empty(),$n.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?kt:Tn()}function Ut(i,e){const t=Qr(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function dn(i,e){const t=Qr(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class Jn{constructor(e,t){this.position=e,this.inclusive=t}}function yr(i,e,t){let a=0;for(let h=0;h<i.position.length;h++){const m=e[h],E=i.position[h];if(a=m.field.isKeyField()?$n.comparator($n.fromName(E.referenceValue),t.key):Qr(E,t.data.field(m.field)),"desc"===m.dir&&(a*=-1),0!==a)break}return a}function _r(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Mn(i.position[t],e.position[t]))return!1;return!0}class pi{}class Nn extends pi{constructor(e,t,a){super(),this.field=e,this.op=t,this.value=a}static create(e,t,a){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,a):new Cf(e,t,a):"array-contains"===t?new wh(e,a):"in"===t?new Yl(e,a):"not-in"===t?new Ih(e,a):"array-contains-any"===t?new kc(e,a):new Nn(e,t,a)}static createKeyFieldInFilter(e,t,a){return"in"===t?new Df(e,a):new ec(e,a)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Qr(t,this.value)):null!==t&&Wn(this.value)===Wn(t)&&this.matchesComparison(Qr(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Tn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ii extends pi{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new ii(e,t)}matches(e){return _s(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function _s(i){return"and"===i.op}function Ra(i){return"or"===i.op}function Za(i){return Xa(i)&&_s(i)}function Xa(i){for(const e of i.filters)if(e instanceof ii)return!1;return!0}function ma(i){if(i instanceof Nn)return i.field.canonicalString()+i.op.toString()+ls(i.value);{const e=i.filters.map(t=>ma(t)).join(",");return`${i.op}(${e})`}}function Oa(i,e){return i instanceof Nn?(t=i,(a=e)instanceof Nn&&t.op===a.op&&t.field.isEqual(a.field)&&Mn(t.value,a.value)):i instanceof ii?function(t,a){return a instanceof ii&&t.op===a.op&&t.filters.length===a.filters.length&&t.filters.reduce((h,m,E)=>h&&Oa(m,a.filters[E]),!0)}(i,e):void Tn();var t,a}function Qa(i,e){const t=i.filters.concat(e);return ii.create(t,i.op)}function Ju(i){return i instanceof Nn?`${(e=i).field.canonicalString()} ${e.op} ${ls(e.value)}`:i instanceof ii?function(e){return e.op.toString()+" {"+e.getFilters().map(Ju).join(" ,")+"}"}(i):"Filter";var e}class Cf extends Nn{constructor(e,t,a){super(e,t,a),this.key=$n.fromName(a.referenceValue)}matches(e){const t=$n.comparator(e.key,this.key);return this.matchesComparison(t)}}class Df extends Nn{constructor(e,t){super(e,"in",t),this.keys=Cd(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ec extends Nn{constructor(e,t){super(e,"not-in",t),this.keys=Cd(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Cd(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(a=>$n.fromName(a.referenceValue))}class wh extends Nn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Lo(t)&&Ur(t.arrayValue,this.value)}}class Yl extends Nn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ur(this.value.arrayValue,t)}}class Ih extends Nn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ur(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ur(this.value.arrayValue,t)}}class kc extends Nn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Lo(t)||!t.arrayValue.values)&&t.arrayValue.values.some(a=>Ur(this.value.arrayValue,a))}}class Zl{constructor(e,t="asc"){this.field=e,this.dir=t}}function Nc(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Ms{constructor(e,t){this.comparator=e,this.root=t||Qs.EMPTY}insert(e,t){return new Ms(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Qs.BLACK,null,null))}remove(e){return new Ms(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const a=this.comparator(e,t.key);if(0===a)return t.value;a<0?t=t.left:a>0&&(t=t.right)}return null}indexOf(e){let t=0,a=this.root;for(;!a.isEmpty();){const h=this.comparator(e,a.key);if(0===h)return t+a.left.size;h<0?a=a.left:(t+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,a)=>(e(t,a),!1))}toString(){const e=[];return this.inorderTraversal((t,a)=>(e.push(`${t}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fc(this.root,e,this.comparator,!0)}}class Fc{constructor(e,t,a,h){this.isReverse=h,this.nodeStack=[];let m=1;for(;!e.isEmpty();)if(m=t?a(e.key,t):1,t&&h&&(m*=-1),m<0)e=this.isReverse?e.left:e.right;else{if(0===m){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qs{constructor(e,t,a,h,m){this.key=e,this.value=t,this.color=null!=a?a:Qs.RED,this.left=null!=h?h:Qs.EMPTY,this.right=null!=m?m:Qs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,a,h,m){return new Qs(null!=e?e:this.key,null!=t?t:this.value,null!=a?a:this.color,null!=h?h:this.left,null!=m?m:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,a){let h=this;const m=a(e,h.key);return h=m<0?h.copy(null,null,null,h.left.insert(e,t,a),null):0===m?h.copy(null,t,null,null,null):h.copy(null,null,null,null,h.right.insert(e,t,a)),h.fixUp()}removeMin(){if(this.left.isEmpty())return Qs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let a,h=this;if(t(e,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(e,t),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===t(e,h.key)){if(h.right.isEmpty())return Qs.EMPTY;a=h.right.min(),h=h.copy(a.key,a.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(e,t))}return h.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Tn();const e=this.left.check();if(e!==this.right.check())throw Tn();return e+(this.isRed()?0:1)}}Qs.EMPTY=null,Qs.RED=!0,Qs.BLACK=!1,Qs.EMPTY=new class{constructor(){this.size=0}get key(){throw Tn()}get value(){throw Tn()}get color(){throw Tn()}get left(){throw Tn()}get right(){throw Tn()}copy(i,e,t,a,h){return this}insert(i,e,t){return new Qs(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fi{constructor(e){this.comparator=e,this.data=new Ms(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,a)=>(e(t),!1))}forEachInRange(e,t){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const h=a.getNext();if(this.comparator(h.key,e[1])>=0)return;t(h.key)}}forEachWhile(e,t){let a;for(a=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Np(this.data.getIterator())}getIteratorFrom(e){return new Np(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(a=>{t=t.add(a)}),t}isEqual(e){if(!(e instanceof Fi)||this.size!==e.size)return!1;const t=this.data.getIterator(),a=e.data.getIterator();for(;t.hasNext();){const h=t.getNext().key,m=a.getNext().key;if(0!==this.comparator(h,m))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Fi(this.comparator);return t.data=e,t}}class Np{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function tc(i){return i.hasNext()?i.getNext():void 0}class Jo{constructor(e){this.fields=e,e.sort(Di.comparator)}static empty(){return new Jo([])}unionWith(e){let t=new Fi(Di.comparator);for(const a of this.fields)t=t.add(a);for(const a of e)t=t.add(a);return new Jo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Fo(this.fields,e.fields,(t,a)=>t.isEqual(a))}}class zs{constructor(e){this.value=e}static empty(){return new zs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let a=0;a<e.length-1;++a)if(t=(t.mapValue.fields||{})[e.get(a)],!H(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=q(t)}setAll(e){let t=Di.emptyPath(),a={},h=[];e.forEach((E,R)=>{if(!t.isImmediateParentOf(R)){const Y=this.getFieldsMap(t);this.applyChanges(Y,a,h),a={},h=[],t=R.popLast()}E?a[R.lastSegment()]=q(E):h.push(R.lastSegment())});const m=this.getFieldsMap(t);this.applyChanges(m,a,h)}delete(e){const t=this.field(e.popLast());H(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Mn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let a=0;a<e.length;++a){let h=t.mapValue.fields[e.get(a)];H(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},t.mapValue.fields[e.get(a)]=h),t=h}return t.mapValue.fields}applyChanges(e,t,a){So(t,(h,m)=>e[h]=m);for(const h of a)delete e[h]}clone(){return new zs(q(this.value))}}function Dd(i){const e=[];return So(i.fields,(t,a)=>{const h=new Di([t]);if(H(a)){const m=Dd(a.mapValue).fields;if(0===m.length)e.push(h);else for(const E of m)e.push(h.child(E))}else e.push(h)}),new Jo(e)}class Es{constructor(e,t,a,h,m,E,R){this.key=e,this.documentType=t,this.version=a,this.readTime=h,this.createTime=m,this.data=E,this.documentState=R}static newInvalidDocument(e){return new Es(e,0,Ln.min(),Ln.min(),Ln.min(),zs.empty(),0)}static newFoundDocument(e,t,a,h){return new Es(e,1,t,Ln.min(),a,h,0)}static newNoDocument(e,t){return new Es(e,2,t,Ln.min(),Ln.min(),zs.empty(),0)}static newUnknownDocument(e,t){return new Es(e,3,t,Ln.min(),Ln.min(),zs.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ln.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ln.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Es&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Es(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class bh{constructor(e,t=null,a=[],h=[],m=null,E=null,R=null){this.path=e,this.collectionGroup=t,this.orderBy=a,this.filters=h,this.limit=m,this.startAt=E,this.endAt=R,this.ft=null}}function nc(i,e=null,t=[],a=[],h=null,m=null,E=null){return new bh(i,e,t,a,h,m,E)}function $o(i){const e=jn(i);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(a=>ma(a)).join(","),t+="|ob:",t+=e.orderBy.map(a=>{return(h=a).field.canonicalString()+h.dir;var h}).join(","),Kl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(a=>ls(a)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(a=>ls(a)).join(",")),e.ft=t}return e.ft}function gu(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!Nc(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!Oa(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!_r(i.startAt,e.startAt)&&_r(i.endAt,e.endAt)}function Ch(i){return $n.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Td(i,e){return i.filters.filter(t=>t instanceof Nn&&t.field.isEqual(e))}function Sd(i,e,t){let a=pn,h=!0;for(const m of Td(i,e)){let E=pn,R=!0;switch(m.op){case"<":case"<=":E=st(m.value);break;case"==":case"in":case">=":E=m.value;break;case">":E=m.value,R=!1;break;case"!=":case"not-in":E=pn}Ut({value:a,inclusive:h},{value:E,inclusive:R})<0&&(a=E,h=R)}if(null!==t)for(let m=0;m<i.orderBy.length;++m)if(i.orderBy[m].field.isEqual(e)){const E=t.position[m];Ut({value:a,inclusive:h},{value:E,inclusive:t.inclusive})<0&&(a=E,h=t.inclusive);break}return{value:a,inclusive:h}}function Xl(i,e,t){let a=kt,h=!0;for(const m of Td(i,e)){let E=kt,R=!0;switch(m.op){case">=":case">":E=xt(m.value),R=!1;break;case"==":case"in":case"<=":E=m.value;break;case"<":E=m.value,R=!1;break;case"!=":case"not-in":E=kt}dn({value:a,inclusive:h},{value:E,inclusive:R})>0&&(a=E,h=R)}if(null!==t)for(let m=0;m<i.orderBy.length;++m)if(i.orderBy[m].field.isEqual(e)){const E=t.position[m];dn({value:a,inclusive:h},{value:E,inclusive:t.inclusive})>0&&(a=E,h=t.inclusive);break}return{value:a,inclusive:h}}class ea{constructor(e,t=null,a=[],h=[],m=null,E="F",R=null,Y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=a,this.filters=h,this.limit=m,this.limitType=E,this.startAt=R,this.endAt=Y,this.dt=null,this._t=null}}function Lc(i,e,t,a,h,m,E,R){return new ea(i,e,t,a,h,m,E,R)}function Io(i){return new ea(i)}function $c(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Ja(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Ql(i){for(const e of i.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Ad(i){return null!==i.collectionGroup}function Js(i){const e=jn(i);if(null===e.dt){e.dt=[];const t=Ql(e),a=Ja(e);if(null!==t&&null===a)t.isKeyField()||e.dt.push(new Zl(t)),e.dt.push(new Zl(Di.keyField(),"asc"));else{let h=!1;for(const m of e.explicitOrderBy)e.dt.push(m),m.field.isKeyField()&&(h=!0);if(!h){const m=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Zl(Di.keyField(),m))}}}return e.dt}function bo(i){const e=jn(i);if(!e._t)if("F"===e.limitType)e._t=nc(e.path,e.collectionGroup,Js(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const m of Js(e))t.push(new Zl(m.field,"desc"===m.dir?"asc":"desc"));const a=e.endAt?new Jn(e.endAt.position,e.endAt.inclusive):null,h=e.startAt?new Jn(e.startAt.position,e.startAt.inclusive):null;e._t=nc(e.path,e.collectionGroup,t,e.filters,e.limit,a,h)}return e._t}function Bc(i,e){e.getFirstInequalityField(),Ql(i);const t=i.filters.concat([e]);return new ea(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Vc(i,e,t){return new ea(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Uc(i,e){return gu(bo(i),bo(e))&&i.limitType===e.limitType}function Tf(i){return`${$o(bo(i))}|lt:${i.limitType}`}function xd(i){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(a=>Ju(a)).join(", ")}]`),Kl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(a=>{return`${(h=a).field.canonicalString()} (${h.dir})`;var h}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(a=>ls(a)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(a=>ls(a)).join(",")),`Target(${t})`}(bo(i))}; limitType=${i.limitType})`}function jc(i,e){return e.isFoundDocument()&&function(t,a){const h=a.key.path;return null!==t.collectionGroup?a.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(h):$n.isDocumentKey(t.path)?t.path.isEqual(h):t.path.isImmediateParentOf(h)}(i,e)&&function(t,a){for(const h of Js(t))if(!h.field.isKeyField()&&null===a.data.field(h.field))return!1;return!0}(i,e)&&function(t,a){for(const h of t.filters)if(!h.matches(a))return!1;return!0}(i,e)&&(a=e,!((t=i).startAt&&!function(h,m,E){const R=yr(h,m,E);return h.inclusive?R<=0:R<0}(t.startAt,Js(t),a)||t.endAt&&!function(h,m,E){const R=yr(h,m,E);return h.inclusive?R>=0:R>0}(t.endAt,Js(t),a)));var t,a}function rc(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Bo(i){return(e,t)=>{let a=!1;for(const h of Js(i)){const m=xl(h,e,t);if(0!==m)return m;a=a||h.field.isKeyField()}return 0}}function xl(i,e,t){const a=i.field.isKeyField()?$n.comparator(e.key,t.key):function(h,m,E){const R=m.data.field(h),Y=E.data.field(h);return null!==R&&null!==Y?Qr(R,Y):Tn()}(i.field,e,t);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return Tn()}}function Dh(i,e){if(i.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yl(e)?"-0":e}}function ic(i){return{integerValue:""+i}}function ks(i,e){return Ya(e)?ic(e):Dh(i,e)}class mu{constructor(){this._=void 0}}function sc(i,e,t){return i instanceof Jl?function(a,h){const m={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return h&&(m.fields.__previous_value__=h),{mapValue:m}}(t,e):i instanceof yu?Th(i,e):i instanceof eu?Sh(i,e):function(a,h){const m=Af(a,h),E=Ah(m)+Ah(a.gt);return wo(m)&&wo(a.gt)?ic(E):Dh(a.yt,E)}(i,e)}function Sf(i,e,t){return i instanceof yu?Th(i,e):i instanceof eu?Sh(i,e):t}function Af(i,e){return i instanceof vu?wo(t=e)||(a=t)&&"doubleValue"in a?e:{integerValue:0}:null;var a,t}class Jl extends mu{}class yu extends mu{constructor(e){super(),this.elements=e}}function Th(i,e){const t=Md(e);for(const a of i.elements)t.some(h=>Mn(h,a))||t.push(a);return{arrayValue:{values:t}}}class eu extends mu{constructor(e){super(),this.elements=e}}function Sh(i,e){let t=Md(e);for(const a of i.elements)t=t.filter(h=>!Mn(h,a));return{arrayValue:{values:t}}}class vu extends mu{constructor(e,t){super(),this.yt=e,this.gt=t}}function Ah(i){return O(i.integerValue||i.doubleValue)}function Md(i){return Lo(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class el{constructor(e,t){this.field=e,this.transform=t}}class Rd{constructor(e,t){this.version=e,this.transformResults=t}}class ps{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ps}static exists(e){return new ps(void 0,e)}static updateTime(e){return new ps(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vl(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class oc{}function nu(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Eu(i.key,ps.none()):new ya(i.key,i.data,ps.none());{const t=i.data,a=zs.empty();let h=new Fi(Di.comparator);for(let m of e.fields)if(!h.has(m)){let E=t.field(m);null===E&&m.length>1&&(m=m.popLast(),E=t.field(m)),null===E?a.delete(m):a.set(m,E),h=h.add(m)}return new Pa(i.key,a,new Jo(h.toArray()),ps.none())}}function xh(i,e,t){i instanceof ya?function(a,h,m){const E=a.value.clone(),R=Mf(a.fieldTransforms,h,m.transformResults);E.setAll(R),h.convertToFoundDocument(m.version,E).setHasCommittedMutations()}(i,e,t):i instanceof Pa?function(a,h,m){if(!vl(a.precondition,h))return void h.convertToUnknownDocument(m.version);const E=Mf(a.fieldTransforms,h,m.transformResults),R=h.data;R.setAll(lc(a)),R.setAll(E),h.convertToFoundDocument(m.version,R).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function _u(i,e,t,a){return i instanceof ya?function(h,m,E,R){if(!vl(h.precondition,m))return E;const Y=h.value.clone(),se=Od(h.fieldTransforms,R,m);return Y.setAll(se),m.convertToFoundDocument(m.version,Y).setHasLocalMutations(),null}(i,e,t,a):i instanceof Pa?function(h,m,E,R){if(!vl(h.precondition,m))return E;const Y=Od(h.fieldTransforms,R,m),se=m.data;return se.setAll(lc(h)),se.setAll(Y),m.convertToFoundDocument(m.version,se).setHasLocalMutations(),null===E?null:E.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(Pe=>Pe.field))}(i,e,t,a):(E=t,vl(i.precondition,m=e)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):E);var m,E}function ac(i,e){let t=null;for(const a of i.fieldTransforms){const h=e.data.field(a.field),m=Af(a.transform,h||null);null!=m&&(null===t&&(t=zs.empty()),t.set(a.field,m))}return t||null}function xf(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(a=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===a||t&&a&&Fo(t,a,(h,m)=>function tu(i,e){return i.field.isEqual(e.field)&&(a=e.transform,(t=i.transform)instanceof yu&&a instanceof yu||t instanceof eu&&a instanceof eu?Fo(t.elements,a.elements,Mn):t instanceof vu&&a instanceof vu?Mn(t.gt,a.gt):t instanceof Jl&&a instanceof Jl);var t,a}(h,m))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,a}class ya extends oc{constructor(e,t,a,h=[]){super(),this.key=e,this.value=t,this.precondition=a,this.fieldTransforms=h,this.type=0}getFieldMask(){return null}}class Pa extends oc{constructor(e,t,a,h,m=[]){super(),this.key=e,this.data=t,this.fieldMask=a,this.precondition=h,this.fieldTransforms=m,this.type=1}getFieldMask(){return this.fieldMask}}function lc(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const a=i.data.field(t);e.set(t,a)}}),e}function Mf(i,e,t){const a=new Map;Yn(i.length===t.length);for(let h=0;h<t.length;h++){const m=i[h],E=m.transform,R=e.data.field(m.field);a.set(m.field,Sf(E,R,t[h]))}return a}function Od(i,e,t){const a=new Map;for(const h of i){const m=h.transform,E=t.data.field(h.field);a.set(h.field,sc(m,E,e))}return a}class Eu extends oc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Mh extends oc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class uc{constructor(e){this.count=e}}var eo,Ti;function Rh(i){switch(i){default:return Tn();case Wt.CANCELLED:case Wt.UNKNOWN:case Wt.DEADLINE_EXCEEDED:case Wt.RESOURCE_EXHAUSTED:case Wt.INTERNAL:case Wt.UNAVAILABLE:case Wt.UNAUTHENTICATED:return!1;case Wt.INVALID_ARGUMENT:case Wt.NOT_FOUND:case Wt.ALREADY_EXISTS:case Wt.PERMISSION_DENIED:case Wt.FAILED_PRECONDITION:case Wt.ABORTED:case Wt.OUT_OF_RANGE:case Wt.UNIMPLEMENTED:case Wt.DATA_LOSS:return!0}}function Hc(i){if(void 0===i)return jr("GRPC error has no .code"),Wt.UNKNOWN;switch(i){case eo.OK:return Wt.OK;case eo.CANCELLED:return Wt.CANCELLED;case eo.UNKNOWN:return Wt.UNKNOWN;case eo.DEADLINE_EXCEEDED:return Wt.DEADLINE_EXCEEDED;case eo.RESOURCE_EXHAUSTED:return Wt.RESOURCE_EXHAUSTED;case eo.INTERNAL:return Wt.INTERNAL;case eo.UNAVAILABLE:return Wt.UNAVAILABLE;case eo.UNAUTHENTICATED:return Wt.UNAUTHENTICATED;case eo.INVALID_ARGUMENT:return Wt.INVALID_ARGUMENT;case eo.NOT_FOUND:return Wt.NOT_FOUND;case eo.ALREADY_EXISTS:return Wt.ALREADY_EXISTS;case eo.PERMISSION_DENIED:return Wt.PERMISSION_DENIED;case eo.FAILED_PRECONDITION:return Wt.FAILED_PRECONDITION;case eo.ABORTED:return Wt.ABORTED;case eo.OUT_OF_RANGE:return Wt.OUT_OF_RANGE;case eo.UNIMPLEMENTED:return Wt.UNIMPLEMENTED;case eo.DATA_LOSS:return Wt.DATA_LOSS;default:return Tn()}}(Ti=eo||(eo={}))[Ti.OK=0]="OK",Ti[Ti.CANCELLED=1]="CANCELLED",Ti[Ti.UNKNOWN=2]="UNKNOWN",Ti[Ti.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ti[Ti.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ti[Ti.NOT_FOUND=5]="NOT_FOUND",Ti[Ti.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ti[Ti.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ti[Ti.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ti[Ti.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ti[Ti.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ti[Ti.ABORTED=10]="ABORTED",Ti[Ti.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ti[Ti.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ti[Ti.INTERNAL=13]="INTERNAL",Ti[Ti.UNAVAILABLE=14]="UNAVAILABLE",Ti[Ti.DATA_LOSS=15]="DATA_LOSS";class _l{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),a=this.inner[t];if(void 0!==a)for(const[h,m]of a)if(this.equalsFn(h,e))return m}has(e){return void 0!==this.get(e)}set(e,t){const a=this.mapKeyFn(e),h=this.inner[a];if(void 0===h)return this.inner[a]=[[e,t]],void this.innerSize++;for(let m=0;m<h.length;m++)if(this.equalsFn(h[m][0],e))return void(h[m]=[e,t]);h.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),a=this.inner[t];if(void 0===a)return!1;for(let h=0;h<a.length;h++)if(this.equalsFn(a[h][0],e))return 1===a.length?delete this.inner[t]:a.splice(h,1),this.innerSize--,!0;return!1}forEach(e){So(this.inner,(t,a)=>{for(const[h,m]of a)e(h,m)})}isEmpty(){return Wl(this.inner)}size(){return this.innerSize}}const ta=new Ms($n.comparator);function to(){return ta}const El=new Ms($n.comparator);function Ml(...i){let e=El;for(const t of i)e=e.insert(t.key,t);return e}function na(i){let e=El;return i.forEach((t,a)=>e=e.insert(t,a.overlayedDocument)),e}function xo(){return Gu()}function wl(){return Gu()}function Gu(){return new _l(i=>i.toString(),(i,e)=>i.isEqual(e))}const no=new Ms($n.comparator),Pd=new Fi($n.comparator);function gi(...i){let e=Pd;for(const t of i)e=e.add(t);return e}const kd=new Fi(Br);function wu(){return kd}class Iu{constructor(e,t,a,h,m){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=a,this.documentUpdates=h,this.resolvedLimboDocuments=m}static createSynthesizedRemoteEventForCurrentChange(e,t,a){const h=new Map;return h.set(e,cc.createSynthesizedTargetChangeForCurrentChange(e,t,a)),new Iu(Ln.min(),h,wu(),to(),gi())}}class cc{constructor(e,t,a,h,m){this.resumeToken=e,this.current=t,this.addedDocuments=a,this.modifiedDocuments=h,this.removedDocuments=m}static createSynthesizedTargetChangeForCurrentChange(e,t,a){return new cc(a,t,gi(),gi(),gi())}}class dc{constructor(e,t,a,h){this.It=e,this.removedTargetIds=t,this.key=a,this.Tt=h}}class Nd{constructor(e,t){this.targetId=e,this.Et=t}}class va{constructor(e,t,a=S.EMPTY_BYTE_STRING,h=null){this.state=e,this.targetIds=t,this.resumeToken=a,this.cause=h}}class ru{constructor(){this.At=0,this.Rt=zc(),this.bt=S.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=gi(),t=gi(),a=gi();return this.Rt.forEach((h,m)=>{switch(m){case 0:e=e.add(h);break;case 2:t=t.add(h);break;case 1:a=a.add(h);break;default:Tn()}}),new cc(this.bt,this.Pt,e,t,a)}xt(){this.vt=!1,this.Rt=zc()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class bu{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=to(),this.qt=Gc(),this.Ut=new Fi(Br)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const a=this.Wt(t);switch(e.state){case 0:this.zt(t)&&a.Dt(e.resumeToken);break;case 1:a.Mt(),a.Vt||a.xt(),a.Dt(e.resumeToken);break;case 2:a.Mt(),a.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(a.Ft(),a.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),a.Dt(e.resumeToken));break;default:Tn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((a,h)=>{this.zt(h)&&t(h)})}Jt(e){const t=e.targetId,a=e.Et.count,h=this.Yt(t);if(h){const m=h.target;if(Ch(m))if(0===a){const E=new $n(m.path);this.Qt(t,E,Es.newNoDocument(E,Ln.min()))}else Yn(1===a);else this.Xt(t)!==a&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((m,E)=>{const R=this.Yt(E);if(R){if(m.current&&Ch(R.target)){const Y=new $n(R.target.path);null!==this.Lt.get(Y)||this.te(E,Y)||this.Qt(E,Y,Es.newNoDocument(Y,e))}m.St&&(t.set(E,m.Ct()),m.xt())}});let a=gi();this.qt.forEach((m,E)=>{let R=!0;E.forEachWhile(Y=>{const se=this.Yt(Y);return!se||2===se.purpose||(R=!1,!1)}),R&&(a=a.add(m))}),this.Lt.forEach((m,E)=>E.setReadTime(e));const h=new Iu(e,t,this.Ut,this.Lt,a);return this.Lt=to(),this.qt=Gc(),this.Ut=new Fi(Br),h}Gt(e,t){if(!this.zt(e))return;const a=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,a),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,a){if(!this.zt(e))return;const h=this.Wt(e);this.te(e,t)?h.Nt(t,1):h.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),a&&(this.Lt=this.Lt.insert(t,a))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new ru,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new Fi(Br),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||cn("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new ru),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function Gc(){return new Ms($n.comparator)}function zc(){return new Ms($n.comparator)}const Wc={asc:"ASCENDING",desc:"DESCENDING"},Mo={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Cu={and:"AND",or:"OR"};class Fd{constructor(e,t){this.databaseId=e,this.wt=t}}function Ro(i,e){return i.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Il(i,e){return i.wt?e.toBase64():e.toUint8Array()}function Kc(i,e){return Ro(i,e.toTimestamp())}function Ns(i){return Yn(!!i),Ln.fromTimestamp(function(e){const t=T(e);return new Bi(t.seconds,t.nanos)}(i))}function qc(i,e){return(t=i,new ei(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Ld(i){const e=ei.fromString(i);return Yn(Pf(e)),e}function Rl(i,e){return qc(i.databaseId,e.path)}function tl(i,e){const t=Ld(e);if(t.get(1)!==i.databaseId.projectId)throw new fn(Wt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new fn(Wt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new $n(C(t))}function iu(i,e){return qc(i.databaseId,e)}function Rf(i){const e=Ld(i);return 4===e.length?ei.emptyPath():C(e)}function Yc(i){return new ei(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function C(i){return Yn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function g(i,e,t){return{name:Rl(i,e),fields:t.value.mapValue.fields}}function _(i,e,t){const a=tl(i,e.name),h=Ns(e.updateTime),m=e.createTime?Ns(e.createTime):Ln.min(),E=new zs({mapValue:{fields:e.fields}}),R=Es.newFoundDocument(a,h,m,E);return t&&R.setHasCommittedMutations(),t?R.setHasCommittedMutations():R}function De(i,e){let t;if(e instanceof ya)t={update:g(i,e.key,e.value)};else if(e instanceof Eu)t={delete:Rl(i,e.key)};else if(e instanceof Pa)t={update:g(i,e.key,e.data),updateMask:Of(e.fieldMask)};else{if(!(e instanceof Mh))return Tn();t={verify:Rl(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(a=>function(h,m){const E=m.transform;if(E instanceof Jl)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(E instanceof yu)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:E.elements}};if(E instanceof eu)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:E.elements}};if(E instanceof vu)return{fieldPath:m.field.canonicalString(),increment:E.gt};throw Tn()}(0,a))),e.precondition.isNone||(t.currentDocument=void 0!==(h=e.precondition).updateTime?{updateTime:Kc(i,h.updateTime)}:void 0!==h.exists?{exists:h.exists}:Tn()),t;var h}function It(i,e){const t=e.currentDocument?void 0!==(h=e.currentDocument).updateTime?ps.updateTime(Ns(h.updateTime)):void 0!==h.exists?ps.exists(h.exists):ps.none():ps.none(),a=e.updateTransforms?e.updateTransforms.map(h=>function(m,E){let R=null;"setToServerValue"in E?(Yn("REQUEST_TIME"===E.setToServerValue),R=new Jl):"appendMissingElements"in E?R=new yu(E.appendMissingElements.values||[]):"removeAllFromArray"in E?R=new eu(E.removeAllFromArray.values||[]):"increment"in E?R=new vu(m,E.increment):Tn();const Y=Di.fromServerFormat(E.fieldPath);return new el(Y,R)}(i,h)):[];var h;if(e.update){const h=tl(i,e.update.name),m=new zs({mapValue:{fields:e.update.fields}});if(e.updateMask){const E=new Jo((e.updateMask.fieldPaths||[]).map(se=>Di.fromServerFormat(se)));return new Pa(h,m,E,t,a)}return new ya(h,m,t,a)}if(e.delete){const h=tl(i,e.delete);return new Eu(h,t)}if(e.verify){const h=tl(i,e.verify);return new Mh(h,t)}return Tn()}function Bn(i,e){return{documents:[iu(i,e.path)]}}function cr(i,e){const t={structuredQuery:{}},a=e.path;null!==e.collectionGroup?(t.parent=iu(i,a),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=iu(i,a.popLast()),t.structuredQuery.from=[{collectionId:a.lastSegment()}]);const h=function(Y){if(0!==Y.length)return Ph(ii.create(Y,"and"))}(e.filters);h&&(t.structuredQuery.where=h);const m=function(Y){if(0!==Y.length)return Y.map(se=>{return{field:ra((Pe=se).field),direction:bl(Pe.dir)};var Pe})}(e.orderBy);m&&(t.structuredQuery.orderBy=m);const E=(se=e.limit,i.wt||Kl(se)?se:{value:se});var se,R,Y;return null!==E&&(t.structuredQuery.limit=E),e.startAt&&(t.structuredQuery.startAt={before:(R=e.startAt).inclusive,values:R.position}),e.endAt&&(t.structuredQuery.endAt={before:!(Y=e.endAt).inclusive,values:Y.position}),t}function Lr(i){let e=Rf(i.parent);const t=i.structuredQuery,a=t.from?t.from.length:0;let h=null;if(a>0){Yn(1===a);const Pe=t.from[0];Pe.allDescendants?h=Pe.collectionId:e=e.child(Pe.collectionId)}let m=[];t.where&&(m=function(Pe){const ft=Vi(Pe);return ft instanceof ii&&Za(ft)?ft.getFilters():[ft]}(t.where));let E=[];t.orderBy&&(E=t.orderBy.map(Pe=>{return new Zl(nl((ft=Pe).field),function($t){switch($t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ft.direction));var ft}));let R=null;t.limit&&(R=function(Pe){let ft;return ft="object"==typeof Pe?Pe.value:Pe,Kl(ft)?null:ft}(t.limit));let Y=null;var Pe;t.startAt&&(Y=new Jn((Pe=t.startAt).values||[],!!Pe.before));let se=null;return t.endAt&&(se=function(Pe){return new Jn(Pe.values||[],!Pe.before)}(t.endAt)),Lc(e,h,E,m,R,"F",Y,se)}function Vi(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=nl(e.unaryFilter.field);return Nn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const a=nl(e.unaryFilter.field);return Nn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=nl(e.unaryFilter.field);return Nn.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=nl(e.unaryFilter.field);return Nn.create(m,"!=",{nullValue:"NULL_VALUE"});default:return Tn()}}(i):void 0!==i.fieldFilter?Nn.create(nl((e=i).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Tn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return ii.create(e.compositeFilter.filters.map(t=>Vi(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Tn()}}(e.compositeFilter.op))}(i):Tn();var e}function bl(i){return Wc[i]}function hc(i){return Mo[i]}function Oh(i){return Cu[i]}function ra(i){return{fieldPath:i.canonicalString()}}function nl(i){return Di.fromServerFormat(i.fieldPath)}function Ph(i){return i instanceof Nn?function(e){if("=="===e.op){if(ql(e.value))return{unaryFilter:{field:ra(e.field),op:"IS_NAN"}};if(Ao(e.value))return{unaryFilter:{field:ra(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ql(e.value))return{unaryFilter:{field:ra(e.field),op:"IS_NOT_NAN"}};if(Ao(e.value))return{unaryFilter:{field:ra(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ra(e.field),op:hc(e.op),value:e.value}}}(i):i instanceof ii?function(e){const t=e.getFilters().map(a=>Ph(a));return 1===t.length?t[0]:{compositeFilter:{op:Oh(e.op),filters:t}}}(i):Tn()}function Of(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Pf(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function ia(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=kf(e)),e=kh(i.get(t),e);return kf(e)}function kh(i,e){let t=e;const a=i.length;for(let h=0;h<a;h++){const m=i.charAt(h);switch(m){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=m}}return t}function kf(i){return i+"\x01\x01"}function Cl(i){const e=i.length;if(Yn(e>=2),2===e)return Yn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),ei.emptyPath();const t=e-2,a=[];let h="";for(let m=0;m<e;){const E=i.indexOf("\x01",m);switch((E<0||E>t)&&Tn(),i.charAt(E+1)){case"\x01":const R=i.substring(m,E);let Y;0===h.length?Y=R:(h+=R,Y=h,h=""),a.push(Y);break;case"\x10":h+=i.substring(m,E),h+="\0";break;case"\x11":h+=i.substring(m,E+1);break;default:Tn()}m=E+2}return new ei(a)}const Nh=["userId","batchId"];function Zc(i,e){return[i,ia(e)]}function Kg(i,e,t){return[i,ia(e),t]}const hy={},Fp=["prefixPath","collectionGroup","readTime","documentId"],zu=["prefixPath","collectionGroup","documentId"],Fh=["collectionGroup","readTime","prefixPath","documentId"],qg=["canonicalId","targetId"],Yg=["targetId","path"],Zg=["path","targetId"],Ev=["collectionId","parent"],g_=["indexId","uid"],m_=["uid","sequenceNumber"],Lp=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],$p=["indexId","uid","orderedDocumentKey"],wv=["userId","collectionPath","documentId"],fy=["userId","collectionPath","largestBatchId"],Xg=["userId","collectionGroup","largestBatchId"],Qg=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],py=[...Qg,"documentOverlays"],Jg=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Wu=Jg,Vo=[...Wu,"indexConfiguration","indexState","indexEntries"];class Uo extends xa{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function ro(i,e){const t=jn(i);return Zo.M(t.se,e)}class Lh{constructor(e,t,a,h){this.batchId=e,this.localWriteTime=t,this.baseMutations=a,this.mutations=h}applyToRemoteDocument(e,t){const a=t.mutationResults;for(let h=0;h<this.mutations.length;h++){const m=this.mutations[h];m.key.isEqual(e.key)&&xh(m,e,a[h])}}applyToLocalView(e,t){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(t=_u(a,e,t,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(t=_u(a,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const a=wl();return this.mutations.forEach(h=>{const m=e.get(h.key),E=m.overlayedDocument;let R=this.applyToLocalView(E,m.mutatedFields);R=t.has(h.key)?null:R;const Y=nu(E,R);null!==Y&&a.set(h.key,Y),E.isValidDocument()||E.convertToNoDocument(Ln.min())}),a}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),gi())}isEqual(e){return this.batchId===e.batchId&&Fo(this.mutations,e.mutations,(t,a)=>xf(t,a))&&Fo(this.baseMutations,e.baseMutations,(t,a)=>xf(t,a))}}class Bp{constructor(e,t,a,h){this.batch=e,this.commitVersion=t,this.mutationResults=a,this.docVersions=h}static from(e,t,a){Yn(e.mutations.length===a.length);let h=no;const m=e.mutations;for(let E=0;E<m.length;E++)h=h.insert(m[E].key,a[E].version);return new Bp(e,t,a,h)}}class io{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class fc{constructor(e,t,a,h,m=Ln.min(),E=Ln.min(),R=S.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=a,this.sequenceNumber=h,this.snapshotVersion=m,this.lastLimboFreeSnapshotVersion=E,this.resumeToken=R}withSequenceNumber(e){return new fc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new fc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new fc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Ku{constructor(e){this.ie=e}}function Ff(i,e){const t=e.key,a={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Lf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())a.document={name:Rl(h=i.ie,(m=e).key),fields:m.data.value.mapValue.fields,updateTime:Ro(h,m.version.toTimestamp()),createTime:Ro(h,m.createTime.toTimestamp())};else if(e.isNoDocument())a.noDocument={path:t.path.toArray(),readTime:Xc(e.version)};else{if(!e.isUnknownDocument())return Tn();a.unknownDocument={path:t.path.toArray(),version:Xc(e.version)}}var h,m;return a}function Lf(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Xc(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function pc(i){const e=new Bi(i.seconds,i.nanoseconds);return Ln.fromTimestamp(e)}function gc(i,e){const t=(e.baseMutations||[]).map(m=>It(i.ie,m));for(let m=0;m<e.mutations.length-1;++m){const E=e.mutations[m];m+1<e.mutations.length&&void 0!==e.mutations[m+1].transform&&(E.updateTransforms=e.mutations[m+1].transform.fieldTransforms,e.mutations.splice(m+1,1),++m)}const a=e.mutations.map(m=>It(i.ie,m)),h=Bi.fromMillis(e.localWriteTimeMs);return new Lh(e.batchId,h,t,a)}function Qc(i){const e=pc(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?pc(i.lastLimboFreeSnapshotVersion):Ln.min();let a;var h;return void 0!==i.query.documents?(Yn(1===(h=i.query).documents.length),a=bo(Io(Rf(h.documents[0])))):a=bo(Lr(i.query)),new fc(a,i.targetId,0,i.lastListenSequenceNumber,e,t,S.fromBase64String(i.resumeToken))}function em(i,e){const t=Xc(e.snapshotVersion),a=Xc(e.lastLimboFreeSnapshotVersion);let h;h=Ch(e.target)?Bn(i.ie,e.target):cr(i.ie,e.target);const m=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:$o(e.target),readTime:t,resumeToken:m,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:a,query:h}}function $d(i){const e=Lr({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Vc(e,e.limit,"L"):e}function Jc(i,e){return new io(e.largestBatchId,It(i.ie,e.overlayMutation))}function $h(i,e){const t=e.path.lastSegment();return[i,ia(e.path.popLast()),t]}function Vp(i,e,t,a){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:Xc(a.readTime),documentKey:ia(a.documentKey.path),largestBatchId:a.largestBatchId}}class tm{getBundleMetadata(e,t){return $f(e).get(t).next(a=>{if(a)return{id:(h=a).bundleId,createTime:pc(h.createTime),version:h.version};var h})}saveBundleMetadata(e,t){return $f(e).put({bundleId:(a=t).id,createTime:Xc(Ns(a.createTime)),version:a.version});var a}getNamedQuery(e,t){return Up(e).get(t).next(a=>{if(a)return{name:(h=a).name,query:$d(h.bundledQuery),readTime:pc(h.readTime)};var h})}saveNamedQuery(e,t){return Up(e).put({name:(a=t).name,readTime:Xc(Ns(a.readTime)),bundledQuery:a.bundledQuery});var a}}function $f(i){return ro(i,"bundles")}function Up(i){return ro(i,"namedQueries")}class Bh{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new Bh(e,t.uid||"")}getOverlay(e,t){return Bd(e).get($h(this.userId,t)).next(a=>a?Jc(this.yt,a):null)}getOverlays(e,t){const a=xo();return jt.forEach(t,h=>this.getOverlay(e,h).next(m=>{null!==m&&a.set(h,m)})).next(()=>a)}saveOverlays(e,t,a){const h=[];return a.forEach((m,E)=>{const R=new io(t,E);h.push(this.oe(e,R))}),jt.waitFor(h)}removeOverlaysForBatchId(e,t,a){const h=new Set;t.forEach(E=>h.add(ia(E.getCollectionPath())));const m=[];return h.forEach(E=>{const R=IDBKeyRange.bound([this.userId,E,a],[this.userId,E,a+1],!1,!0);m.push(Bd(e).Y("collectionPathOverlayIndex",R))}),jt.waitFor(m)}getOverlaysForCollection(e,t,a){const h=xo(),m=ia(t),E=IDBKeyRange.bound([this.userId,m,a],[this.userId,m,Number.POSITIVE_INFINITY],!0);return Bd(e).W("collectionPathOverlayIndex",E).next(R=>{for(const Y of R){const se=Jc(this.yt,Y);h.set(se.getKey(),se)}return h})}getOverlaysForCollectionGroup(e,t,a,h){const m=xo();let E;const R=IDBKeyRange.bound([this.userId,t,a],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Bd(e).Z({index:"collectionGroupOverlayIndex",range:R},(Y,se,Pe)=>{const ft=Jc(this.yt,se);m.size()<h||ft.largestBatchId===E?(m.set(ft.getKey(),ft),E=ft.largestBatchId):Pe.done()}).next(()=>m)}oe(e,t){return Bd(e).put(function(a,h,m){const[E,R,Y]=$h(h,m.mutation.key);return{userId:h,collectionPath:R,documentId:Y,collectionGroup:m.mutation.key.getCollectionGroup(),largestBatchId:m.largestBatchId,overlayMutation:De(a.ie,m.mutation)}}(this.yt,this.userId,t))}}function Bd(i){return ro(i,"documentOverlays")}class mc{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(O(e.integerValue));else if("doubleValue"in e){const a=O(e.doubleValue);isNaN(a)?this.he(t,13):(this.he(t,15),yl(a)?t.le(0):t.le(a))}else if("timestampValue"in e){const a=e.timestampValue;this.he(t,20),"string"==typeof a?t.fe(a):(t.fe(`${a.seconds||""}`),t.le(a.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(z(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const a=e.geoPointValue;this.he(t,45),t.le(a.latitude||0),t.le(a.longitude||0)}else"mapValue"in e?Ee(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):Tn()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const a=e.fields||{};this.he(t,55);for(const h of Object.keys(a))this.de(h,t),this.ce(a[h],t)}ye(e,t){const a=e.values||[];this.he(t,50);for(const h of a)this.ce(h,t)}me(e,t){this.he(t,37),$n.fromName(e).path.forEach(a=>{this.he(t,60),this.pe(a,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function jp(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function nm(i){const e=64-function(t){let a=0;for(let h=0;h<8;++h){const m=jp(255&t[h]);if(a+=m,8!==m)break}return a}(i);return Math.ceil(e/8)}mc.Ie=new mc;class Hp{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let a=t.next();for(;!a.done;)this.Ee(a.value),a=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let a=t.next();for(;!a.done;)this.be(a.value),a=t.next();this.Pe()}ve(e){for(const t of e){const a=t.charCodeAt(0);if(a<128)this.Ee(a);else if(a<2048)this.Ee(960|a>>>6),this.Ee(128|63&a);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|a>>>12),this.Ee(128|63&a>>>6),this.Ee(128|63&a);else{const h=t.codePointAt(0);this.Ee(240|h>>>18),this.Ee(128|63&h>>>12),this.Ee(128|63&h>>>6),this.Ee(128|63&h)}}this.Ae()}Ve(e){for(const t of e){const a=t.charCodeAt(0);if(a<128)this.be(a);else if(a<2048)this.be(960|a>>>6),this.be(128|63&a);else if(t<"\ud800"||"\udbff"<t)this.be(480|a>>>12),this.be(128|63&a>>>6),this.be(128|63&a);else{const h=t.codePointAt(0);this.be(240|h>>>18),this.be(128|63&h>>>12),this.be(128|63&h>>>6),this.be(128|63&h)}}this.Pe()}Se(e){const t=this.De(e),a=nm(t);this.Ce(1+a),this.buffer[this.position++]=255&a;for(let h=t.length-a;h<t.length;++h)this.buffer[this.position++]=255&t[h]}xe(e){const t=this.De(e),a=nm(t);this.Ce(1+a),this.buffer[this.position++]=~(255&a);for(let h=t.length-a;h<t.length;++h)this.buffer[this.position++]=~(255&t[h])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(h){const m=new DataView(new ArrayBuffer(8));return m.setFloat64(0,h,!1),new Uint8Array(m.buffer)}(e),a=0!=(128&t[0]);t[0]^=a?255:128;for(let h=1;h<t.length;++h)t[h]^=a?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let a=2*this.buffer.length;a<t&&(a=t);const h=new Uint8Array(a);h.set(this.buffer),this.buffer=h}}class gy{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class Bf{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class Vd{constructor(){this.$e=new Hp,this.Be=new gy(this.$e),this.Le=new Bf(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class yc{constructor(e,t,a,h){this.indexId=e,this.documentKey=t,this.arrayValue=a,this.directionalValue=h}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,a=new Uint8Array(t);return a.set(this.directionalValue,0),t!==e?a.set([0],this.directionalValue.length):++a[a.length-1],new yc(this.indexId,this.documentKey,this.arrayValue,a)}}function rl(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=rm(i.arrayValue,e.arrayValue),0!==t?t:(t=rm(i.directionalValue,e.directionalValue),0!==t?t:$n.comparator(i.documentKey,e.documentKey)))}function rm(i,e){for(let t=0;t<i.length&&t<e.length;++t){const a=i[t]-e[t];if(0!==a)return a}return i.length-e.length}class Gp{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const a=t;a.isInequality()?this.Qe=a:this.Ge.push(a)}}je(e){Yn(e.collectionGroup===this.collectionId);const t=za(e);if(void 0!==t&&!this.We(t))return!1;const a=qo(e);let h=0,m=0;for(;h<a.length&&this.We(a[h]);++h);if(h===a.length)return!0;if(void 0!==this.Qe){const E=a[h];if(!this.ze(this.Qe,E)||!this.He(this.Ke[m++],E))return!1;++h}for(;h<a.length;++h){const E=a[h];if(m>=this.Ke.length||!this.He(this.Ke[m++],E))return!1}return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Ud(i){var e,t;if(Yn(i instanceof Nn||i instanceof ii),i instanceof Nn){if(i instanceof Yl){const h=(null===(t=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(m=>Nn.create(i.field,"==",m)))||[];return ii.create(h,"or")}return i}const a=i.filters.map(h=>Ud(h));return ii.create(a,i.op)}function my(i){if(0===i.getFilters().length)return[];const e=Vh(Ud(i));return Yn(qu(e)),vc(e)||jd(e)?[e]:e.getFilters()}function vc(i){return i instanceof Nn}function jd(i){return i instanceof ii&&Za(i)}function qu(i){return vc(i)||jd(i)||function(e){if(e instanceof ii&&Ra(e)){for(const t of e.getFilters())if(!vc(t)&&!jd(t))return!1;return!0}return!1}(i)}function Vh(i){if(Yn(i instanceof Nn||i instanceof ii),i instanceof Nn)return i;if(1===i.filters.length)return Vh(i.filters[0]);const e=i.filters.map(a=>Vh(a));let t=ii.create(e,i.op);return t=Vf(t),qu(t)?t:(Yn(t instanceof ii),Yn(_s(t)),Yn(t.filters.length>1),t.filters.reduce((a,h)=>Uh(a,h)))}function Uh(i,e){let t;return Yn(i instanceof Nn||i instanceof ii),Yn(e instanceof Nn||e instanceof ii),t=i instanceof Nn?e instanceof Nn?ii.create([i,e],"and"):im(i,e):e instanceof Nn?im(e,i):function(a,h){if(Yn(a.filters.length>0&&h.filters.length>0),_s(a)&&_s(h))return Qa(a,h.getFilters());const m=Ra(a)?a:h,E=Ra(a)?h:a,R=m.filters.map(Y=>Uh(Y,E));return ii.create(R,"or")}(i,e),Vf(t)}function im(i,e){if(_s(e))return Qa(e,i.getFilters());{const t=e.filters.map(a=>Uh(i,a));return ii.create(t,"or")}}function Vf(i){if(Yn(i instanceof Nn||i instanceof ii),i instanceof Nn)return i;const e=i.getFilters();if(1===e.length)return Vf(e[0]);if(Xa(i))return i;const t=e.map(h=>Vf(h)),a=[];return t.forEach(h=>{h instanceof Nn?a.push(h):h instanceof ii&&(h.op===i.op?a.push(...h.filters):a.push(h))}),1===a.length?a[0]:ii.create(a,i.op)}class Fs{constructor(){this.Je=new Du}addToCollectionParentIndex(e,t){return this.Je.add(t),jt.resolve()}getCollectionParents(e,t){return jt.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return jt.resolve()}deleteFieldIndex(e,t){return jt.resolve()}getDocumentsMatchingTarget(e,t){return jt.resolve(null)}getIndexType(e,t){return jt.resolve(0)}getFieldIndexes(e,t){return jt.resolve([])}getNextCollectionGroupToUpdate(e){return jt.resolve(null)}getMinOffset(e,t){return jt.resolve(vs.min())}getMinOffsetFromCollectionGroup(e,t){return jt.resolve(vs.min())}updateCollectionGroup(e,t,a){return jt.resolve()}updateIndexEntries(e,t){return jt.resolve()}}class Du{constructor(){this.index={}}add(e){const t=e.lastSegment(),a=e.popLast(),h=this.index[t]||new Fi(ei.comparator),m=!h.has(a);return this.index[t]=h.add(a),m}has(e){const t=e.lastSegment(),a=e.popLast(),h=this.index[t];return h&&h.has(a)}getEntries(e){return(this.index[e]||new Fi(ei.comparator)).toArray()}}const Hd=new Uint8Array(0);class yy{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new Du,this.Xe=new _l(a=>$o(a),(a,h)=>gu(a,h)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const a=t.lastSegment(),h=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const m={collectionId:a,parent:ia(h)};return sm(e).put(m)}return jt.resolve()}getCollectionParents(e,t){const a=[],h=IDBKeyRange.bound([t,""],[Al(t),""],!1,!0);return sm(e).W(h).next(m=>{for(const E of m){if(E.collectionId!==t)break;a.push(Cl(E.parent))}return a})}addFieldIndex(e,t){const a=Uf(e),h={indexId:(E=t).indexId,collectionGroup:E.collectionGroup,fields:E.fields.map(R=>[R.fieldPath.canonicalString(),R.kind])};var E;delete h.indexId;const m=a.add(h);if(t.indexState){const E=Gd(e);return m.next(R=>{E.put(Vp(R,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return m.next()}deleteFieldIndex(e,t){const a=Uf(e),h=Gd(e),m=ed(e);return a.delete(t.indexId).next(()=>h.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>m.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const a=ed(e);let h=!0;const m=new Map;return jt.forEach(this.Ze(t),E=>this.tn(e,E).next(R=>{h&&(h=!!R),m.set(E,R)})).next(()=>{if(h){let E=gi();const R=[];return jt.forEach(m,(Y,se)=>{var Pe;cn("IndexedDbIndexManager",`Using index ${Pe=Y,`id=${Pe.indexId}|cg=${Pe.collectionGroup}|f=${Pe.fields.map(Yi=>`${Yi.fieldPath}:${Yi.kind}`).join(",")}`} to execute ${$o(t)}`);const ft=function(Yi,Oo){const ns=za(Oo);if(void 0===ns)return null;for(const cs of Td(Yi,ns.fieldPath))switch(cs.op){case"array-contains-any":return cs.value.arrayValue.values||[];case"array-contains":return[cs.value]}return null}(se,Y),$t=function(Yi,Oo){const ns=new Map;for(const cs of qo(Oo))for(const jo of Td(Yi,cs.fieldPath))switch(jo.op){case"==":case"in":ns.set(cs.fieldPath.canonicalString(),jo.value);break;case"not-in":case"!=":return ns.set(cs.fieldPath.canonicalString(),jo.value),Array.from(ns.values())}return null}(se,Y),an=function(Yi,Oo){const ns=[];let cs=!0;for(const jo of qo(Oo)){const _h=0===jo.kind?Sd(Yi,jo.fieldPath,Yi.startAt):Xl(Yi,jo.fieldPath,Yi.startAt);ns.push(_h.value),cs&&(cs=_h.inclusive)}return new Jn(ns,cs)}(se,Y),In=function(Yi,Oo){const ns=[];let cs=!0;for(const jo of qo(Oo)){const _h=0===jo.kind?Xl(Yi,jo.fieldPath,Yi.endAt):Sd(Yi,jo.fieldPath,Yi.endAt);ns.push(_h.value),cs&&(cs=_h.inclusive)}return new Jn(ns,cs)}(se,Y),dr=this.en(Y,se,an),Mr=this.en(Y,se,In),Ts=this.nn(Y,se,$t),oo=this.sn(Y.indexId,ft,dr,an.inclusive,Mr,In.inclusive,Ts);return jt.forEach(oo,Yi=>a.J(Yi,t.limit).next(Oo=>{Oo.forEach(ns=>{const cs=$n.fromSegments(ns.documentKey);E.has(cs)||(E=E.add(cs),R.push(cs))})}))}).next(()=>R)}return jt.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:my(ii.create(e.filters,"and")).map(a=>nc(e.path,e.collectionGroup,e.orderBy,a.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,a,h,m,E,R){const Y=(null!=t?t.length:1)*Math.max(a.length,m.length),se=Y/(null!=t?t.length:1),Pe=[];for(let ft=0;ft<Y;++ft){const $t=t?this.rn(t[ft/se]):Hd,an=this.on(e,$t,a[ft%se],h),In=this.un(e,$t,m[ft%se],E),dr=R.map(Mr=>this.on(e,$t,Mr,!0));Pe.push(...this.createRange(an,In,dr))}return Pe}on(e,t,a,h){const m=new yc(e,$n.empty(),t,a);return h?m:m.Ue()}un(e,t,a,h){const m=new yc(e,$n.empty(),t,a);return h?m.Ue():m}tn(e,t){const a=new Gp(t),h=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,h).next(m=>{let E=null;for(const R of m)a.je(R)&&(!E||R.fields.length>E.fields.length)&&(E=R);return E})}getIndexType(e,t){let a=2;const h=this.Ze(t);return jt.forEach(h,m=>this.tn(e,m).next(E=>{E?0!==a&&E.fields.length<function(R){let Y=new Fi(Di.comparator),se=!1;for(const Pe of R.filters)for(const ft of Pe.getFlattenedFilters())ft.field.isKeyField()||("array-contains"===ft.op||"array-contains-any"===ft.op?se=!0:Y=Y.add(ft.field));for(const Pe of R.orderBy)Pe.field.isKeyField()||(Y=Y.add(Pe.field));return Y.size+(se?1:0)}(m)&&(a=1):a=0})).next(()=>null!==t.limit&&h.length>1&&2===a?1:a)}cn(e,t){const a=new Vd;for(const h of qo(e)){const m=t.data.field(h.fieldPath);if(null==m)return null;const E=a.qe(h.kind);mc.Ie.ue(m,E)}return a.Fe()}rn(e){const t=new Vd;return mc.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const a=new Vd;return mc.Ie.ue(Mi(this.databaseId,t),a.qe(function(h){const m=qo(h);return 0===m.length?0:m[m.length-1].kind}(e))),a.Fe()}nn(e,t,a){if(null===a)return[];let h=[];h.push(new Vd);let m=0;for(const E of qo(e)){const R=a[m++];for(const Y of h)if(this.hn(t,E.fieldPath)&&Lo(R))h=this.ln(h,E,R);else{const se=Y.qe(E.kind);mc.Ie.ue(R,se)}}return this.fn(h)}en(e,t,a){return this.nn(e,t,a.position)}fn(e){const t=[];for(let a=0;a<e.length;++a)t[a]=e[a].Fe();return t}ln(e,t,a){const h=[...e],m=[];for(const E of a.arrayValue.values||[])for(const R of h){const Y=new Vd;Y.seed(R.Fe()),mc.Ie.ue(E,Y.qe(t.kind)),m.push(Y)}return m}hn(e,t){return!!e.filters.find(a=>a instanceof Nn&&a.field.isEqual(t)&&("in"===a.op||"not-in"===a.op))}getFieldIndexes(e,t){const a=Uf(e),h=Gd(e);return(t?a.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):a.W()).next(m=>{const E=[];return jt.forEach(m,R=>h.get([R.indexId,this.uid]).next(Y=>{E.push(function(se,Pe){const ft=Pe?new Aa(Pe.sequenceNumber,new vs(pc(Pe.readTime),new $n(Cl(Pe.documentKey)),Pe.largestBatchId)):Aa.empty(),$t=se.fields.map(([an,In])=>new uo(Di.fromServerFormat(an),In));return new Ga(se.indexId,se.collectionGroup,$t,ft)}(R,Y))})).next(()=>E)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((a,h)=>{const m=a.indexState.sequenceNumber-h.indexState.sequenceNumber;return 0!==m?m:Br(a.collectionGroup,h.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,a){const h=Uf(e),m=Gd(e);return this.dn(e).next(E=>h.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(R=>jt.forEach(R,Y=>m.put(Vp(Y.indexId,this.user,E,a)))))}updateIndexEntries(e,t){const a=new Map;return jt.forEach(t,(h,m)=>{const E=a.get(h.collectionGroup);return(E?jt.resolve(E):this.getFieldIndexes(e,h.collectionGroup)).next(R=>(a.set(h.collectionGroup,R),jt.forEach(R,Y=>this._n(e,h,Y).next(se=>{const Pe=this.wn(m,Y);return se.isEqual(Pe)?jt.resolve():this.mn(e,m,Y,se,Pe)}))))})}gn(e,t,a,h){return ed(e).put({indexId:h.indexId,uid:this.uid,arrayValue:h.arrayValue,directionalValue:h.directionalValue,orderedDocumentKey:this.an(a,t.key),documentKey:t.key.path.toArray()})}yn(e,t,a,h){return ed(e).delete([h.indexId,this.uid,h.arrayValue,h.directionalValue,this.an(a,t.key),t.key.path.toArray()])}_n(e,t,a){const h=ed(e);let m=new Fi(rl);return h.Z({index:"documentKeyIndex",range:IDBKeyRange.only([a.indexId,this.uid,this.an(a,t)])},(E,R)=>{m=m.add(new yc(a.indexId,t,R.arrayValue,R.directionalValue))}).next(()=>m)}wn(e,t){let a=new Fi(rl);const h=this.cn(t,e);if(null==h)return a;const m=za(t);if(null!=m){const E=e.data.field(m.fieldPath);if(Lo(E))for(const R of E.arrayValue.values||[])a=a.add(new yc(t.indexId,e.key,this.rn(R),h))}else a=a.add(new yc(t.indexId,e.key,Hd,h));return a}mn(e,t,a,h,m){cn("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const E=[];return function(R,Y,se,Pe,ft){const $t=R.getIterator(),an=Y.getIterator();let In=tc($t),dr=tc(an);for(;In||dr;){let Mr=!1,Ts=!1;if(In&&dr){const oo=se(In,dr);oo<0?Ts=!0:oo>0&&(Mr=!0)}else null!=In?Ts=!0:Mr=!0;Mr?(Pe(dr),dr=tc(an)):Ts?(ft(In),In=tc($t)):(In=tc($t),dr=tc(an))}}(h,m,rl,R=>{E.push(this.gn(e,t,a,R))},R=>{E.push(this.yn(e,t,a,R))}),jt.waitFor(E)}dn(e){let t=1;return Gd(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(a,h,m)=>{m.done(),t=h.sequenceNumber+1}).next(()=>t)}createRange(e,t,a){a=a.sort((E,R)=>rl(E,R)).filter((E,R,Y)=>!R||0!==rl(E,Y[R-1]));const h=[];h.push(e);for(const E of a){const R=rl(E,e),Y=rl(E,t);if(0===R)h[0]=e.Ue();else if(R>0&&Y<0)h.push(E),h.push(E.Ue());else if(Y>0)break}h.push(t);const m=[];for(let E=0;E<h.length;E+=2){if(this.pn(h[E],h[E+1]))return[];m.push(IDBKeyRange.bound([h[E].indexId,this.uid,h[E].arrayValue,h[E].directionalValue,Hd,[]],[h[E+1].indexId,this.uid,h[E+1].arrayValue,h[E+1].directionalValue,Hd,[]]))}return m}pn(e,t){return rl(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(zp)}getMinOffset(e,t){return jt.mapArray(this.Ze(t),a=>this.tn(e,a).next(h=>h||Tn())).next(zp)}}function sm(i){return ro(i,"collectionParents")}function ed(i){return ro(i,"indexEntries")}function Uf(i){return ro(i,"indexConfiguration")}function Gd(i){return ro(i,"indexState")}function zp(i){Yn(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let a=1;a<i.length;a++){const h=i[a].indexState.offset;gl(h,e)<0&&(e=h),t<h.largestBatchId&&(t=h.largestBatchId)}return new vs(e.readTime,e.documentKey,t)}const jf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Dl{constructor(e,t,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=a}static withCacheSize(e){return new Dl(e,Dl.DEFAULT_COLLECTION_PERCENTILE,Dl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function om(i,e,t){const a=i.store("mutations"),h=i.store("documentMutations"),m=[],E=IDBKeyRange.only(t.batchId);let R=0;const Y=a.Z({range:E},(Pe,ft,$t)=>(R++,$t.delete()));m.push(Y.next(()=>{Yn(1===R)}));const se=[];for(const Pe of t.mutations){const ft=Kg(e,Pe.key.path,t.batchId);m.push(h.delete(ft)),se.push(Pe.key)}return jt.waitFor(m).next(()=>se)}function _c(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw Tn();e=i.noDocument}return JSON.stringify(e).length}Dl.DEFAULT_COLLECTION_PERCENTILE=10,Dl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dl.DEFAULT=new Dl(41943040,Dl.DEFAULT_COLLECTION_PERCENTILE,Dl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dl.DISABLED=new Dl(-1,0,0);class jh{constructor(e,t,a,h){this.userId=e,this.yt=t,this.indexManager=a,this.referenceDelegate=h,this.In={}}static re(e,t,a,h){Yn(""!==e.uid);const m=e.isAuthenticated()?e.uid:"";return new jh(m,t,a,h)}checkEmpty(e){let t=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ol(e).Z({index:"userMutationsIndex",range:a},(h,m,E)=>{t=!1,E.done()}).next(()=>t)}addMutationBatch(e,t,a,h){const m=zd(e),E=Ol(e);return E.add({}).next(R=>{Yn("number"==typeof R);const Y=new Lh(R,t,a,h),se=function($t,an,In){const dr=In.baseMutations.map(Ts=>De($t.ie,Ts)),Mr=In.mutations.map(Ts=>De($t.ie,Ts));return{userId:an,batchId:In.batchId,localWriteTimeMs:In.localWriteTime.toMillis(),baseMutations:dr,mutations:Mr}}(this.yt,this.userId,Y),Pe=[];let ft=new Fi(($t,an)=>Br($t.canonicalString(),an.canonicalString()));for(const $t of h){const an=Kg(this.userId,$t.key.path,R);ft=ft.add($t.key.path.popLast()),Pe.push(E.put(se)),Pe.push(m.put(an,hy))}return ft.forEach($t=>{Pe.push(this.indexManager.addToCollectionParentIndex(e,$t))}),e.addOnCommittedListener(()=>{this.In[R]=Y.keys()}),jt.waitFor(Pe).next(()=>Y)})}lookupMutationBatch(e,t){return Ol(e).get(t).next(a=>a?(Yn(a.userId===this.userId),gc(this.yt,a)):null)}Tn(e,t){return this.In[t]?jt.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(a=>{if(a){const h=a.keys();return this.In[t]=h,h}return null})}getNextMutationBatchAfterBatchId(e,t){const a=t+1,h=IDBKeyRange.lowerBound([this.userId,a]);let m=null;return Ol(e).Z({index:"userMutationsIndex",range:h},(E,R,Y)=>{R.userId===this.userId&&(Yn(R.batchId>=a),m=gc(this.yt,R)),Y.done()}).next(()=>m)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return Ol(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(h,m,E)=>{a=m.batchId,E.done()}).next(()=>a)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ol(e).W("userMutationsIndex",t).next(a=>a.map(h=>gc(this.yt,h)))}getAllMutationBatchesAffectingDocumentKey(e,t){const a=Zc(this.userId,t.path),h=IDBKeyRange.lowerBound(a),m=[];return zd(e).Z({range:h},(E,R,Y)=>{const[se,Pe,ft]=E,$t=Cl(Pe);if(se===this.userId&&t.path.isEqual($t))return Ol(e).get(ft).next(an=>{if(!an)throw Tn();Yn(an.userId===this.userId),m.push(gc(this.yt,an))});Y.done()}).next(()=>m)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new Fi(Br);const h=[];return t.forEach(m=>{const E=Zc(this.userId,m.path),R=IDBKeyRange.lowerBound(E),Y=zd(e).Z({range:R},(se,Pe,ft)=>{const[$t,an,In]=se,dr=Cl(an);$t===this.userId&&m.path.isEqual(dr)?a=a.add(In):ft.done()});h.push(Y)}),jt.waitFor(h).next(()=>this.En(e,a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,h=a.length+1,m=Zc(this.userId,a),E=IDBKeyRange.lowerBound(m);let R=new Fi(Br);return zd(e).Z({range:E},(Y,se,Pe)=>{const[ft,$t,an]=Y,In=Cl($t);ft===this.userId&&a.isPrefixOf(In)?In.length===h&&(R=R.add(an)):Pe.done()}).next(()=>this.En(e,R))}En(e,t){const a=[],h=[];return t.forEach(m=>{h.push(Ol(e).get(m).next(E=>{if(null===E)throw Tn();Yn(E.userId===this.userId),a.push(gc(this.yt,E))}))}),jt.waitFor(h).next(()=>a)}removeMutationBatch(e,t){return om(e.se,this.userId,t).next(a=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),jt.forEach(a,h=>this.referenceDelegate.markPotentiallyOrphaned(e,h))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return jt.resolve();const a=IDBKeyRange.lowerBound([this.userId]),h=[];return zd(e).Z({range:a},(m,E,R)=>{if(m[0]===this.userId){const Y=Cl(m[1]);h.push(Y)}else R.done()}).next(()=>{Yn(0===h.length)})})}containsKey(e,t){return td(e,this.userId,t)}Rn(e){return Wd(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function td(i,e,t){const a=Zc(e,t.path),h=a[1],m=IDBKeyRange.lowerBound(a);let E=!1;return zd(i).Z({range:m,X:!0},(R,Y,se)=>{const[Pe,ft,$t]=R;Pe===e&&ft===h&&(E=!0),se.done()}).next(()=>E)}function Ol(i){return ro(i,"mutations")}function zd(i){return ro(i,"documentMutations")}function Wd(i){return ro(i,"mutationQueues")}class Yu{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Yu(0)}static vn(){return new Yu(-1)}}class am{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const a=new Yu(t.highestTargetId);return t.highestTargetId=a.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Ln.fromTimestamp(new Bi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,a){return this.Vn(e).next(h=>(h.highestListenSequenceNumber=t,a&&(h.lastRemoteSnapshotVersion=a.toTimestamp()),t>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=t),this.Sn(e,h)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(a=>(a.targetCount+=1,this.Cn(t,a),this.Sn(e,a))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Tu(e).delete(t.targetId)).next(()=>this.Vn(e)).next(a=>(Yn(a.targetCount>0),a.targetCount-=1,this.Sn(e,a)))}removeTargets(e,t,a){let h=0;const m=[];return Tu(e).Z((E,R)=>{const Y=Qc(R);Y.sequenceNumber<=t&&null===a.get(Y.targetId)&&(h++,m.push(this.removeTargetData(e,Y)))}).next(()=>jt.waitFor(m)).next(()=>h)}forEachTarget(e,t){return Tu(e).Z((a,h)=>{const m=Qc(h);t(m)})}Vn(e){return Kd(e).get("targetGlobalKey").next(t=>(Yn(null!==t),t))}Sn(e,t){return Kd(e).put("targetGlobalKey",t)}Dn(e,t){return Tu(e).put(em(this.yt,t))}Cn(e,t){let a=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,a=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,a=!0),a}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const a=$o(t),h=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let m=null;return Tu(e).Z({range:h,index:"queryTargetsIndex"},(E,R,Y)=>{const se=Qc(R);gu(t,se.target)&&(m=se,Y.done())}).next(()=>m)}addMatchingKeys(e,t,a){const h=[],m=Ls(e);return t.forEach(E=>{const R=ia(E.path);h.push(m.put({targetId:a,path:R})),h.push(this.referenceDelegate.addReference(e,a,E))}),jt.waitFor(h)}removeMatchingKeys(e,t,a){const h=Ls(e);return jt.forEach(t,m=>{const E=ia(m.path);return jt.waitFor([h.delete([a,E]),this.referenceDelegate.removeReference(e,a,m)])})}removeMatchingKeysForTargetId(e,t){const a=Ls(e),h=IDBKeyRange.bound([t],[t+1],!1,!0);return a.delete(h)}getMatchingKeysForTargetId(e,t){const a=IDBKeyRange.bound([t],[t+1],!1,!0),h=Ls(e);let m=gi();return h.Z({range:a,X:!0},(E,R,Y)=>{const se=Cl(E[1]),Pe=new $n(se);m=m.add(Pe)}).next(()=>m)}containsKey(e,t){const a=ia(t.path),h=IDBKeyRange.bound([a],[Al(a)],!1,!0);let m=0;return Ls(e).Z({index:"documentTargetsIndex",X:!0,range:h},([E,R],Y,se)=>{0!==E&&(m++,se.done())}).next(()=>m>0)}ne(e,t){return Tu(e).get(t).next(a=>a?Qc(a):null)}}function Tu(i){return ro(i,"targets")}function Kd(i){return ro(i,"targetGlobal")}function Ls(i){return ro(i,"targetDocuments")}function Wp([i,e],[t,a]){const h=Br(i,t);return 0===h?Br(e,a):h}class Kp{constructor(e){this.xn=e,this.buffer=new Fi(Wp),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const a=this.buffer.last();Wp(t,a)<0&&(this.buffer=this.buffer.delete(a).add(t))}}get maxValue(){return this.buffer.last()[0]}}class qp{constructor(e,t,a){this.garbageCollector=e,this.asyncQueue=t,this.localStore=a,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;cn("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ce.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(a){co(a)?cn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield Ka(a)}yield t.Fn(3e5)}))}}class vy{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(a=>Math.floor(t/100*a))}nthSequenceNumber(e,t){if(0===t)return jt.resolve(zr.at);const a=new Kp(t);return this.$n.forEachTarget(e,h=>a.On(h.sequenceNumber)).next(()=>this.$n.Ln(e,h=>a.On(h))).next(()=>a.maxValue)}removeTargets(e,t,a){return this.$n.removeTargets(e,t,a)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(cn("LruGarbageCollector","Garbage collection skipped; disabled"),jt.resolve(jf)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(cn("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jf):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let a,h,m,E,R,Y,se;const Pe=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ft=>(ft>this.params.maximumSequenceNumbersToCollect?(cn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ft}`),h=this.params.maximumSequenceNumbersToCollect):h=ft,E=Date.now(),this.nthSequenceNumber(e,h))).next(ft=>(a=ft,R=Date.now(),this.removeTargets(e,a,t))).next(ft=>(m=ft,Y=Date.now(),this.removeOrphanedDocuments(e,a))).next(ft=>(se=Date.now(),Ci()<=tt.in.DEBUG&&cn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${E-Pe}ms\n\tDetermined least recently used ${h} in `+(R-E)+`ms\n\tRemoved ${m} targets in `+(Y-R)+`ms\n\tRemoved ${ft} documents in `+(se-Y)+`ms\nTotal Duration: ${se-Pe}ms`),jt.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:m,documentsRemoved:ft})))}}class Yp{constructor(e,t){this.db=e,this.garbageCollector=new vy(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(a=>t.next(h=>a+h))}Un(e){let t=0;return this.Ln(e,a=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(a,h)=>t(h))}addReference(e,t,a){return Ec(e,a)}removeReference(e,t,a){return Ec(e,a)}removeTargets(e,t,a){return this.db.getTargetCache().removeTargets(e,t,a)}markPotentiallyOrphaned(e,t){return Ec(e,t)}Gn(e,t){return function(a,h){let m=!1;return Wd(a).tt(E=>td(a,E,h).next(R=>(R&&(m=!0),jt.resolve(!R)))).next(()=>m)}(e,t)}removeOrphanedDocuments(e,t){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let m=0;return this.Kn(e,(E,R)=>{if(R<=t){const Y=this.Gn(e,E).next(se=>{if(!se)return m++,a.getEntry(e,E).next(()=>(a.removeEntry(E,Ln.min()),Ls(e).delete([0,ia(E.path)])))});h.push(Y)}}).next(()=>jt.waitFor(h)).next(()=>a.apply(e)).next(()=>m)}removeTarget(e,t){const a=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,a)}updateLimboDocument(e,t){return Ec(e,t)}Kn(e,t){const a=Ls(e);let h,m=zr.at;return a.Z({index:"documentTargetsIndex"},([E,R],{path:Y,sequenceNumber:se})=>{0===E?(m!==zr.at&&t(new $n(Cl(h)),m),m=se,h=Y):m=zr.at}).next(()=>{m!==zr.at&&t(new $n(Cl(h)),m)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ec(i,e){return Ls(i).put((a=i.currentSequenceNumber,{targetId:0,path:ia(e.path),sequenceNumber:a}));var a}class Hh{constructor(){this.changes=new _l(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Es.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const a=this.changes.get(t);return void 0!==a?jt.resolve(a):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class lm{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,a){return wc(e).put(a)}removeEntry(e,t,a){return wc(e).delete(function(h,m){const E=h.path.toArray();return[E.slice(0,E.length-2),E[E.length-2],Lf(m),E[E.length-1]]}(t,a))}updateMetadata(e,t){return this.getMetadata(e).next(a=>(a.byteSize+=t,this.Qn(e,a)))}getEntry(e,t){let a=Es.newInvalidDocument(t);return wc(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Pl(t))},(h,m)=>{a=this.jn(t,m)}).next(()=>a)}Wn(e,t){let a={size:0,document:Es.newInvalidDocument(t)};return wc(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Pl(t))},(h,m)=>{a={document:this.jn(t,m),size:_c(m)}}).next(()=>a)}getEntries(e,t){let a=to();return this.zn(e,t,(h,m)=>{const E=this.jn(h,m);a=a.insert(h,E)}).next(()=>a)}Hn(e,t){let a=to(),h=new Ms($n.comparator);return this.zn(e,t,(m,E)=>{const R=this.jn(m,E);a=a.insert(m,R),h=h.insert(m,_c(E))}).next(()=>({documents:a,Jn:h}))}zn(e,t,a){if(t.isEmpty())return jt.resolve();let h=new Fi(Au);t.forEach(Y=>h=h.add(Y));const m=IDBKeyRange.bound(Pl(h.first()),Pl(h.last())),E=h.getIterator();let R=E.getNext();return wc(e).Z({index:"documentKeyIndex",range:m},(Y,se,Pe)=>{const ft=$n.fromSegments([...se.prefixPath,se.collectionGroup,se.documentId]);for(;R&&Au(R,ft)<0;)a(R,null),R=E.getNext();R&&R.isEqual(ft)&&(a(R,se),R=E.hasNext()?E.getNext():null),R?Pe.j(Pl(R)):Pe.done()}).next(()=>{for(;R;)a(R,null),R=E.hasNext()?E.getNext():null})}getAllFromCollection(e,t,a){const h=[t.popLast().toArray(),t.lastSegment(),Lf(a.readTime),a.documentKey.path.isEmpty()?"":a.documentKey.path.lastSegment()],m=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return wc(e).W(IDBKeyRange.bound(h,m,!0)).next(E=>{let R=to();for(const Y of E){const se=this.jn($n.fromSegments(Y.prefixPath.concat(Y.collectionGroup,Y.documentId)),Y);R=R.insert(se.key,se)}return R})}getAllFromCollectionGroup(e,t,a,h){let m=to();const E=Ic(t,a),R=Ic(t,vs.max());return wc(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(E,R,!0)},(Y,se,Pe)=>{const ft=this.jn($n.fromSegments(se.prefixPath.concat(se.collectionGroup,se.documentId)),se);m=m.insert(ft.key,ft),m.size===h&&Pe.done()}).next(()=>m)}newChangeBuffer(e){return new Zp(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Su(e).get("remoteDocumentGlobalKey").next(t=>(Yn(!!t),t))}Qn(e,t){return Su(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const a=function Nf(i,e){let t;if(e.document)t=_(i.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const a=$n.fromSegments(e.noDocument.path),h=pc(e.noDocument.readTime);t=Es.newNoDocument(a,h),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Tn();{const a=$n.fromSegments(e.unknownDocument.path),h=pc(e.unknownDocument.version);t=Es.newUnknownDocument(a,h)}}return e.readTime&&t.setReadTime(function(a){const h=new Bi(a[0],a[1]);return Ln.fromTimestamp(h)}(e.readTime)),t}(this.yt,t);if(!a.isNoDocument()||!a.version.isEqual(Ln.min()))return a}return Es.newInvalidDocument(e)}}function Hf(i){return new lm(i)}class Zp extends Hh{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new _l(a=>a.toString(),(a,h)=>a.isEqual(h))}applyChanges(e){const t=[];let a=0,h=new Fi((m,E)=>Br(m.canonicalString(),E.canonicalString()));return this.changes.forEach((m,E)=>{const R=this.Xn.get(m);if(t.push(this.Yn.removeEntry(e,m,R.readTime)),E.isValidDocument()){const Y=Ff(this.Yn.yt,E);h=h.add(m.path.popLast());const se=_c(Y);a+=se-R.size,t.push(this.Yn.addEntry(e,m,Y))}else if(a-=R.size,this.trackRemovals){const Y=Ff(this.Yn.yt,E.convertToNoDocument(Ln.min()));t.push(this.Yn.addEntry(e,m,Y))}}),h.forEach(m=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,m))}),t.push(this.Yn.updateMetadata(e,a)),jt.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(a=>(this.Xn.set(t,{size:a.size,readTime:a.document.readTime}),a.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:a,Jn:h})=>(h.forEach((m,E)=>{this.Xn.set(m,{size:E,readTime:a.get(m).readTime})}),a))}}function Su(i){return ro(i,"remoteDocumentGlobal")}function wc(i){return ro(i,"remoteDocumentsV14")}function Pl(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Ic(i,e){const t=e.documentKey.path.toArray();return[i,Lf(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Au(i,e){const t=i.path.toArray(),a=e.path.toArray();let h=0;for(let m=0;m<t.length-2&&m<a.length-2;++m)if(h=Br(t[m],a[m]),h)return h;return h=Br(t.length,a.length),h||(h=Br(t[t.length-2],a[a.length-2]),h||Br(t[t.length-1],a[a.length-1]))}class Gf{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class um{constructor(e,t,a,h){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=a,this.indexManager=h}getDocument(e,t){let a=null;return this.documentOverlayCache.getOverlay(e,t).next(h=>(a=h,this.remoteDocumentCache.getEntry(e,t))).next(h=>(null!==a&&_u(a.mutation,h,Jo.empty(),Bi.now()),h))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.getLocalViewOfDocuments(e,a,gi()).next(()=>a))}getLocalViewOfDocuments(e,t,a=gi()){const h=xo();return this.populateOverlays(e,h,t).next(()=>this.computeViews(e,t,h,a).next(m=>{let E=Ml();return m.forEach((R,Y)=>{E=E.insert(R,Y.overlayedDocument)}),E}))}getOverlayedDocuments(e,t){const a=xo();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,gi()))}populateOverlays(e,t,a){const h=[];return a.forEach(m=>{t.has(m)||h.push(m)}),this.documentOverlayCache.getOverlays(e,h).next(m=>{m.forEach((E,R)=>{t.set(E,R)})})}computeViews(e,t,a,h){let m=to();const E=Gu(),R=Gu();return t.forEach((Y,se)=>{const Pe=a.get(se.key);h.has(se.key)&&(void 0===Pe||Pe.mutation instanceof Pa)?m=m.insert(se.key,se):void 0!==Pe&&(E.set(se.key,Pe.mutation.getFieldMask()),_u(Pe.mutation,se,Pe.mutation.getFieldMask(),Bi.now()))}),this.recalculateAndSaveOverlays(e,m).next(Y=>(Y.forEach((se,Pe)=>E.set(se,Pe)),t.forEach((se,Pe)=>{var ft;return R.set(se,new Gf(Pe,null!==(ft=E.get(se))&&void 0!==ft?ft:null))}),R))}recalculateAndSaveOverlays(e,t){const a=Gu();let h=new Ms((E,R)=>E-R),m=gi();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(E=>{for(const R of E)R.keys().forEach(Y=>{const se=t.get(Y);if(null===se)return;let Pe=a.get(Y)||Jo.empty();Pe=R.applyToLocalView(se,Pe),a.set(Y,Pe);const ft=(h.get(R.batchId)||gi()).add(Y);h=h.insert(R.batchId,ft)})}).next(()=>{const E=[],R=h.getReverseIterator();for(;R.hasNext();){const Y=R.getNext(),se=Y.key,Pe=Y.value,ft=wl();Pe.forEach($t=>{if(!m.has($t)){const an=nu(t.get($t),a.get($t));null!==an&&ft.set($t,an),m=m.add($t)}}),E.push(this.documentOverlayCache.saveOverlays(e,se,ft))}return jt.waitFor(E)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,t,a){return $n.isDocumentKey((h=t).path)&&null===h.collectionGroup&&0===h.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Ad(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,a):this.getDocumentsMatchingCollectionQuery(e,t,a);var h}getNextDocuments(e,t,a,h){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,a,h).next(m=>{const E=h-m.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,a.largestBatchId,h-m.size):jt.resolve(xo());let R=-1,Y=m;return E.next(se=>jt.forEach(se,(Pe,ft)=>(R<ft.largestBatchId&&(R=ft.largestBatchId),m.get(Pe)?jt.resolve():this.remoteDocumentCache.getEntry(e,Pe).next($t=>{Y=Y.insert(Pe,$t)}))).next(()=>this.populateOverlays(e,se,m)).next(()=>this.computeViews(e,Y,se,gi())).next(Pe=>({batchId:R,changes:na(Pe)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new $n(t)).next(a=>{let h=Ml();return a.isFoundDocument()&&(h=h.insert(a.key,a)),h})}getDocumentsMatchingCollectionGroupQuery(e,t,a){const h=t.collectionGroup;let m=Ml();return this.indexManager.getCollectionParents(e,h).next(E=>jt.forEach(E,R=>{const Y=(se=t,Pe=R.child(h),new ea(Pe,null,se.explicitOrderBy.slice(),se.filters.slice(),se.limit,se.limitType,se.startAt,se.endAt));var se,Pe;return this.getDocumentsMatchingCollectionQuery(e,Y,a).next(se=>{se.forEach((Pe,ft)=>{m=m.insert(Pe,ft)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(e,t,a){let h;return this.remoteDocumentCache.getAllFromCollection(e,t.path,a).next(m=>(h=m,this.documentOverlayCache.getOverlaysForCollection(e,t.path,a.largestBatchId))).next(m=>{m.forEach((R,Y)=>{const se=Y.getKey();null===h.get(se)&&(h=h.insert(se,Es.newInvalidDocument(se)))});let E=Ml();return h.forEach((R,Y)=>{const se=m.get(R);void 0!==se&&_u(se.mutation,Y,Jo.empty(),Bi.now()),jc(t,Y)&&(E=E.insert(R,Y))}),E})}}class Iv{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return jt.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var a;return this.Zn.set(t.id,{id:(a=t).id,version:a.version,createTime:Ns(a.createTime)}),jt.resolve()}getNamedQuery(e,t){return jt.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(a=t).name,query:$d(a.bundledQuery),readTime:Ns(a.readTime)}),jt.resolve();var a}}class bv{constructor(){this.overlays=new Ms($n.comparator),this.es=new Map}getOverlay(e,t){return jt.resolve(this.overlays.get(t))}getOverlays(e,t){const a=xo();return jt.forEach(t,h=>this.getOverlay(e,h).next(m=>{null!==m&&a.set(h,m)})).next(()=>a)}saveOverlays(e,t,a){return a.forEach((h,m)=>{this.oe(e,t,m)}),jt.resolve()}removeOverlaysForBatchId(e,t,a){const h=this.es.get(a);return void 0!==h&&(h.forEach(m=>this.overlays=this.overlays.remove(m)),this.es.delete(a)),jt.resolve()}getOverlaysForCollection(e,t,a){const h=xo(),m=t.length+1,E=new $n(t.child("")),R=this.overlays.getIteratorFrom(E);for(;R.hasNext();){const Y=R.getNext().value,se=Y.getKey();if(!t.isPrefixOf(se.path))break;se.path.length===m&&Y.largestBatchId>a&&h.set(Y.getKey(),Y)}return jt.resolve(h)}getOverlaysForCollectionGroup(e,t,a,h){let m=new Ms((se,Pe)=>se-Pe);const E=this.overlays.getIterator();for(;E.hasNext();){const se=E.getNext().value;if(se.getKey().getCollectionGroup()===t&&se.largestBatchId>a){let Pe=m.get(se.largestBatchId);null===Pe&&(Pe=xo(),m=m.insert(se.largestBatchId,Pe)),Pe.set(se.getKey(),se)}}const R=xo(),Y=m.getIterator();for(;Y.hasNext()&&(Y.getNext().value.forEach((se,Pe)=>R.set(se,Pe)),!(R.size()>=h)););return jt.resolve(R)}oe(e,t,a){const h=this.overlays.get(a.key);if(null!==h){const E=this.es.get(h.largestBatchId).delete(a.key);this.es.set(h.largestBatchId,E)}this.overlays=this.overlays.insert(a.key,new io(t,a));let m=this.es.get(t);void 0===m&&(m=gi(),this.es.set(t,m)),this.es.set(t,m.add(a.key))}}class zf{constructor(){this.ns=new Fi(sa.ss),this.rs=new Fi(sa.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const a=new sa(e,t);this.ns=this.ns.add(a),this.rs=this.rs.add(a)}us(e,t){e.forEach(a=>this.addReference(a,t))}removeReference(e,t){this.cs(new sa(e,t))}hs(e,t){e.forEach(a=>this.removeReference(a,t))}ls(e){const t=new $n(new ei([])),a=new sa(t,e),h=new sa(t,e+1),m=[];return this.rs.forEachInRange([a,h],E=>{this.cs(E),m.push(E.key)}),m}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new $n(new ei([])),a=new sa(t,e),h=new sa(t,e+1);let m=gi();return this.rs.forEachInRange([a,h],E=>{m=m.add(E.key)}),m}containsKey(e){const t=new sa(e,0),a=this.ns.firstAfterOrEqual(t);return null!==a&&e.isEqual(a.key)}}class sa{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return $n.comparator(e.key,t.key)||Br(e._s,t._s)}static os(e,t){return Br(e._s,t._s)||$n.comparator(e.key,t.key)}}class cm{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Fi(sa.ss)}checkEmpty(e){return jt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,a,h){const m=this.ws;this.ws++;const E=new Lh(m,t,a,h);this.mutationQueue.push(E);for(const R of h)this.gs=this.gs.add(new sa(R.key,m)),this.indexManager.addToCollectionParentIndex(e,R.key.path.popLast());return jt.resolve(E)}lookupMutationBatch(e,t){return jt.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const h=this.ps(t+1),m=h<0?0:h;return jt.resolve(this.mutationQueue.length>m?this.mutationQueue[m]:null)}getHighestUnacknowledgedBatchId(){return jt.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return jt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const a=new sa(t,0),h=new sa(t,Number.POSITIVE_INFINITY),m=[];return this.gs.forEachInRange([a,h],E=>{const R=this.ys(E._s);m.push(R)}),jt.resolve(m)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new Fi(Br);return t.forEach(h=>{const m=new sa(h,0),E=new sa(h,Number.POSITIVE_INFINITY);this.gs.forEachInRange([m,E],R=>{a=a.add(R._s)})}),jt.resolve(this.Is(a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,h=a.length+1;let m=a;$n.isDocumentKey(m)||(m=m.child(""));const E=new sa(new $n(m),0);let R=new Fi(Br);return this.gs.forEachWhile(Y=>{const se=Y.key.path;return!!a.isPrefixOf(se)&&(se.length===h&&(R=R.add(Y._s)),!0)},E),jt.resolve(this.Is(R))}Is(e){const t=[];return e.forEach(a=>{const h=this.ys(a);null!==h&&t.push(h)}),t}removeMutationBatch(e,t){Yn(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let a=this.gs;return jt.forEach(t.mutations,h=>{const m=new sa(h.key,t.batchId);return a=a.delete(m),this.referenceDelegate.markPotentiallyOrphaned(e,h.key)}).next(()=>{this.gs=a})}An(e){}containsKey(e,t){const a=new sa(t,0),h=this.gs.firstAfterOrEqual(a);return jt.resolve(t.isEqual(h&&h.key))}performConsistencyCheck(e){return jt.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Cv{constructor(e){this.Es=e,this.docs=new Ms($n.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const a=t.key,h=this.docs.get(a),m=h?h.size:0,E=this.Es(t);return this.docs=this.docs.insert(a,{document:t.mutableCopy(),size:E}),this.size+=E-m,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const a=this.docs.get(t);return jt.resolve(a?a.document.mutableCopy():Es.newInvalidDocument(t))}getEntries(e,t){let a=to();return t.forEach(h=>{const m=this.docs.get(h);a=a.insert(h,m?m.document.mutableCopy():Es.newInvalidDocument(h))}),jt.resolve(a)}getAllFromCollection(e,t,a){let h=to();const m=new $n(t.child("")),E=this.docs.getIteratorFrom(m);for(;E.hasNext();){const{key:R,value:{document:Y}}=E.getNext();if(!t.isPrefixOf(R.path))break;R.path.length>t.length+1||gl(Yo(Y),a)<=0||(h=h.insert(Y.key,Y.mutableCopy()))}return jt.resolve(h)}getAllFromCollectionGroup(e,t,a,h){Tn()}As(e,t){return jt.forEach(this.docs,a=>t(a))}newChangeBuffer(e){return new dm(this)}getSize(e){return jt.resolve(this.size)}}class dm extends Hh{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((a,h)=>{h.isValidDocument()?t.push(this.Yn.addEntry(e,h)):this.Yn.removeEntry(a)}),jt.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class _y{constructor(e){this.persistence=e,this.Rs=new _l(t=>$o(t),gu),this.lastRemoteSnapshotVersion=Ln.min(),this.highestTargetId=0,this.bs=0,this.Ps=new zf,this.targetCount=0,this.vs=Yu.Pn()}forEachTarget(e,t){return this.Rs.forEach((a,h)=>t(h)),jt.resolve()}getLastRemoteSnapshotVersion(e){return jt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return jt.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),jt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,a){return a&&(this.lastRemoteSnapshotVersion=a),t>this.bs&&(this.bs=t),jt.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Yu(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,jt.resolve()}updateTargetData(e,t){return this.Dn(t),jt.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,jt.resolve()}removeTargets(e,t,a){let h=0;const m=[];return this.Rs.forEach((E,R)=>{R.sequenceNumber<=t&&null===a.get(R.targetId)&&(this.Rs.delete(E),m.push(this.removeMatchingKeysForTargetId(e,R.targetId)),h++)}),jt.waitFor(m).next(()=>h)}getTargetCount(e){return jt.resolve(this.targetCount)}getTargetData(e,t){const a=this.Rs.get(t)||null;return jt.resolve(a)}addMatchingKeys(e,t,a){return this.Ps.us(t,a),jt.resolve()}removeMatchingKeys(e,t,a){this.Ps.hs(t,a);const h=this.persistence.referenceDelegate,m=[];return h&&t.forEach(E=>{m.push(h.markPotentiallyOrphaned(e,E))}),jt.waitFor(m)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),jt.resolve()}getMatchingKeysForTargetId(e,t){const a=this.Ps.ds(t);return jt.resolve(a)}containsKey(e,t){return jt.resolve(this.Ps.containsKey(t))}}class ka{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new zr(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new _y(this),this.indexManager=new Fs,this.remoteDocumentCache=new Cv(a=>this.referenceDelegate.xs(a)),this.yt=new Ku(t),this.Ns=new Iv(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new bv,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let a=this.Vs[e.toKey()];return a||(a=new cm(t,this.referenceDelegate),this.Vs[e.toKey()]=a),a}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,a){cn("MemoryPersistence","Starting transaction:",e);const h=new Xp(this.Ss.next());return this.referenceDelegate.ks(),a(h).next(m=>this.referenceDelegate.Os(h).next(()=>m)).toPromise().then(m=>(h.raiseOnCommittedEvent(),m))}Ms(e,t){return jt.or(Object.values(this.Vs).map(a=>()=>a.containsKey(e,t)))}}class Xp extends xa{constructor(e){super(),this.currentSequenceNumber=e}}class qd{constructor(e){this.persistence=e,this.Fs=new zf,this.$s=null}static Bs(e){return new qd(e)}get Ls(){if(this.$s)return this.$s;throw Tn()}addReference(e,t,a){return this.Fs.addReference(a,t),this.Ls.delete(a.toString()),jt.resolve()}removeReference(e,t,a){return this.Fs.removeReference(a,t),this.Ls.add(a.toString()),jt.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),jt.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(h=>this.Ls.add(h.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,t.targetId).next(h=>{h.forEach(m=>this.Ls.add(m.toString()))}).next(()=>a.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return jt.forEach(this.Ls,a=>{const h=$n.fromPath(a);return this.qs(e,h).next(m=>{m||t.removeEntry(h,Ln.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(a=>{a?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return jt.or([()=>jt.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class kl{constructor(e){this.yt=e}$(e,t,a,h){const m=new Hl("createOrUpgrade",t);var R;a<1&&h>=1&&(e.createObjectStore("owner"),(R=e).createObjectStore("mutationQueues",{keyPath:"userId"}),R.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Nh,{unique:!0}),R.createObjectStore("documentMutations"),hm(e),function(R){R.createObjectStore("remoteDocuments")}(e));let E=jt.resolve();return a<3&&h>=3&&(0!==a&&(function(R){R.deleteObjectStore("targetDocuments"),R.deleteObjectStore("targets"),R.deleteObjectStore("targetGlobal")}(e),hm(e)),E=E.next(()=>function(R){const Y=R.store("targetGlobal"),se={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ln.min().toTimestamp(),targetCount:0};return Y.put("targetGlobalKey",se)}(m))),a<4&&h>=4&&(0!==a&&(E=E.next(()=>function(R,Y){return Y.store("mutations").W().next(se=>{R.deleteObjectStore("mutations"),R.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Nh,{unique:!0});const Pe=Y.store("mutations"),ft=se.map($t=>Pe.put($t));return jt.waitFor(ft)})}(e,m))),E=E.next(()=>{!function(R){R.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),a<5&&h>=5&&(E=E.next(()=>this.Us(m))),a<6&&h>=6&&(E=E.next(()=>(function(R){R.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(m)))),a<7&&h>=7&&(E=E.next(()=>this.Gs(m))),a<8&&h>=8&&(E=E.next(()=>this.Qs(e,m))),a<9&&h>=9&&(E=E.next(()=>{!function(R){R.objectStoreNames.contains("remoteDocumentChanges")&&R.deleteObjectStore("remoteDocumentChanges")}(e)})),a<10&&h>=10&&(E=E.next(()=>this.js(m))),a<11&&h>=11&&(E=E.next(()=>{(function(R){R.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(R){R.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),a<12&&h>=12&&(E=E.next(()=>{!function(R){const Y=R.createObjectStore("documentOverlays",{keyPath:wv});Y.createIndex("collectionPathOverlayIndex",fy,{unique:!1}),Y.createIndex("collectionGroupOverlayIndex",Xg,{unique:!1})}(e)})),a<13&&h>=13&&(E=E.next(()=>function(R){const Y=R.createObjectStore("remoteDocumentsV14",{keyPath:Fp});Y.createIndex("documentKeyIndex",zu),Y.createIndex("collectionGroupIndex",Fh)}(e)).next(()=>this.Ws(e,m)).next(()=>e.deleteObjectStore("remoteDocuments"))),a<14&&h>=14&&(E=E.next(()=>this.zs(e,m))),a<15&&h>=15&&(E=E.next(()=>function(R){R.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),R.createObjectStore("indexState",{keyPath:g_}).createIndex("sequenceNumberIndex",m_,{unique:!1}),R.createObjectStore("indexEntries",{keyPath:Lp}).createIndex("documentKeyIndex",$p,{unique:!1})}(e))),E}Ks(e){let t=0;return e.store("remoteDocuments").Z((a,h)=>{t+=_c(h)}).next(()=>{const a={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",a)})}Us(e){const t=e.store("mutationQueues"),a=e.store("mutations");return t.W().next(h=>jt.forEach(h,m=>{const E=IDBKeyRange.bound([m.userId,-1],[m.userId,m.lastAcknowledgedBatchId]);return a.W("userMutationsIndex",E).next(R=>jt.forEach(R,Y=>{Yn(Y.userId===m.userId);const se=gc(this.yt,Y);return om(e,m.userId,se).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),a=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(h=>{const m=[];return a.Z((E,R)=>{const Y=new ei(E),se=[0,ia(Y)];m.push(t.get(se).next(Pe=>Pe?jt.resolve():t.put({targetId:0,path:ia(Y),sequenceNumber:h.highestListenSequenceNumber})))}).next(()=>jt.waitFor(m))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:Ev});const a=t.store("collectionParents"),h=new Du,m=E=>{if(h.add(E)){const R=E.lastSegment(),Y=E.popLast();return a.put({collectionId:R,parent:ia(Y)})}};return t.store("remoteDocuments").Z({X:!0},(E,R)=>{const Y=new ei(E);return m(Y.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([E,R,Y],se)=>{const Pe=Cl(R);return m(Pe.popLast())}))}js(e){const t=e.store("targets");return t.Z((a,h)=>{const m=Qc(h),E=em(this.yt,m);return t.put(E)})}Ws(e,t){const a=t.store("remoteDocuments"),h=[];return a.Z((m,E)=>{const R=t.store("remoteDocumentsV14"),Y=(se=E,se.document?new $n(ei.fromString(se.document.name).popFirst(5)):se.noDocument?$n.fromSegments(se.noDocument.path):se.unknownDocument?$n.fromSegments(se.unknownDocument.path):Tn()).path.toArray();var se;const Pe={prefixPath:Y.slice(0,Y.length-2),collectionGroup:Y[Y.length-2],documentId:Y[Y.length-1],readTime:E.readTime||[0,0],unknownDocument:E.unknownDocument,noDocument:E.noDocument,document:E.document,hasCommittedMutations:!!E.hasCommittedMutations};h.push(R.put(Pe))}).next(()=>jt.waitFor(h))}zs(e,t){const a=t.store("mutations"),h=Hf(this.yt),m=new ka(qd.Bs,this.yt.ie);return a.W().next(E=>{const R=new Map;return E.forEach(Y=>{var se;let Pe=null!==(se=R.get(Y.userId))&&void 0!==se?se:gi();gc(this.yt,Y).keys().forEach(ft=>Pe=Pe.add(ft)),R.set(Y.userId,Pe)}),jt.forEach(R,(Y,se)=>{const Pe=new Gn(se),ft=Bh.re(this.yt,Pe),$t=m.getIndexManager(Pe),an=jh.re(Pe,this.yt,$t,m.referenceDelegate);return new um(h,an,ft,$t).recalculateAndSaveOverlaysForDocumentKeys(new Uo(t,zr.at),Y).next()})})}}function hm(i){i.createObjectStore("targetDocuments",{keyPath:Yg}).createIndex("documentTargetsIndex",Zg,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",qg,{unique:!0}),i.createObjectStore("targetGlobal")}const Gh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Wf{constructor(e,t,a,h,m,E,R,Y,se,Pe,ft=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=a,this.Hs=m,this.window=E,this.document=R,this.Js=se,this.Ys=Pe,this.Xs=ft,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=$t=>Promise.resolve(),!Wf.C())throw new fn(Wt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Yp(this,h),this.ii=t+"main",this.yt=new Ku(Y),this.ri=new Zo(this.ii,this.Xs,new kl(this.yt)),this.Cs=new am(this.referenceDelegate,this.yt),this.remoteDocumentCache=Hf(this.yt),this.Ns=new tm,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===Pe&&jr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new fn(Wt.FAILED_PRECONDITION,Gh);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new zr(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var a=(0,Ce.Z)(function*(h){if(t.started)return e(h)});return function(h){return a.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Ce.Z)(function*(a){null===a.newVersion&&(yield e())});return function(a){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Ce.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Kf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(co(e))return cn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return cn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return zh(e).get("owner").next(t=>jt.resolve(this.mi(t)))}gi(e){return Kf(e).delete(this.clientId)}yi(){var e=this;return(0,Ce.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const h=ro(a,"clientMetadata");return h.W().next(m=>{const E=e.Ii(m,18e5),R=m.filter(Y=>-1===E.indexOf(Y));return jt.forEach(R,Y=>h.delete(Y.clientId)).next(()=>R)})}).catch(()=>[]);if(e.oi)for(const a of t)e.oi.removeItem(e.Ti(a.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?jt.resolve(!0):zh(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new fn(Wt.FAILED_PRECONDITION,Gh);return!1}}return!(!this.networkEnabled||!this.inForeground)||Kf(e).W().next(a=>void 0===this.Ii(a,5e3).find(h=>{if(this.clientId!==h.clientId){const E=!this.inForeground&&h.inForeground,R=this.networkEnabled===h.networkEnabled;if(!this.networkEnabled&&h.networkEnabled||E&&R)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&cn("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ce.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const a=new Uo(t,zr.at);return e._i(a).next(()=>e.gi(a))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(a=>this.pi(a.updateTimeMs,t)&&!this.Ei(a.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Kf(e).W().next(t=>this.Ii(t,18e5).map(a=>a.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return jh.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new yy(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return Bh.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,a){cn("IndexedDbPersistence","Starting transaction:",e);const h="readonly"===t?"readonly":"readwrite",m=15===(E=this.Xs)?Vo:14===E?Wu:13===E?Jg:12===E?py:11===E?Qg:void Tn();var E;let R;return this.ri.runTransaction(e,h,m,Y=>(R=new Uo(Y,this.Ss?this.Ss.next():zr.at),"readwrite-primary"===t?this.fi(R).next(se=>!!se||this.di(R)).next(se=>{if(!se)throw jr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new fn(Wt.FAILED_PRECONDITION,Uu);return a(R)}).next(se=>this.wi(R).next(()=>se)):this.Vi(R).next(()=>a(R)))).then(Y=>(R.raiseOnCommittedEvent(),Y))}Vi(e){return zh(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new fn(Wt.FAILED_PRECONDITION,Gh)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return zh(e).put("owner",t)}static C(){return Zo.C()}_i(e){const t=zh(e);return t.get("owner").next(a=>this.mi(a)?(cn("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):jt.resolve())}pi(e,t){const a=Date.now();return!(e<a-t||e>a&&(jr(`Detected an update time that is in the future: ${e} > ${a}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Ke.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const a=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return cn("IndexedDbPersistence",`Client '${e}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return jr("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){jr("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(e){}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function zh(i){return ro(i,"owner")}function Kf(i){return ro(i,"clientMetadata")}function Qp(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class Tl{constructor(e,t,a,h){this.targetId=e,this.fromCache=t,this.Si=a,this.Di=h}static Ci(e,t){let a=gi(),h=gi();for(const m of t.docChanges)switch(m.type){case 0:a=a.add(m.doc.key);break;case 1:h=h.add(m.doc.key)}return new Tl(e,t.fromCache,a,h)}}class qf{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,a,h){return this.ki(e,t).next(m=>m||this.Oi(e,t,h,a)).next(m=>m||this.Mi(e,t))}ki(e,t){if($c(t))return jt.resolve(null);let a=bo(t);return this.indexManager.getIndexType(e,a).next(h=>0===h?null:(null!==t.limit&&1===h&&(t=Vc(t,null,"F"),a=bo(t)),this.indexManager.getDocumentsMatchingTarget(e,a).next(m=>{const E=gi(...m);return this.Ni.getDocuments(e,E).next(R=>this.indexManager.getMinOffset(e,a).next(Y=>{const se=this.Fi(t,R);return this.$i(t,se,E,Y.readTime)?this.ki(e,Vc(t,null,"F")):this.Bi(e,se,t,Y)}))})))}Oi(e,t,a,h){return $c(t)||h.isEqual(Ln.min())?this.Mi(e,t):this.Ni.getDocuments(e,a).next(m=>{const E=this.Fi(t,m);return this.$i(t,E,a,h)?this.Mi(e,t):(Ci()<=tt.in.DEBUG&&cn("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),xd(t)),this.Bi(e,E,t,jl(h,-1)))})}Fi(e,t){let a=new Fi(Bo(e));return t.forEach((h,m)=>{jc(e,m)&&(a=a.add(m))}),a}$i(e,t,a,h){if(null===e.limit)return!1;if(a.size!==t.size)return!0;const m="F"===e.limitType?t.last():t.first();return!!m&&(m.hasPendingWrites||m.version.compareTo(h)>0)}Mi(e,t){return Ci()<=tt.in.DEBUG&&cn("QueryEngine","Using full collection scan to execute query:",xd(t)),this.Ni.getDocumentsMatchingQuery(e,t,vs.min())}Bi(e,t,a,h){return this.Ni.getDocumentsMatchingQuery(e,a,h).next(m=>(t.forEach(E=>{m=m.insert(E.key,E)}),m))}}class Ey{constructor(e,t,a,h){this.persistence=e,this.Li=t,this.yt=h,this.qi=new Ms(Br),this.Ui=new _l(m=>$o(m),gu),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(a)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new um(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function fm(i,e,t,a){return new Ey(i,e,t,a)}function si(i,e){return Yf.apply(this,arguments)}function Yf(){return Yf=(0,Ce.Z)(function*(i,e){const t=jn(i);return yield t.persistence.runTransaction("Handle user change","readonly",a=>{let h;return t.mutationQueue.getAllMutationBatches(a).next(m=>(h=m,t.Qi(e),t.mutationQueue.getAllMutationBatches(a))).next(m=>{const E=[],R=[];let Y=gi();for(const se of h){E.push(se.batchId);for(const Pe of se.mutations)Y=Y.add(Pe.key)}for(const se of m){R.push(se.batchId);for(const Pe of se.mutations)Y=Y.add(Pe.key)}return t.localDocuments.getDocuments(a,Y).next(se=>({ji:se,removedBatchIds:E,addedBatchIds:R}))})})}),Yf.apply(this,arguments)}function _a(i,e){const t=jn(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const h=e.batch.keys(),m=t.Gi.newChangeBuffer({trackRemovals:!0});return function(E,R,Y,se){const Pe=Y.batch,ft=Pe.keys();let $t=jt.resolve();return ft.forEach(an=>{$t=$t.next(()=>se.getEntry(R,an)).next(In=>{const dr=Y.docVersions.get(an);Yn(null!==dr),In.version.compareTo(dr)<0&&(Pe.applyToRemoteDocument(In,Y),In.isValidDocument()&&(In.setReadTime(Y.commitVersion),se.addEntry(In)))})}),$t.next(()=>E.mutationQueue.removeMutationBatch(R,Pe))}(t,a,e,m).next(()=>m.apply(a)).next(()=>t.mutationQueue.performConsistencyCheck(a)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(a,h,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(E){let R=gi();for(let Y=0;Y<E.mutationResults.length;++Y)E.mutationResults[Y].transformResults.length>0&&(R=R.add(E.batch.mutations[Y].key));return R}(e))).next(()=>t.localDocuments.getDocuments(a,h))})}function Yd(i){const e=jn(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function wy(i,e){const t=jn(i),a=e.snapshotVersion;let h=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",m=>{const E=t.Gi.newChangeBuffer({trackRemovals:!0});h=t.qi;const R=[];e.targetChanges.forEach((Pe,ft)=>{const $t=h.get(ft);if(!$t)return;R.push(t.Cs.removeMatchingKeys(m,Pe.removedDocuments,ft).next(()=>t.Cs.addMatchingKeys(m,Pe.addedDocuments,ft)));let an=$t.withSequenceNumber(m.currentSequenceNumber);var In,dr,Mr;e.targetMismatches.has(ft)?an=an.withResumeToken(S.EMPTY_BYTE_STRING,Ln.min()).withLastLimboFreeSnapshotVersion(Ln.min()):Pe.resumeToken.approximateByteSize()>0&&(an=an.withResumeToken(Pe.resumeToken,a)),h=h.insert(ft,an),dr=an,Mr=Pe,(0===(In=$t).resumeToken.approximateByteSize()||dr.snapshotVersion.toMicroseconds()-In.snapshotVersion.toMicroseconds()>=3e8||Mr.addedDocuments.size+Mr.modifiedDocuments.size+Mr.removedDocuments.size>0)&&R.push(t.Cs.updateTargetData(m,an))});let Y=to(),se=gi();if(e.documentUpdates.forEach(Pe=>{e.resolvedLimboDocuments.has(Pe)&&R.push(t.persistence.referenceDelegate.updateLimboDocument(m,Pe))}),R.push(Zd(m,E,e.documentUpdates).next(Pe=>{Y=Pe.Wi,se=Pe.zi})),!a.isEqual(Ln.min())){const Pe=t.Cs.getLastRemoteSnapshotVersion(m).next(ft=>t.Cs.setTargetsMetadata(m,m.currentSequenceNumber,a));R.push(Pe)}return jt.waitFor(R).next(()=>E.apply(m)).next(()=>t.localDocuments.getLocalViewOfDocuments(m,Y,se)).next(()=>Y)}).then(m=>(t.qi=h,m))}function Zd(i,e,t){let a=gi(),h=gi();return t.forEach(m=>a=a.add(m)),e.getEntries(i,a).next(m=>{let E=to();return t.forEach((R,Y)=>{const se=m.get(R);Y.isFoundDocument()!==se.isFoundDocument()&&(h=h.add(R)),Y.isNoDocument()&&Y.version.isEqual(Ln.min())?(e.removeEntry(R,Y.readTime),E=E.insert(R,Y)):!se.isValidDocument()||Y.version.compareTo(se.version)>0||0===Y.version.compareTo(se.version)&&se.hasPendingWrites?(e.addEntry(Y),E=E.insert(R,Y)):cn("LocalStore","Ignoring outdated watch update for ",R,". Current version:",se.version," Watch version:",Y.version)}),{Wi:E,zi:h}})}function pm(i,e){const t=jn(i);return t.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function Xd(i,e){const t=jn(i);return t.persistence.runTransaction("Allocate target","readwrite",a=>{let h;return t.Cs.getTargetData(a,e).next(m=>m?(h=m,jt.resolve(h)):t.Cs.allocateTargetId(a).next(E=>(h=new fc(e,E,0,a.currentSequenceNumber),t.Cs.addTargetData(a,h).next(()=>h))))}).then(a=>{const h=t.qi.get(a.targetId);return(null===h||a.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(t.qi=t.qi.insert(a.targetId,a),t.Ui.set(e,a.targetId)),a})}function bc(i,e,t){return Jp.apply(this,arguments)}function Jp(){return Jp=(0,Ce.Z)(function*(i,e,t){const a=jn(i),h=a.qi.get(e),m=t?"readwrite":"readwrite-primary";try{t||(yield a.persistence.runTransaction("Release target",m,E=>a.persistence.referenceDelegate.removeTarget(E,h)))}catch(E){if(!co(E))throw E;cn("LocalStore",`Failed to update sequence numbers for target ${e}: ${E}`)}a.qi=a.qi.remove(e),a.Ui.delete(h.target)}),Jp.apply(this,arguments)}function Qd(i,e,t){const a=jn(i);let h=Ln.min(),m=gi();return a.persistence.runTransaction("Execute query","readonly",E=>function(R,Y,se){const Pe=jn(R),ft=Pe.Ui.get(se);return void 0!==ft?jt.resolve(Pe.qi.get(ft)):Pe.Cs.getTargetData(Y,se)}(a,E,bo(e)).next(R=>{if(R)return h=R.lastLimboFreeSnapshotVersion,a.Cs.getMatchingKeysForTargetId(E,R.targetId).next(Y=>{m=Y})}).next(()=>a.Li.getDocumentsMatchingQuery(E,e,t?h:Ln.min(),t?m:gi())).next(R=>(eg(a,rc(e),R),{documents:R,Hi:m})))}function gm(i,e){const t=jn(i),a=jn(t.Cs),h=t.qi.get(e);return h?Promise.resolve(h.target):t.persistence.runTransaction("Get target data","readonly",m=>a.ne(m,e).next(E=>E?E.target:null))}function Zf(i,e){const t=jn(i),a=t.Ki.get(e)||Ln.min();return t.persistence.runTransaction("Get new document changes","readonly",h=>t.Gi.getAllFromCollectionGroup(h,e,jl(a,-1),Number.MAX_SAFE_INTEGER)).then(h=>(eg(t,e,h),h))}function eg(i,e,t){let a=i.Ki.get(e)||Ln.min();t.forEach((h,m)=>{m.readTime.compareTo(a)>0&&(a=m.readTime)}),i.Ki.set(e,a)}function Nl(){return Nl=(0,Ce.Z)(function*(i,e,t,a){const h=jn(i);let m=gi(),E=to();for(const se of t){const Pe=e.Ji(se.metadata.name);se.document&&(m=m.add(Pe));const ft=e.Yi(se);ft.setReadTime(e.Xi(se.metadata.readTime)),E=E.insert(Pe,ft)}const R=h.Gi.newChangeBuffer({trackRemovals:!0}),Y=yield Xd(h,(se=a,bo(Io(ei.fromString(`__bundle__/docs/${se}`)))));var se;return h.persistence.runTransaction("Apply bundle documents","readwrite",se=>Zd(se,R,E).next(Pe=>(R.apply(se),Pe)).next(Pe=>h.Cs.removeMatchingKeysForTargetId(se,Y.targetId).next(()=>h.Cs.addMatchingKeys(se,m,Y.targetId)).next(()=>h.localDocuments.getLocalViewOfDocuments(se,Pe.Wi,Pe.zi)).next(()=>Pe.Wi)))}),Nl.apply(this,arguments)}function Fl(i,e){return Cc.apply(this,arguments)}function Cc(){return Cc=(0,Ce.Z)(function*(i,e,t=gi()){const a=yield Xd(i,bo($d(e.bundledQuery))),h=jn(i);return h.persistence.runTransaction("Save named query","readwrite",m=>{const E=Ns(e.readTime);if(a.snapshotVersion.compareTo(E)>=0)return h.Ns.saveNamedQuery(m,e);const R=a.withResumeToken(S.EMPTY_BYTE_STRING,E);return h.qi=h.qi.insert(R.targetId,R),h.Cs.updateTargetData(m,R).next(()=>h.Cs.removeMatchingKeysForTargetId(m,a.targetId)).next(()=>h.Cs.addMatchingKeys(m,t,a.targetId)).next(()=>h.Ns.saveNamedQuery(m,e))})}),Cc.apply(this,arguments)}function mm(i,e){return`firestore_clients_${i}_${e}`}function Iy(i,e,t){let a=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(a+=`_${e.uid}`),a}function rd(i,e){return`firestore_targets_${i}_${e}`}class id{constructor(e,t,a,h){this.user=e,this.batchId=t,this.state=a,this.error=h}static Zi(e,t,a){const h=JSON.parse(a);let m,E="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return E&&h.error&&(E="string"==typeof h.error.message&&"string"==typeof h.error.code,E&&(m=new fn(h.error.code,h.error.message))),E?new id(e,t,h.state,m):(jr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${a}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Jd{constructor(e,t,a){this.targetId=e,this.state=t,this.error=a}static Zi(e,t){const a=JSON.parse(t);let h,m="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return m&&a.error&&(m="string"==typeof a.error.message&&"string"==typeof a.error.code,m&&(h=new fn(a.error.code,a.error.message))),m?new Jd(e,a.state,h):(jr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Wh{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const a=JSON.parse(t);let h="object"==typeof a&&a.activeTargetIds instanceof Array,m=wu();for(let E=0;h&&E<a.activeTargetIds.length;++E)h=Ya(a.activeTargetIds[E]),m=m.add(a.activeTargetIds[E]);return h?new Wh(e,m):(jr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class tg{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new tg(t.clientId,t.onlineState):(jr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class ng{constructor(){this.activeTargetIds=wu()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Dc{constructor(e,t,a,h,m){this.window=e,this.Hs=t,this.persistenceKey=a,this.sr=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Ms(Br),this.started=!1,this.cr=[];const E=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=m,this.ar=mm(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new ng),this.lr=new RegExp(`^firestore_clients_${E}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${E}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${E}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(R){return`firestore_bundle_loaded_v2_${R}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ce.Z)(function*(){const t=yield e.syncEngine.vi();for(const h of t){if(h===e.sr)continue;const m=e.getItem(mm(e.persistenceKey,h));if(m){const E=Wh.Zi(h,m);E&&(e.ur=e.ur.insert(E.clientId,E))}}e.gr();const a=e.storage.getItem(e.wr);if(a){const h=e.yr(a);h&&e.pr(h)}for(const h of e.cr)e.rr(h);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((a,h)=>{h.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,a){this.Tr(e,t,a),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const a=this.storage.getItem(rd(this.persistenceKey,e));if(a){const h=Jd.Zi(e,a);h&&(t=h.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(rd(this.persistenceKey,e))}updateQueryState(e,t,a){this.Rr(e,t,a)}handleUserChange(e,t,a){t.forEach(h=>{this.Er(h)}),this.currentUser=e,a.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return cn("SharedClientState","READ",e,t),t}setItem(e,t){cn("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){cn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const a=e;if(a.storageArea===this.storage){if(cn("SharedClientState","EVENT",a.key,a.newValue),a.key===this.ar)return void jr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Ce.Z)(function*(){if(t.started){if(null!==a.key)if(t.lr.test(a.key)){if(null==a.newValue){const h=t.vr(a.key);return t.Vr(h,null)}{const h=t.Sr(a.key,a.newValue);if(h)return t.Vr(h.clientId,h)}}else if(t.dr.test(a.key)){if(null!==a.newValue){const h=t.Dr(a.key,a.newValue);if(h)return t.Cr(h)}}else if(t._r.test(a.key)){if(null!==a.newValue){const h=t.Nr(a.key,a.newValue);if(h)return t.kr(h)}}else if(a.key===t.wr){if(null!==a.newValue){const h=t.yr(a.newValue);if(h)return t.pr(h)}}else if(a.key===t.hr){const h=function(m){let E=zr.at;if(null!=m)try{const R=JSON.parse(m);Yn("number"==typeof R),E=R}catch(R){jr("SharedClientState","Failed to read sequence number from WebStorage",R)}return E}(a.newValue);h!==zr.at&&t.sequenceNumberHandler(h)}else if(a.key===t.mr){const h=t.Or(a.newValue);yield Promise.all(h.map(m=>t.syncEngine.Mr(m)))}}else t.cr.push(a)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,a){const h=new id(this.currentUser,e,t,a),m=Iy(this.persistenceKey,this.currentUser,e);this.setItem(m,h.tr())}Er(e){const t=Iy(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,a){const h=rd(this.persistenceKey,e),m=new Jd(e,t,a);this.setItem(h,m.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const a=this.vr(e);return Wh.Zi(a,t)}Dr(e,t){const a=this.dr.exec(e),h=Number(a[1]);return id.Zi(new Gn(void 0!==a[2]?a[2]:null),h,t)}Nr(e,t){const a=this._r.exec(e),h=Number(a[1]);return Jd.Zi(h,t)}yr(e){return tg.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Ce.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);cn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const a=t?this.ur.insert(e,t):this.ur.remove(e),h=this.Ir(this.ur),m=this.Ir(a),E=[],R=[];return m.forEach(Y=>{h.has(Y)||E.push(Y)}),h.forEach(Y=>{m.has(Y)||R.push(Y)}),this.syncEngine.Br(E,R).then(()=>{this.ur=a})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=wu();return e.forEach((a,h)=>{t=t.unionWith(h.activeTargetIds)}),t}}class ym{constructor(){this.Lr=new ng,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,a){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,a){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new ng,Promise.resolve()}handleUserChange(e,t,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class vm{Ur(e){}shutdown(){}}class eh{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){cn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){cn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const _m={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Kh{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class rg extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,a,h,m){const E=this.ho(e,t);cn("RestConnection","Sending: ",E,a);const R={};return this.lo(R,h,m),this.fo(e,E,R,a).then(Y=>(cn("RestConnection","Received: ",Y),Y),Y=>{throw qi("RestConnection",`${e} failed with error: `,Y,"url: ",E,"request:",a),Y})}_o(e,t,a,h,m,E){return this.ao(e,t,a,h,m)}lo(e,t,a){e["X-Goog-Api-Client"]="gl-js/ fire/"+or,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((h,m)=>e[m]=h),a&&a.headers.forEach((h,m)=>e[m]=h)}ho(e,t){return`${this.oo}/v1/${t}:${_m[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,a,h){return new Promise((m,E)=>{const R=new fi;R.setWithCredentials(!0),R.listenOnce(ce.COMPLETE,()=>{try{switch(R.getLastErrorCode()){case U.NO_ERROR:const se=R.getResponseJson();cn("Connection","XHR received:",JSON.stringify(se)),m(se);break;case U.TIMEOUT:cn("Connection",'RPC "'+e+'" timed out'),E(new fn(Wt.DEADLINE_EXCEEDED,"Request time out"));break;case U.HTTP_ERROR:const Pe=R.getStatus();if(cn("Connection",'RPC "'+e+'" failed with status:',Pe,"response text:",R.getResponseText()),Pe>0){let ft=R.getResponseJson();Array.isArray(ft)&&(ft=ft[0]);const $t=null==ft?void 0:ft.error;if($t&&$t.status&&$t.message){const an=function(In){const dr=In.toLowerCase().replace(/_/g,"-");return Object.values(Wt).indexOf(dr)>=0?dr:Wt.UNKNOWN}($t.status);E(new fn(an,$t.message))}else E(new fn(Wt.UNKNOWN,"Server responded with status "+R.getStatus()))}else E(new fn(Wt.UNAVAILABLE,"Connection failed."));break;default:Tn()}}finally{cn("Connection",'RPC "'+e+'" completed.')}});const Y=JSON.stringify(h);R.send(t,"POST",Y,a,15)})}wo(e,t,a){const h=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],m=L(),E=ee(),R={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(R.xmlHttpFactory=new Zt({})),this.lo(R.initMessageHeaders,t,a),R.encodeInitMessageHeaders=!0;const Y=h.join("");cn("Connection","Creating WebChannel: "+Y,R);const se=m.createWebChannel(Y,R);let Pe=!1,ft=!1;const $t=new Kh({Hr:In=>{ft?cn("Connection","Not sending because WebChannel is closed:",In):(Pe||(cn("Connection","Opening WebChannel transport."),se.open(),Pe=!0),cn("Connection","WebChannel sending:",In),se.send(In))},Jr:()=>se.close()}),an=(In,dr,Mr)=>{In.listen(dr,Ts=>{try{Mr(Ts)}catch(oo){setTimeout(()=>{throw oo},0)}})};return an(se,qn.EventType.OPEN,()=>{ft||cn("Connection","WebChannel transport opened.")}),an(se,qn.EventType.CLOSE,()=>{ft||(ft=!0,cn("Connection","WebChannel transport closed"),$t.io())}),an(se,qn.EventType.ERROR,In=>{ft||(ft=!0,qi("Connection","WebChannel transport errored:",In),$t.io(new fn(Wt.UNAVAILABLE,"The operation could not be completed")))}),an(se,qn.EventType.MESSAGE,In=>{var dr;if(!ft){const Mr=In.data[0];Yn(!!Mr);const Ts=Mr,oo=Ts.error||(null===(dr=Ts[0])||void 0===dr?void 0:dr.error);if(oo){cn("Connection","WebChannel received error:",oo);const Yi=oo.status;let Oo=function(cs){const jo=eo[cs];if(void 0!==jo)return Hc(jo)}(Yi),ns=oo.message;void 0===Oo&&(Oo=Wt.INTERNAL,ns="Unknown error status: "+Yi+" with message "+oo.message),ft=!0,$t.io(new fn(Oo,ns)),se.close()}else cn("Connection","WebChannel received:",Mr),$t.ro(Mr)}}),an(E,nt.STAT_EVENT,In=>{In.stat===Gt.PROXY?cn("Connection","Detected buffering proxy"):In.stat===Gt.NOPROXY&&cn("Connection","Detected no buffering proxy")}),setTimeout(()=>{$t.so()},0),$t}}function Em(){return typeof window<"u"?window:null}function Xf(){return typeof document<"u"?document:null}function th(i){return new Fd(i,!0)}class ig{constructor(e,t,a=1e3,h=1.5,m=6e4){this.Hs=e,this.timerId=t,this.mo=a,this.yo=h,this.po=m,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),a=Math.max(0,Date.now()-this.Eo),h=Math.max(0,t-a);h>0&&cn("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${a} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,h,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class sg{constructor(e,t,a,h,m,E,R,Y){this.Hs=e,this.vo=a,this.Vo=h,this.connection=m,this.authCredentialsProvider=E,this.appCheckCredentialsProvider=R,this.listener=Y,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new ig(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,Ce.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,Ce.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var a=this;return(0,Ce.Z)(function*(){a.Lo(),a.qo(),a.xo.cancel(),a.So++,4!==e?a.xo.reset():t&&t.code===Wt.RESOURCE_EXHAUSTED?(jr(t.toString()),jr("Using maximum backoff delay to prevent overloading the backend."),a.xo.Ao()):t&&t.code===Wt.UNAUTHENTICATED&&3!==a.state&&(a.authCredentialsProvider.invalidateToken(),a.appCheckCredentialsProvider.invalidateToken()),null!==a.stream&&(a.Uo(),a.stream.close(),a.stream=null),a.state=e,yield a.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,h])=>{this.So===t&&this.Go(a,h)},a=>{e(()=>{const h=new fn(Wt.UNKNOWN,"Fetching auth token failed: "+a.message);return this.Qo(h)})})}Go(e,t){const a=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{a(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(h=>{a(()=>this.Qo(h))}),this.stream.onMessage(h=>{a(()=>this.onMessage(h))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,Ce.Z)(function*(){e.state=0,e.start()}))}Qo(e){return cn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(cn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Na extends sg{constructor(e,t,a,h,m,E){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,a,h,E),this.yt=m}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function re(i,e){let t;if("targetChange"in e){const a="NO_CHANGE"===(Y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Y?1:"REMOVE"===Y?2:"CURRENT"===Y?3:"RESET"===Y?4:Tn(),h=e.targetChange.targetIds||[],m=function(Y,se){return Y.wt?(Yn(void 0===se||"string"==typeof se),S.fromBase64String(se||"")):(Yn(void 0===se||se instanceof Uint8Array),S.fromUint8Array(se||new Uint8Array))}(i,e.targetChange.resumeToken),E=e.targetChange.cause,R=E&&function(Y){const se=void 0===Y.code?Wt.UNKNOWN:Hc(Y.code);return new fn(se,Y.message||"")}(E);t=new va(a,h,m,R||null)}else if("documentChange"in e){const a=e.documentChange,h=tl(i,a.document.name),m=Ns(a.document.updateTime),E=a.document.createTime?Ns(a.document.createTime):Ln.min(),R=new zs({mapValue:{fields:a.document.fields}}),Y=Es.newFoundDocument(h,m,E,R);t=new dc(a.targetIds||[],a.removedTargetIds||[],Y.key,Y)}else if("documentDelete"in e){const a=e.documentDelete,h=tl(i,a.document),m=a.readTime?Ns(a.readTime):Ln.min(),E=Es.newNoDocument(h,m);t=new dc([],a.removedTargetIds||[],E.key,E)}else if("documentRemove"in e){const a=e.documentRemove,h=tl(i,a.document);t=new dc([],a.removedTargetIds||[],h,null)}else{if(!("filter"in e))return Tn();{const a=e.filter,m=new uc(a.count||0);t=new Nd(a.targetId,m)}}var Y;return t}(this.yt,e),a=function(h){if(!("targetChange"in h))return Ln.min();const m=h.targetChange;return m.targetIds&&m.targetIds.length?Ln.min():m.readTime?Ns(m.readTime):Ln.min()}(e);return this.listener.Wo(t,a)}zo(e){const t={};t.database=Yc(this.yt),t.addTarget=function(h,m){let E;const R=m.target;return E=Ch(R)?{documents:Bn(h,R)}:{query:cr(h,R)},E.targetId=m.targetId,m.resumeToken.approximateByteSize()>0?E.resumeToken=Il(h,m.resumeToken):m.snapshotVersion.compareTo(Ln.min())>0&&(E.readTime=Ro(h,m.snapshotVersion.toTimestamp())),E}(this.yt,e);const a=function kr(i,e){const t=function(a,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Tn()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);a&&(t.labels=a),this.Bo(t)}Ho(e){const t={};t.database=Yc(this.yt),t.removeTarget=e,this.Bo(t)}}class Qf extends sg{constructor(e,t,a,h,m,E){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,a,h,E),this.yt=m,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(Yn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function Qt(i,e){return i&&i.length>0?(Yn(void 0!==e),i.map(t=>function(a,h){let m=Ns(a.updateTime?a.updateTime:h);return m.isEqual(Ln.min())&&(m=Ns(h)),new Rd(m,a.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),a=Ns(e.commitTime);return this.listener.Zo(a,t)}return Yn(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Yc(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(a=>De(this.yt,a))};this.Bo(t)}}class wm extends class{}{constructor(e,t,a,h){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=a,this.yt=h,this.nu=!1}su(){if(this.nu)throw new fn(Wt.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,a){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.ao(e,t,a,h,m)).catch(h=>{throw"FirebaseError"===h.name?(h.code===Wt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new fn(Wt.UNKNOWN,h.toString())})}_o(e,t,a,h){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,E])=>this.connection._o(e,t,a,m,E,h)).catch(m=>{throw"FirebaseError"===m.name?(m.code===Wt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new fn(Wt.UNKNOWN,m.toString())})}terminate(){this.nu=!0}}class ag{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(jr(t),this.ou=!1):cn("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class by{constructor(e,t,a,h,m){var E=this;this.localStore=e,this.datastore=t,this.asyncQueue=a,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=m,this.mu.Ur(R=>{a.enqueueAndForget((0,Ce.Z)(function*(){var Y;su(E)&&(cn("RemoteStore","Restarting streams for network reachability change."),yield(Y=(0,Ce.Z)(function*(se){const Pe=jn(se);Pe._u.add(4),yield sd(Pe),Pe.gu.set("Unknown"),Pe._u.delete(4),yield il(Pe)}),function(se){return Y.apply(this,arguments)})(E))}))}),this.gu=new ag(a,h)}}function il(i){return Sc.apply(this,arguments)}function Sc(){return Sc=(0,Ce.Z)(function*(i){if(su(i))for(const e of i.wu)yield e(!0)}),Sc.apply(this,arguments)}function sd(i){return Jf.apply(this,arguments)}function Jf(){return Jf=(0,Ce.Z)(function*(i){for(const e of i.wu)yield e(!1)}),Jf.apply(this,arguments)}function od(i,e){const t=jn(i);t.du.has(e.targetId)||(t.du.set(e.targetId,e),Ll(t)?qh(t):Jh(t).ko()&&xu(t,e))}function Ea(i,e){const t=jn(i),a=Jh(t);t.du.delete(e),a.ko()&&Im(t,e),0===t.du.size&&(a.ko()?a.Fo():su(t)&&t.gu.set("Unknown"))}function xu(i,e){i.yu.Ot(e.targetId),Jh(i).zo(e)}function Im(i,e){i.yu.Ot(e),Jh(i).Ho(e)}function qh(i){i.yu=new bu({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>i.du.get(e)||null}),Jh(i).start(),i.gu.uu()}function Ll(i){return su(i)&&!Jh(i).No()&&i.du.size>0}function su(i){return 0===jn(i)._u.size}function lg(i){i.yu=void 0}function ug(i){return cg.apply(this,arguments)}function cg(){return cg=(0,Ce.Z)(function*(i){i.du.forEach((e,t)=>{xu(i,e)})}),cg.apply(this,arguments)}function ep(i,e){return dg.apply(this,arguments)}function dg(){return dg=(0,Ce.Z)(function*(i,e){lg(i),Ll(i)?(i.gu.hu(e),qh(i)):i.gu.set("Unknown")}),dg.apply(this,arguments)}function tp(i,e,t){return nh.apply(this,arguments)}function nh(){return nh=(0,Ce.Z)(function*(i,e,t){if(i.gu.set("Online"),e instanceof va&&2===e.state&&e.cause)try{yield(a=(0,Ce.Z)(function*(h,m){const E=m.cause;for(const R of m.targetIds)h.du.has(R)&&(yield h.remoteSyncer.rejectListen(R,E),h.du.delete(R),h.yu.removeTarget(R))}),function(h,m){return a.apply(this,arguments)})(i,e)}catch(a){cn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),yield rh(i,a)}else if(e instanceof dc?i.yu.Kt(e):e instanceof Nd?i.yu.Jt(e):i.yu.jt(e),!t.isEqual(Ln.min()))try{const a=yield Yd(i.localStore);t.compareTo(a)>=0&&(yield function(h,m){const E=h.yu.Zt(m);return E.targetChanges.forEach((R,Y)=>{if(R.resumeToken.approximateByteSize()>0){const se=h.du.get(Y);se&&h.du.set(Y,se.withResumeToken(R.resumeToken,m))}}),E.targetMismatches.forEach(R=>{const Y=h.du.get(R);if(!Y)return;h.du.set(R,Y.withResumeToken(S.EMPTY_BYTE_STRING,Y.snapshotVersion)),Im(h,R);const se=new fc(Y.target,R,1,Y.sequenceNumber);xu(h,se)}),h.remoteSyncer.applyRemoteEvent(E)}(i,t))}catch(a){cn("RemoteStore","Failed to raise snapshot:",a),yield rh(i,a)}var a}),nh.apply(this,arguments)}function rh(i,e,t){return Yh.apply(this,arguments)}function Yh(){return Yh=(0,Ce.Z)(function*(i,e,t){if(!co(e))throw e;i._u.add(1),yield sd(i),i.gu.set("Offline"),t||(t=()=>Yd(i.localStore)),i.asyncQueue.enqueueRetryable((0,Ce.Z)(function*(){cn("RemoteStore","Retrying IndexedDB access"),yield t(),i._u.delete(1),yield il(i)}))}),Yh.apply(this,arguments)}function Zh(i,e){return e().catch(t=>rh(i,t,e))}function Xh(i){return hg.apply(this,arguments)}function hg(){return hg=(0,Ce.Z)(function*(i){const e=jn(i),t=ad(e);let a=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;bm(e);)try{const h=yield pm(e.localStore,a);if(null===h){0===e.fu.length&&t.Fo();break}a=h.batchId,Cy(e,h)}catch(h){yield rh(e,h)}fg(e)&&pg(e)}),hg.apply(this,arguments)}function bm(i){return su(i)&&i.fu.length<10}function Cy(i,e){i.fu.push(e);const t=ad(i);t.ko()&&t.Yo&&t.Xo(e.mutations)}function fg(i){return su(i)&&!ad(i).No()&&i.fu.length>0}function pg(i){ad(i).start()}function Cm(i){return np.apply(this,arguments)}function np(){return np=(0,Ce.Z)(function*(i){ad(i).eu()}),np.apply(this,arguments)}function Dy(i){return Qh.apply(this,arguments)}function Qh(){return Qh=(0,Ce.Z)(function*(i){const e=ad(i);for(const t of i.fu)e.Xo(t.mutations)}),Qh.apply(this,arguments)}function Ty(i,e,t){return Dm.apply(this,arguments)}function Dm(){return Dm=(0,Ce.Z)(function*(i,e,t){const a=i.fu.shift(),h=Bp.from(a,e,t);yield Zh(i,()=>i.remoteSyncer.applySuccessfulWrite(h)),yield Xh(i)}),Dm.apply(this,arguments)}function Tm(i,e){return Sm.apply(this,arguments)}function Sm(){return Sm=(0,Ce.Z)(function*(i,e){var t;e&&ad(i).Yo&&(yield(t=(0,Ce.Z)(function*(a,h){if(Rh(m=h.code)&&m!==Wt.ABORTED){const E=a.fu.shift();ad(a).Mo(),yield Zh(a,()=>a.remoteSyncer.rejectFailedWrite(E.batchId,h)),yield Xh(a)}var m}),function(a,h){return t.apply(this,arguments)})(i,e)),fg(i)&&pg(i)}),Sm.apply(this,arguments)}function Sy(i,e){return Am.apply(this,arguments)}function Am(){return Am=(0,Ce.Z)(function*(i,e){const t=jn(i);t.asyncQueue.verifyOperationInProgress(),cn("RemoteStore","RemoteStore received new credentials");const a=su(t);t._u.add(3),yield sd(t),a&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield il(t)}),Am.apply(this,arguments)}function xm(i,e){return Mm.apply(this,arguments)}function Mm(){return Mm=(0,Ce.Z)(function*(i,e){const t=jn(i);e?(t._u.delete(2),yield il(t)):e||(t._u.add(2),yield sd(t),t.gu.set("Unknown"))}),Mm.apply(this,arguments)}function Jh(i){return i.pu||(i.pu=function(e,t,a){const h=jn(e);return h.su(),new Na(t,h.connection,h.authCredentials,h.appCheckCredentials,h.yt,a)}(i.datastore,i.asyncQueue,{Yr:ug.bind(null,i),Zr:ep.bind(null,i),Wo:tp.bind(null,i)}),i.wu.push(function(){var e=(0,Ce.Z)(function*(t){t?(i.pu.Mo(),Ll(i)?qh(i):i.gu.set("Unknown")):(yield i.pu.stop(),lg(i))});return function(t){return e.apply(this,arguments)}}())),i.pu}function ad(i){return i.Iu||(i.Iu=function(e,t,a){const h=jn(e);return h.su(),new Qf(t,h.connection,h.authCredentials,h.appCheckCredentials,h.yt,a)}(i.datastore,i.asyncQueue,{Yr:Cm.bind(null,i),Zr:Tm.bind(null,i),tu:Dy.bind(null,i),Zo:Ty.bind(null,i)}),i.wu.push(function(){var e=(0,Ce.Z)(function*(t){t?(i.Iu.Mo(),yield Xh(i)):(yield i.Iu.stop(),i.fu.length>0&&(cn("RemoteStore",`Stopping write stream with ${i.fu.length} pending writes`),i.fu=[]))});return function(t){return e.apply(this,arguments)}}())),i.Iu}class gg{constructor(e,t,a,h,m){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=a,this.op=h,this.removalCallback=m,this.deferred=new ys,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(E=>{})}static createAndSchedule(e,t,a,h,m){const E=Date.now()+a,R=new gg(e,t,E,h,m);return R.start(a),R}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new fn(Wt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ef(i,e){if(jr("AsyncQueue",`${e}: ${i}`),co(i))return new fn(Wt.UNAVAILABLE,`${e}: ${i}`);throw i}class rp{constructor(e){this.comparator=e?(t,a)=>e(t,a)||$n.comparator(t.key,a.key):(t,a)=>$n.comparator(t.key,a.key),this.keyedMap=Ml(),this.sortedSet=new Ms(this.comparator)}static emptySet(e){return new rp(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,a)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof rp)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;t.hasNext();){const h=t.getNext().key,m=a.getNext().key;if(!h.isEqual(m))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const a=new rp;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=t,a}}class Mu{constructor(){this.Tu=new Ms($n.comparator)}track(e){const t=e.doc.key,a=this.Tu.get(t);a?0!==e.type&&3===a.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==a.type?this.Tu=this.Tu.insert(t,{type:a.type,doc:e.doc}):2===e.type&&2===a.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===a.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===a.type?this.Tu=this.Tu.remove(t):1===e.type&&2===a.type?this.Tu=this.Tu.insert(t,{type:1,doc:a.doc}):0===e.type&&1===a.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Tn():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,a)=>{e.push(a)}),e}}class ld{constructor(e,t,a,h,m,E,R,Y,se){this.query=e,this.docs=t,this.oldDocs=a,this.docChanges=h,this.mutatedKeys=m,this.fromCache=E,this.syncStateChanged=R,this.excludesMetadataChanges=Y,this.hasCachedResults=se}static fromInitialDocuments(e,t,a,h,m){const E=[];return t.forEach(R=>{E.push({type:0,doc:R})}),new ld(e,t,rp.emptySet(t),E,a,h,!0,!1,m)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,a=e.docChanges;if(t.length!==a.length)return!1;for(let h=0;h<t.length;h++)if(t[h].type!==a[h].type||!t[h].doc.isEqual(a[h].doc))return!1;return!0}}class Dv{constructor(){this.Au=void 0,this.listeners=[]}}class Rm{constructor(){this.queries=new _l(e=>Tf(e),Uc),this.onlineState="Unknown",this.Ru=new Set}}function tf(i,e){return ud.apply(this,arguments)}function ud(){return ud=(0,Ce.Z)(function*(i,e){const t=jn(i),a=e.query;let h=!1,m=t.queries.get(a);if(m||(h=!0,m=new Dv),h)try{m.Au=yield t.onListen(a)}catch(E){const R=ef(E,`Initialization of query '${xd(e.query)}' failed`);return void e.onError(R)}t.queries.set(a,m),m.listeners.push(e),e.bu(t.onlineState),m.Au&&e.Pu(m.Au)&&sp(t)}),ud.apply(this,arguments)}function ih(i,e){return ip.apply(this,arguments)}function ip(){return ip=(0,Ce.Z)(function*(i,e){const t=jn(i),a=e.query;let h=!1;const m=t.queries.get(a);if(m){const E=m.listeners.indexOf(e);E>=0&&(m.listeners.splice(E,1),h=0===m.listeners.length)}if(h)return t.queries.delete(a),t.onUnlisten(a)}),ip.apply(this,arguments)}function wa(i,e){const t=jn(i);let a=!1;for(const h of e){const E=t.queries.get(h.query);if(E){for(const R of E.listeners)R.Pu(h)&&(a=!0);E.Au=h}}a&&sp(t)}function mg(i,e,t){const a=jn(i),h=a.queries.get(e);if(h)for(const m of h.listeners)m.onError(t);a.queries.delete(e)}function sp(i){i.Ru.forEach(e=>{e.next()})}class yg{constructor(e,t,a){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=a||{}}Pu(e){if(!this.options.includeMetadataChanges){const a=[];for(const h of e.docChanges)3!==h.type&&a.push(h);e=new ld(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=ld.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class Om{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class Pm{constructor(e){this.yt=e}Ji(e){return tl(this.yt,e)}Yi(e){return e.metadata.exists?_(this.yt,e.document,!1):Es.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Ns(e)}}class Ay{constructor(e,t,a){this.Mu=e,this.localStore=t,this.yt=a,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=nf(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const a=ei.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(a.get(a.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,a=new Pm(this.yt);for(const h of e)if(h.metadata.queries){const m=a.Ji(h.metadata.name);for(const E of h.metadata.queries){const R=(t.get(E)||gi()).add(m);t.set(E,R)}}return t}complete(){var e=this;return(0,Ce.Z)(function*(){const t=yield function nd(i,e,t,a){return Nl.apply(this,arguments)}(e.localStore,new Pm(e.yt),e.documents,e.Mu.id),a=e.$u(e.documents);for(const h of e.queries)yield Fl(e.localStore,h,a.get(h.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function nf(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class cd{constructor(e){this.key=e}}class rf{constructor(e){this.key=e}}class Zu{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=gi(),this.mutatedKeys=gi(),this.Gu=Bo(e),this.Qu=new rp(this.Gu)}get ju(){return this.qu}Wu(e,t){const a=t?t.zu:new Mu,h=t?t.Qu:this.Qu;let m=t?t.mutatedKeys:this.mutatedKeys,E=h,R=!1;const Y="F"===this.query.limitType&&h.size===this.query.limit?h.last():null,se="L"===this.query.limitType&&h.size===this.query.limit?h.first():null;if(e.inorderTraversal((Pe,ft)=>{const $t=h.get(Pe),an=jc(this.query,ft)?ft:null,In=!!$t&&this.mutatedKeys.has($t.key),dr=!!an&&(an.hasLocalMutations||this.mutatedKeys.has(an.key)&&an.hasCommittedMutations);let Mr=!1;$t&&an?$t.data.isEqual(an.data)?In!==dr&&(a.track({type:3,doc:an}),Mr=!0):this.Hu($t,an)||(a.track({type:2,doc:an}),Mr=!0,(Y&&this.Gu(an,Y)>0||se&&this.Gu(an,se)<0)&&(R=!0)):!$t&&an?(a.track({type:0,doc:an}),Mr=!0):$t&&!an&&(a.track({type:1,doc:$t}),Mr=!0,(Y||se)&&(R=!0)),Mr&&(an?(E=E.add(an),m=dr?m.add(Pe):m.delete(Pe)):(E=E.delete(Pe),m=m.delete(Pe)))}),null!==this.query.limit)for(;E.size>this.query.limit;){const Pe="F"===this.query.limitType?E.last():E.first();E=E.delete(Pe.key),m=m.delete(Pe.key),a.track({type:1,doc:Pe})}return{Qu:E,zu:a,$i:R,mutatedKeys:m}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,a){const h=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const m=e.zu.Eu();m.sort((se,Pe)=>function(ft,$t){const an=In=>{switch(In){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tn()}};return an(ft)-an($t)}(se.type,Pe.type)||this.Gu(se.doc,Pe.doc)),this.Ju(a);const E=t?this.Yu():[],R=0===this.Ku.size&&this.current?1:0,Y=R!==this.Uu;return this.Uu=R,0!==m.length||Y?{snapshot:new ld(this.query,e.Qu,h,m,e.mutatedKeys,0===R,Y,!1,!!a&&a.resumeToken.approximateByteSize()>0),Xu:E}:{Xu:E}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Mu,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=gi(),this.Qu.forEach(a=>{this.Zu(a.key)&&(this.Ku=this.Ku.add(a.key))});const t=[];return e.forEach(a=>{this.Ku.has(a)||t.push(new rf(a))}),this.Ku.forEach(a=>{e.has(a)||t.push(new cd(a))}),t}tc(e){this.qu=e.Hi,this.Ku=gi();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return ld.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class vg{constructor(e,t,a){this.query=e,this.targetId=t,this.view=a}}class op{constructor(e){this.key=e,this.nc=!1}}class km{constructor(e,t,a,h,m,E){this.localStore=e,this.remoteStore=t,this.eventManager=a,this.sharedClientState=h,this.currentUser=m,this.maxConcurrentLimboResolutions=E,this.sc={},this.ic=new _l(R=>Tf(R),Uc),this.rc=new Map,this.oc=new Set,this.uc=new Ms($n.comparator),this.cc=new Map,this.ac=new zf,this.hc={},this.lc=new Map,this.fc=Yu.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function _g(i,e){return sf.apply(this,arguments)}function sf(){return sf=(0,Ce.Z)(function*(i,e){const t=pp(i);let a,h;const m=t.ic.get(e);if(m)a=m.targetId,t.sharedClientState.addLocalQueryTarget(a),h=m.view.ec();else{const E=yield Xd(t.localStore,bo(e));t.isPrimaryClient&&od(t.remoteStore,E);const R=t.sharedClientState.addLocalQueryTarget(E.targetId);a=E.targetId,h=yield ap(t,e,a,"current"===R,E.resumeToken)}return h}),sf.apply(this,arguments)}function ap(i,e,t,a,h){return lp.apply(this,arguments)}function lp(){return lp=(0,Ce.Z)(function*(i,e,t,a,h){i._c=(ft,$t,an)=>{return(In=(0,Ce.Z)(function*(dr,Mr,Ts,oo){let Yi=Mr.view.Wu(Ts);Yi.$i&&(Yi=yield Qd(dr.localStore,Mr.query,!1).then(({documents:cs})=>Mr.view.Wu(cs,Yi)));const Oo=oo&&oo.targetChanges.get(Mr.targetId),ns=Mr.view.applyChanges(Yi,dr.isPrimaryClient,Oo);return Lm(dr,Mr.targetId,ns.Xu),ns.snapshot}),function(dr,Mr,Ts,oo){return In.apply(this,arguments)})(i,ft,$t,an);var In};const m=yield Qd(i.localStore,e,!0),E=new Zu(e,m.Hi),R=E.Wu(m.documents),Y=cc.createSynthesizedTargetChangeForCurrentChange(t,a&&"Offline"!==i.onlineState,h),se=E.applyChanges(R,i.isPrimaryClient,Y);Lm(i,t,se.Xu);const Pe=new vg(e,t,E);return i.ic.set(e,Pe),i.rc.has(t)?i.rc.get(t).push(e):i.rc.set(t,[e]),se.snapshot}),lp.apply(this,arguments)}function Eg(i,e){return wg.apply(this,arguments)}function wg(){return wg=(0,Ce.Z)(function*(i,e){const t=jn(i),a=t.ic.get(e),h=t.rc.get(a.targetId);if(h.length>1)return t.rc.set(a.targetId,h.filter(m=>!Uc(m,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(a.targetId),t.sharedClientState.isActiveQueryTarget(a.targetId)||(yield bc(t.localStore,a.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(a.targetId),Ea(t.remoteStore,a.targetId),Xu(t,a.targetId)}).catch(Ka))):(Xu(t,a.targetId),yield bc(t.localStore,a.targetId,!0))}),wg.apply(this,arguments)}function dd(){return dd=(0,Ce.Z)(function*(i,e,t){const a=ky(i);try{const h=yield function(m,E){const R=jn(m),Y=Bi.now(),se=E.reduce(($t,an)=>$t.add(an.key),gi());let Pe,ft;return R.persistence.runTransaction("Locally write mutations","readwrite",$t=>{let an=to(),In=gi();return R.Gi.getEntries($t,se).next(dr=>{an=dr,an.forEach((Mr,Ts)=>{Ts.isValidDocument()||(In=In.add(Mr))})}).next(()=>R.localDocuments.getOverlayedDocuments($t,an)).next(dr=>{Pe=dr;const Mr=[];for(const Ts of E){const oo=ac(Ts,Pe.get(Ts.key).overlayedDocument);null!=oo&&Mr.push(new Pa(Ts.key,oo,Dd(oo.value.mapValue),ps.exists(!0)))}return R.mutationQueue.addMutationBatch($t,Y,Mr,E)}).next(dr=>{ft=dr;const Mr=dr.applyToLocalDocumentSet(Pe,In);return R.documentOverlayCache.saveOverlays($t,dr.batchId,Mr)})}).then(()=>({batchId:ft.batchId,changes:na(Pe)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(h.batchId),function(m,E,R){let Y=m.hc[m.currentUser.toKey()];Y||(Y=new Ms(Br)),Y=Y.insert(E,R),m.hc[m.currentUser.toKey()]=Y}(a,h.batchId,t),yield Ou(a,h.changes),yield Xh(a.remoteStore)}catch(h){const m=ef(h,"Failed to persist write");t.reject(m)}}),dd.apply(this,arguments)}function Nm(i,e){return Ac.apply(this,arguments)}function Ac(){return Ac=(0,Ce.Z)(function*(i,e){const t=jn(i);try{const a=yield wy(t.localStore,e);e.targetChanges.forEach((h,m)=>{const E=t.cc.get(m);E&&(Yn(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?E.nc=!0:h.modifiedDocuments.size>0?Yn(E.nc):h.removedDocuments.size>0&&(Yn(E.nc),E.nc=!1))}),yield Ou(t,a,e)}catch(a){yield Ka(a)}}),Ac.apply(this,arguments)}function Ig(i,e,t){const a=jn(i);if(a.isPrimaryClient&&0===t||!a.isPrimaryClient&&1===t){const h=[];a.ic.forEach((m,E)=>{const R=E.view.bu(e);R.snapshot&&h.push(R.snapshot)}),function(m,E){const R=jn(m);R.onlineState=E;let Y=!1;R.queries.forEach((se,Pe)=>{for(const ft of Pe.listeners)ft.bu(E)&&(Y=!0)}),Y&&sp(R)}(a.eventManager,e),h.length&&a.sc.Wo(h),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}function My(i,e,t){return sh.apply(this,arguments)}function sh(){return sh=(0,Ce.Z)(function*(i,e,t){const a=jn(i);a.sharedClientState.updateQueryState(e,"rejected",t);const h=a.cc.get(e),m=h&&h.key;if(m){let E=new Ms($n.comparator);E=E.insert(m,Es.newNoDocument(m,Ln.min()));const R=gi().add(m),Y=new Iu(Ln.min(),new Map,new Fi(Br),E,R);yield Nm(a,Y),a.uc=a.uc.remove(m),a.cc.delete(e),af(a)}else yield bc(a.localStore,e,!1).then(()=>Xu(a,e,t)).catch(Ka)}),sh.apply(this,arguments)}function Fa(i,e){return $l.apply(this,arguments)}function $l(){return $l=(0,Ce.Z)(function*(i,e){const t=jn(i),a=e.batch.batchId;try{const h=yield _a(t.localStore,e);cp(t,a,null),Cg(t,a),t.sharedClientState.updateMutationState(a,"acknowledged"),yield Ou(t,h)}catch(h){yield Ka(h)}}),$l.apply(this,arguments)}function Tv(i,e,t){return Fm.apply(this,arguments)}function Fm(){return Fm=(0,Ce.Z)(function*(i,e,t){const a=jn(i);try{const h=yield function(m,E){const R=jn(m);return R.persistence.runTransaction("Reject batch","readwrite-primary",Y=>{let se;return R.mutationQueue.lookupMutationBatch(Y,E).next(Pe=>(Yn(null!==Pe),se=Pe.keys(),R.mutationQueue.removeMutationBatch(Y,Pe))).next(()=>R.mutationQueue.performConsistencyCheck(Y)).next(()=>R.documentOverlayCache.removeOverlaysForBatchId(Y,se,E)).next(()=>R.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(Y,se)).next(()=>R.localDocuments.getDocuments(Y,se))})}(a.localStore,e);cp(a,e,t),Cg(a,e),a.sharedClientState.updateMutationState(e,"rejected",t),yield Ou(a,h)}catch(h){yield Ka(h)}}),Fm.apply(this,arguments)}function up(){return up=(0,Ce.Z)(function*(i,e){const t=jn(i);su(t.remoteStore)||cn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(m){const E=jn(m);return E.persistence.runTransaction("Get highest unacknowledged batch id","readonly",R=>E.mutationQueue.getHighestUnacknowledgedBatchId(R))}(t.localStore);if(-1===a)return void e.resolve();const h=t.lc.get(a)||[];h.push(e),t.lc.set(a,h)}catch(a){const h=ef(a,"Initialization of waitForPendingWrites() operation failed");e.reject(h)}}),up.apply(this,arguments)}function Cg(i,e){(i.lc.get(e)||[]).forEach(t=>{t.resolve()}),i.lc.delete(e)}function cp(i,e,t){const a=jn(i);let h=a.hc[a.currentUser.toKey()];if(h){const m=h.get(e);m&&(t?m.reject(t):m.resolve(),h=h.remove(e)),a.hc[a.currentUser.toKey()]=h}}function Xu(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const a of i.rc.get(e))i.ic.delete(a),t&&i.sc.wc(a,t);i.rc.delete(e),i.isPrimaryClient&&i.ac.ls(e).forEach(a=>{i.ac.containsKey(a)||Ru(i,a)})}function Ru(i,e){i.oc.delete(e.path.canonicalString());const t=i.uc.get(e);null!==t&&(Ea(i.remoteStore,t),i.uc=i.uc.remove(e),i.cc.delete(t),af(i))}function Lm(i,e,t){for(const a of t)a instanceof cd?(i.ac.addReference(a.key,e),Ry(i,a)):a instanceof rf?(cn("SyncEngine","Document no longer in limbo: "+a.key),i.ac.removeReference(a.key,e),i.ac.containsKey(a.key)||Ru(i,a.key)):Tn()}function Ry(i,e){const t=e.key,a=t.path.canonicalString();i.uc.get(t)||i.oc.has(a)||(cn("SyncEngine","New document in limbo: "+t),i.oc.add(a),af(i))}function af(i){for(;i.oc.size>0&&i.uc.size<i.maxConcurrentLimboResolutions;){const e=i.oc.values().next().value;i.oc.delete(e);const t=new $n(ei.fromString(e)),a=i.fc.next();i.cc.set(a,new op(t)),i.uc=i.uc.insert(t,a),od(i.remoteStore,new fc(bo(Io(t.path)),a,2,zr.at))}}function Ou(i,e,t){return dp.apply(this,arguments)}function dp(){return dp=(0,Ce.Z)(function*(i,e,t){const a=jn(i),h=[],m=[],E=[];var R;a.ic.isEmpty()||(a.ic.forEach((R,Y)=>{E.push(a._c(Y,e,t).then(se=>{if((se||t)&&a.isPrimaryClient&&a.sharedClientState.updateQueryState(Y.targetId,null!=se&&se.fromCache?"not-current":"current"),se){h.push(se);const Pe=Tl.Ci(Y.targetId,se);m.push(Pe)}}))}),yield Promise.all(E),a.sc.Wo(h),yield(R=(0,Ce.Z)(function*(Y,se){const Pe=jn(Y);try{yield Pe.persistence.runTransaction("notifyLocalViewChanges","readwrite",ft=>jt.forEach(se,$t=>jt.forEach($t.Si,an=>Pe.persistence.referenceDelegate.addReference(ft,$t.targetId,an)).next(()=>jt.forEach($t.Di,an=>Pe.persistence.referenceDelegate.removeReference(ft,$t.targetId,an)))))}catch(ft){if(!co(ft))throw ft;cn("LocalStore","Failed to update sequence numbers: "+ft)}for(const ft of se){const $t=ft.targetId;if(!ft.fromCache){const an=Pe.qi.get($t),dr=an.withLastLimboFreeSnapshotVersion(an.snapshotVersion);Pe.qi=Pe.qi.insert($t,dr)}}}),function(Y,se){return R.apply(this,arguments)})(a.localStore,m))}),dp.apply(this,arguments)}function $m(i,e){return Dg.apply(this,arguments)}function Dg(){return Dg=(0,Ce.Z)(function*(i,e){const t=jn(i);if(!t.currentUser.isEqual(e)){cn("SyncEngine","User change. New user:",e.toKey());const a=yield si(t.localStore,e);t.currentUser=e,(h=t).lc.forEach(E=>{E.forEach(R=>{R.reject(new fn(Wt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),h.lc.clear(),t.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),yield Ou(t,a.ji)}var h}),Dg.apply(this,arguments)}function lf(i,e){const t=jn(i),a=t.cc.get(e);if(a&&a.nc)return gi().add(a.key);{let h=gi();const m=t.rc.get(e);if(!m)return h;for(const E of m){const R=t.ic.get(E);h=h.unionWith(R.view.ju)}return h}}function us(i,e){return hd.apply(this,arguments)}function hd(){return hd=(0,Ce.Z)(function*(i,e){const t=jn(i),a=yield Qd(t.localStore,e.query,!0),h=e.view.tc(a);return t.isPrimaryClient&&Lm(t,e.targetId,h.Xu),h}),hd.apply(this,arguments)}function Tg(i,e){return oh.apply(this,arguments)}function oh(){return oh=(0,Ce.Z)(function*(i,e){const t=jn(i);return Zf(t.localStore,e).then(a=>Ou(t,a))}),oh.apply(this,arguments)}function Oy(i,e,t,a){return ah.apply(this,arguments)}function ah(){return ah=(0,Ce.Z)(function*(i,e,t,a){const h=jn(i),m=yield function(E,R){const Y=jn(E),se=jn(Y.mutationQueue);return Y.persistence.runTransaction("Lookup mutation documents","readonly",Pe=>se.Tn(Pe,R).next(ft=>ft?Y.localDocuments.getDocuments(Pe,ft):jt.resolve(null)))}(h.localStore,e);var R;null!==m?("pending"===t?yield Xh(h.remoteStore):"acknowledged"===t||"rejected"===t?(cp(h,e,a||null),Cg(h,e),R=e,jn(jn(h.localStore).mutationQueue).An(R)):Tn(),yield Ou(h,m)):cn("SyncEngine","Cannot apply mutation batch with id: "+e)}),ah.apply(this,arguments)}function hp(){return hp=(0,Ce.Z)(function*(i,e){const t=jn(i);if(pp(t),ky(t),!0===e&&!0!==t.dc){const a=t.sharedClientState.getAllActiveQueryTargets(),h=yield Vm(t,a.toArray());t.dc=!0,yield xm(t.remoteStore,!0);for(const m of h)od(t.remoteStore,m)}else if(!1===e&&!1!==t.dc){const a=[];let h=Promise.resolve();t.rc.forEach((m,E)=>{t.sharedClientState.isLocalQueryTarget(E)?a.push(E):h=h.then(()=>(Xu(t,E),bc(t.localStore,E,!0))),Ea(t.remoteStore,E)}),yield h,yield Vm(t,a),function(m){const E=jn(m);E.cc.forEach((R,Y)=>{Ea(E.remoteStore,Y)}),E.ac.fs(),E.cc=new Map,E.uc=new Ms($n.comparator)}(t),t.dc=!1,yield xm(t.remoteStore,!1)}}),hp.apply(this,arguments)}function Vm(i,e,t){return uf.apply(this,arguments)}function uf(){return uf=(0,Ce.Z)(function*(i,e,t){const a=jn(i),h=[],m=[];for(const E of e){let R;const Y=a.rc.get(E);if(Y&&0!==Y.length){R=yield Xd(a.localStore,bo(Y[0]));for(const se of Y){const Pe=a.ic.get(se),ft=yield us(a,Pe);ft.snapshot&&m.push(ft.snapshot)}}else{const se=yield gm(a.localStore,E);R=yield Xd(a.localStore,se),yield ap(a,Um(se),E,!1,R.resumeToken)}h.push(R)}return a.sc.Wo(m),h}),uf.apply(this,arguments)}function Um(i){return Lc(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function cf(i){const e=jn(i);return jn(jn(e.localStore).persistence).vi()}function fp(i,e,t,a){return lh.apply(this,arguments)}function lh(){return lh=(0,Ce.Z)(function*(i,e,t,a){const h=jn(i);if(h.dc)return void cn("SyncEngine","Ignoring unexpected query state notification.");const m=h.rc.get(e);if(m&&m.length>0)switch(t){case"current":case"not-current":{const E=yield Zf(h.localStore,rc(m[0])),R=Iu.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,S.EMPTY_BYTE_STRING);yield Ou(h,E,R);break}case"rejected":yield bc(h.localStore,e,!0),Xu(h,e,a);break;default:Tn()}}),lh.apply(this,arguments)}function Sg(i,e,t){return Py.apply(this,arguments)}function Py(){return Py=(0,Ce.Z)(function*(i,e,t){const a=pp(i);if(a.dc){for(const h of e){if(a.rc.has(h)){cn("SyncEngine","Adding an already active target "+h);continue}const m=yield gm(a.localStore,h),E=yield Xd(a.localStore,m);yield ap(a,Um(m),E.targetId,!1,E.resumeToken),od(a.remoteStore,E)}for(const h of t)a.rc.has(h)&&(yield bc(a.localStore,h,!1).then(()=>{Ea(a.remoteStore,h),Xu(a,h)}).catch(Ka))}}),Py.apply(this,arguments)}function pp(i){const e=jn(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Nm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lf.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=My.bind(null,e),e.sc.Wo=wa.bind(null,e.eventManager),e.sc.wc=mg.bind(null,e.eventManager),e}function ky(i){const e=jn(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Fa.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Tv.bind(null,e),e}class jm{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ce.Z)(function*(){t.yt=th(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return fm(this.persistence,new qf,e.initialUser,this.yt)}yc(e){return new ka(qd.Bs,this.yt)}gc(e){return new ym}terminate(){var e=this;return(0,Ce.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Ag extends jm{constructor(e,t,a){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=a,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,a=this;return(0,Ce.Z)(function*(){yield t().call(a,e),yield a.Ac.initialize(a,e),yield ky(a.Ac.syncEngine),yield Xh(a.Ac.remoteStore),yield a.persistence.li(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(),a.indexBackfillerScheduler&&!a.indexBackfillerScheduler.started&&a.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return fm(this.persistence,new qf,e.initialUser,this.yt)}Tc(e,t){return new qp(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const a=new Gl(t,this.persistence);return new Hu(e.asyncQueue,a)}yc(e){const t=Qp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?Dl.withCacheSize(this.cacheSizeBytes):Dl.DEFAULT;return new Wf(this.synchronizeTabs,t,e.clientId,a,e.asyncQueue,Em(),Xf(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new ym}}class Hm extends Ag{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,a=this;return(0,Ce.Z)(function*(){yield t().call(a,e);const h=a.Ac.syncEngine;a.sharedClientState instanceof Dc&&(a.sharedClientState.syncEngine={Fr:Oy.bind(null,h),$r:fp.bind(null,h),Br:Sg.bind(null,h),vi:cf.bind(null,h),Mr:Tg.bind(null,h)},yield a.sharedClientState.start()),yield a.persistence.li(function(){var m=(0,Ce.Z)(function*(E){yield function Bm(i,e){return hp.apply(this,arguments)}(a.Ac.syncEngine,E),a.gcScheduler&&(E&&!a.gcScheduler.started?a.gcScheduler.start():E||a.gcScheduler.stop()),a.indexBackfillerScheduler&&(E&&!a.indexBackfillerScheduler.started?a.indexBackfillerScheduler.start():E||a.indexBackfillerScheduler.stop())});return function(E){return m.apply(this,arguments)}}())})()}gc(e){const t=Em();if(!Dc.C(t))throw new fn(Wt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=Qp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Dc(t,e.asyncQueue,a,e.clientId,e.initialUser)}}class uh{initialize(e,t){var a=this;return(0,Ce.Z)(function*(){a.localStore||(a.localStore=e.localStore,a.sharedClientState=e.sharedClientState,a.datastore=a.createDatastore(t),a.remoteStore=a.createRemoteStore(t),a.eventManager=a.createEventManager(t),a.syncEngine=a.createSyncEngine(t,!e.synchronizeTabs),a.sharedClientState.onlineStateHandler=h=>Ig(a.syncEngine,h,1),a.remoteStore.remoteSyncer.handleCredentialChange=$m.bind(null,a.syncEngine),yield xm(a.remoteStore,a.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Rm}createDatastore(e){const t=th(e.databaseInfo.databaseId),a=new rg(e.databaseInfo);return new wm(e.authCredentials,e.appCheckCredentials,a,t)}createRemoteStore(e){return t=this.localStore,a=this.datastore,h=e.asyncQueue,m=R=>Ig(this.syncEngine,R,0),E=eh.C()?new eh:new vm,new by(t,a,h,m,E);var t,a,h,m,E}createSyncEngine(e,t){return function(a,h,m,E,R,Y,se){const Pe=new km(a,h,m,E,R,Y);return se&&(Pe.dc=!0),Pe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ce.Z)(function*(t){const a=jn(t);cn("RemoteStore","RemoteStore shutting down."),a._u.add(5),yield sd(a),a.mu.shutdown(),a.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function ou(i,e,t){if(!t)throw new fn(Wt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function gp(i,e,t,a){if(!0===e&&!0===a)throw new fn(Wt.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function df(i){if(!$n.isDocumentKey(i))throw new fn(Wt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function ch(i){if($n.isDocumentKey(i))throw new fn(Wt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function hf(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":Tn()}function wi(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new fn(Wt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=hf(i);throw new fn(Wt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function mp(i,e){if(e<=0)throw new fn(Wt.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}const xg=new Map;class Mg{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new fn(Wt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new fn(Wt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,gp("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pu{constructor(e,t,a,h){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=a,this._app=h,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new fn(Wt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new fn(Wt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mg(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new $u;switch(t.type){case"gapi":return new hl(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new fn(Wt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=xg.get(e);t&&(cn("ComponentProvider","Removing Datastore"),xg.delete(e),t.terminate())}(this),Promise.resolve()}}class $s{constructor(e,t,a){this.converter=t,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $s(this.firestore,e,this._key)}}class oa{constructor(e,t,a){this.converter=t,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new oa(this.firestore,e,this._query)}}class xc extends oa{constructor(e,t,a){super(e,t,Io(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $s(this.firestore,null,new $n(e))}withConverter(e){return new xc(this.firestore,e,this._path)}}function so(i,e,...t){if(i=(0,Ke.m9)(i),ou("collection","path",e),i instanceof Pu){const a=ei.fromString(e,...t);return ch(a),new xc(i,null,a)}{if(!(i instanceof $s||i instanceof xc))throw new fn(Wt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(ei.fromString(e,...t));return ch(a),new xc(i.firestore,null,a)}}function yp(i,e,...t){if(i=(0,Ke.m9)(i),1===arguments.length&&(e=fl.R()),ou("doc","path",e),i instanceof Pu){const a=ei.fromString(e,...t);return df(a),new $s(i,null,new $n(a))}{if(!(i instanceof $s||i instanceof xc))throw new fn(Wt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(ei.fromString(e,...t));return df(a),new $s(i.firestore,i instanceof xc?i.converter:null,new $n(a))}}function Fy(i,e){return i=(0,Ke.m9)(i),e=(0,Ke.m9)(e),(i instanceof $s||i instanceof xc)&&(e instanceof $s||e instanceof xc)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function vp(i,e){return i=(0,Ke.m9)(i),e=(0,Ke.m9)(e),i instanceof oa&&e instanceof oa&&i.firestore===e.firestore&&Uc(i._query,e._query)&&i.converter===e.converter}function Gm(i,e=10240){let t=0;return{read:()=>(0,Ce.Z)(function*(){if(t<i.byteLength){const a={value:i.slice(t,t+e),done:!1};return t+=e,a}return{done:!0}})(),cancel:()=>(0,Ce.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class _p{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):jr("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Ly{constructor(e,t){this.Pc=e,this.yt=t,this.metadata=new ys,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(a=>{a&&a.Ou()?this.metadata.resolve(a.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==a?void 0:a.ku)}`))},a=>this.metadata.reject(a))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,Ce.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,Ce.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,Ce.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const a=e.vc.decode(t),h=Number(a);isNaN(h)&&e.Dc(`length string (${a}) is not valid number`);const m=yield e.Cc(h);return new Om(JSON.parse(m),t.length+h)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,Ce.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const a=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),a})()}Cc(e){var t=this;return(0,Ce.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const a=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),a})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,Ce.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const a=new Uint8Array(e.buffer.length+t.value.length);a.set(e.buffer),a.set(t.value,e.buffer.length),e.buffer=a}return t.done})()}}class By{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ce.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new fn(Wt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const a=yield(h=(0,Ce.Z)(function*(m,E){const R=jn(m),Y=Yc(R.yt)+"/documents",se={documents:E.map(an=>Rl(R.yt,an))},Pe=yield R._o("BatchGetDocuments",Y,se,E.length),ft=new Map;Pe.forEach(an=>{const In=function x(i,e){return"found"in e?function(t,a){Yn(!!a.found);const h=tl(t,a.found.name),m=Ns(a.found.updateTime),E=a.found.createTime?Ns(a.found.createTime):Ln.min(),R=new zs({mapValue:{fields:a.found.fields}});return Es.newFoundDocument(h,m,E,R)}(i,e):"missing"in e?function(t,a){Yn(!!a.missing),Yn(!!a.readTime);const h=tl(t,a.missing),m=Ns(a.readTime);return Es.newNoDocument(h,m)}(i,e):Tn()}(R.yt,an);ft.set(In.key.toString(),In)});const $t=[];return E.forEach(an=>{const In=ft.get(an.toString());Yn(!!In),$t.push(In)}),$t}),function(m,E){return h.apply(this,arguments)})(t.datastore,e);var h;return a.forEach(h=>t.recordVersion(h)),a})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(a){this.lastWriteError=a}this.writtenDocs.add(e.toString())}delete(e){this.write(new Eu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ce.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var a;e.mutations.forEach(a=>{t.delete(a.key.toString())}),t.forEach((a,h)=>{const m=$n.fromPath(h);e.mutations.push(new Mh(m,e.precondition(m)))}),yield(a=(0,Ce.Z)(function*(h,m){const E=jn(h),R=Yc(E.yt)+"/documents",Y={writes:m.map(se=>De(E.yt,se))};yield E.ao("Commit",R,Y)}),function(h,m){return a.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Tn();t=Ln.min()}const a=this.readVersions.get(e.key.toString());if(a){if(!t.isEqual(a))throw new fn(Wt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ln.min())?ps.exists(!1):ps.updateTime(t):ps.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ln.min()))throw new fn(Wt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ps.updateTime(t)}return ps.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Av{constructor(e,t,a,h,m){this.asyncQueue=e,this.datastore=t,this.options=a,this.updateFunction=h,this.deferred=m,this.kc=a.maxAttempts,this.xo=new ig(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,Ce.Z)(function*(){const t=new By(e.datastore),a=e.Mc(t);a&&a.then(h=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(h)}).catch(m=>{e.Fc(m)}))}).catch(h=>{e.Fc(h)})}))}Mc(e){try{const t=this.updateFunction(e);return!Kl(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Rh(t)}return!1}}class xv{constructor(e,t,a,h){var m=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=a,this.databaseInfo=h,this.user=Gn.UNAUTHENTICATED,this.clientId=fl.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(a,function(){var E=(0,Ce.Z)(function*(R){cn("FirestoreClient","Received user=",R.uid),yield m.authCredentialListener(R),m.user=R});return function(R){return E.apply(this,arguments)}}()),this.appCheckCredentials.start(a,E=>(cn("FirestoreClient","Received new app check token=",E),this.appCheckCredentialListener(E,this.user)))}getConfiguration(){var e=this;return(0,Ce.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new fn(Wt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ys;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ce.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(a){const h=ef(a,"Failed to shutdown persistence");t.reject(h)}})),t.promise}}function Wm(i,e){return ff.apply(this,arguments)}function ff(){return ff=(0,Ce.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),cn("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let a=t.initialUser;i.setCredentialChangeListener(function(){var h=(0,Ce.Z)(function*(m){a.isEqual(m)||(yield si(e.localStore,m),a=m)});return function(m){return h.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),ff.apply(this,arguments)}function Vy(i,e){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,Ce.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield Og(i);cn("FirestoreClient","Initializing OnlineComponentProvider");const a=yield i.getConfiguration();yield e.initialize(t,a),i.setCredentialChangeListener(h=>Sy(e.remoteStore,h)),i.setAppCheckTokenChangeListener((h,m)=>Sy(e.remoteStore,m)),i.onlineComponents=e}),Ep.apply(this,arguments)}function Og(i){return Pg.apply(this,arguments)}function Pg(){return Pg=(0,Ce.Z)(function*(i){return i.offlineComponents||(cn("FirestoreClient","Using default OfflineComponentProvider"),yield Wm(i,new jm)),i.offlineComponents}),Pg.apply(this,arguments)}function kg(i){return Uy.apply(this,arguments)}function Uy(){return Uy=(0,Ce.Z)(function*(i){return i.onlineComponents||(cn("FirestoreClient","Using default OnlineComponentProvider"),yield Vy(i,new uh)),i.onlineComponents}),Uy.apply(this,arguments)}function au(i){return Og(i).then(e=>e.persistence)}function hh(i){return Og(i).then(e=>e.localStore)}function Mc(i){return kg(i).then(e=>e.remoteStore)}function jy(i){return kg(i).then(e=>e.syncEngine)}function fh(i){return Km.apply(this,arguments)}function Km(){return Km=(0,Ce.Z)(function*(i){const e=yield kg(i),t=e.eventManager;return t.onListen=_g.bind(null,e.syncEngine),t.onUnlisten=Eg.bind(null,e.syncEngine),t}),Km.apply(this,arguments)}function pf(i,e,t={}){const a=new ys;return i.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(h,m,E,R,Y){const se=new _p({next:ft=>{m.enqueueAndForget(()=>ih(h,Pe));const $t=ft.docs.has(E);!$t&&ft.fromCache?Y.reject(new fn(Wt.UNAVAILABLE,"Failed to get document because the client is offline.")):$t&&ft.fromCache&&R&&"server"===R.source?Y.reject(new fn(Wt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Y.resolve(ft)},error:ft=>Y.reject(ft)}),Pe=new yg(Io(E.path),se,{includeMetadataChanges:!0,Nu:!0});return tf(h,Pe)}(yield fh(i),i.asyncQueue,e,t,a)})),a.promise}function pd(i,e,t={}){const a=new ys;return i.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(h,m,E,R,Y){const se=new _p({next:ft=>{m.enqueueAndForget(()=>ih(h,Pe)),ft.fromCache&&"server"===R.source?Y.reject(new fn(Wt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Y.resolve(ft)},error:ft=>Y.reject(ft)}),Pe=new yg(E,se,{includeMetadataChanges:!0,Nu:!0});return tf(h,Pe)}(yield fh(i),i.asyncQueue,e,t,a)})),a.promise}class gf{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new ig(this,"async_queue_retry"),this.Wc=()=>{const t=Xf();t&&cn("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=Xf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=Xf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new ys;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,Ce.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!co(t))throw t;cn("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(a=>{throw this.Kc=a,this.Gc=!1,jr("INTERNAL UNHANDLED ERROR: ",function(m){let E=m.message||"";return m.stack&&(E=m.stack.includes(m.message)?m.stack:m.message+"\n"+m.stack),E}(a)),a}).then(a=>(this.Gc=!1,a))));return this.Bc=t,t}enqueueAfterDelay(e,t,a){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const h=gg.createAndSchedule(this,e,t,a,m=>this.Yc(m));return this.Uc.push(h),h}zc(){this.Kc&&Tn()}verifyOperationInProgress(){}Xc(){var e=this;return(0,Ce.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,a)=>t.targetTimeMs-a.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function ku(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const a=e;for(const h of["next","error","complete"])if(h in a&&"function"==typeof a[h])return!0;return!1}(i)}class gd{constructor(){this._progressObserver={},this._taskCompletionResolver=new ys,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,a){this._progressObserver={next:e,error:t,complete:a}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ts extends Pu{constructor(e,t,a,h){super(e,t,a,h),this.type="firestore",this._queue=new gf,this._persistenceKey=(null==h?void 0:h.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Ui(this),this._firestoreClient.terminate()}}function Ds(i){return i._firestoreClient||Ui(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Ui(i){var e;const t=i._freezeSettings(),a=(m=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new bd(i._databaseId,m,i._persistenceKey,(R=t).host,R.ssl,R.experimentalForceLongPolling,R.experimentalAutoDetectLongPolling,R.useFetchStreams));var m,R;i._firestoreClient=new xv(i._authCredentials,i._appCheckCredentials,i._queue,a)}function Fg(i,e,t){const a=new ys;return i.asyncQueue.enqueue((0,Ce.Z)(function*(){try{yield Wm(i,t),yield Vy(i,e),a.resolve()}catch(h){const m=h;if(!("FirebaseError"===(E=m).name?E.code===Wt.FAILED_PRECONDITION||E.code===Wt.UNIMPLEMENTED:!(typeof DOMException<"u"&&E instanceof DOMException)||22===E.code||20===E.code||11===E.code))throw m;qi("Error enabling offline persistence. Falling back to persistence disabled: "+m),a.reject(m)}var E})).then(()=>a.promise)}function v(i){if(i._initialized||i._terminated)throw new fn(Wt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class D{constructor(e){this._byteString=e}static fromBase64String(e){try{return new D(S.fromBase64String(e))}catch(t){throw new fn(Wt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new D(S.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class k{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new fn(Wt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Di(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ge{constructor(e){this._methodName=e}}class Ae{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fn(Wt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fn(Wt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Br(this._lat,e._lat)||Br(this._long,e._long)}}const Dt=/^__.*__$/;class Ft{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return null!==this.fieldMask?new Pa(e,this.data,this.fieldMask,t,this.fieldTransforms):new ya(e,this.data,t,this.fieldTransforms)}}class Nt{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return new Pa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Jt(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tn()}}class _n{constructor(e,t,a,h,m,E){this.settings=e,this.databaseId=t,this.yt=a,this.ignoreUndefinedProperties=h,void 0===m&&this.na(),this.fieldTransforms=m||[],this.fieldMask=E||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new _n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const a=null===(t=this.path)||void 0===t?void 0:t.child(e),h=this.ia({path:a,oa:!1});return h.ua(e),h}ca(e){var t;const a=null===(t=this.path)||void 0===t?void 0:t.child(e),h=this.ia({path:a,oa:!1});return h.na(),h}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return bp(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(Jt(this.sa)&&Dt.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class Rr{constructor(e,t,a){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=a||th(e)}da(e,t,a,h=!1){return new _n({sa:e,methodName:t,fa:a,path:Di.emptyPath(),oa:!1,la:h},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function Hr(i){const e=i._freezeSettings(),t=th(i._databaseId);return new Rr(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Ii(i,e,t,a,h,m={}){const E=i.da(m.merge||m.mergeFields?2:0,e,t,h);ey("Data must be an object, but it was:",E,a);const R=Gy(a,E);let Y,se;if(m.merge)Y=new Jo(E.fieldMask),se=E.fieldTransforms;else if(m.mergeFields){const Pe=[];for(const ft of m.mergeFields){const $t=ty(e,ft,t);if(!E.contains($t))throw new fn(Wt.INVALID_ARGUMENT,`Field '${$t}' is specified in your field mask but missing from your input data.`);zy(Pe,$t)||Pe.push($t)}Y=new Jo(Pe),se=E.fieldTransforms.filter(ft=>Y.covers(ft.field))}else Y=null,se=E.fieldTransforms;return new Ft(new zs(R),Y,se)}class gs extends ge{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gs}}function ms(i,e,t){return new _n({sa:3,fa:e.settings.fa,methodName:i._methodName,oa:t},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class Bs extends ge{_toFieldTransform(e){return new el(e.path,new Jl)}isEqual(e){return e instanceof Bs}}class yd extends ge{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=ms(this,e,!0),a=this._a.map(m=>gh(m,t)),h=new yu(a);return new el(e.path,h)}isEqual(e){return this===e}}class Rc extends ge{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=ms(this,e,!0),a=this._a.map(m=>gh(m,t)),h=new eu(a);return new el(e.path,h)}isEqual(e){return this===e}}class Ip extends ge{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new vu(e.yt,ks(e.yt,this.wa));return new el(e.path,t)}isEqual(e){return this===e}}function vd(i,e,t,a){const h=i.da(1,e,t);ey("Data must be an object, but it was:",h,a);const m=[],E=zs.empty();So(a,(Y,se)=>{const Pe=yf(e,Y,t);se=(0,Ke.m9)(se);const ft=h.ca(Pe);if(se instanceof gs)m.push(Pe);else{const $t=gh(se,ft);null!=$t&&(m.push(Pe),E.set(Pe,$t))}});const R=new Jo(m);return new Nt(E,R,h.fieldTransforms)}function ph(i,e,t,a,h,m){const E=i.da(1,e,t),R=[ty(e,a,t)],Y=[h];if(m.length%2!=0)throw new fn(Wt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let $t=0;$t<m.length;$t+=2)R.push(ty(e,m[$t])),Y.push(m[$t+1]);const se=[],Pe=zs.empty();for(let $t=R.length-1;$t>=0;--$t)if(!zy(se,R[$t])){const an=R[$t];let In=Y[$t];In=(0,Ke.m9)(In);const dr=E.ca(an);if(In instanceof gs)se.push(an);else{const Mr=gh(In,dr);null!=Mr&&(se.push(an),Pe.set(an,Mr))}}const ft=new Jo(se);return new Nt(Pe,ft,E.fieldTransforms)}function Hy(i,e,t,a=!1){return gh(t,i.da(a?4:3,e))}function gh(i,e){if(Mv(i=(0,Ke.m9)(i)))return ey("Unsupported field value:",e,i),Gy(i,e);if(i instanceof ge)return function(t,a){if(!Jt(a.sa))throw a.ha(`${t._methodName}() can only be used with update() and set()`);if(!a.path)throw a.ha(`${t._methodName}() is not currently supported inside arrays`);const h=t._toFieldTransform(a);h&&a.fieldTransforms.push(h)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,a){const h=[];let m=0;for(const E of t){let R=gh(E,a.aa(m));null==R&&(R={nullValue:"NULL_VALUE"}),h.push(R),m++}return{arrayValue:{values:h}}}(i,e)}return function(t,a){if(null===(t=(0,Ke.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ks(a.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const h=Bi.fromDate(t);return{timestampValue:Ro(a.yt,h)}}if(t instanceof Bi){const h=new Bi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ro(a.yt,h)}}if(t instanceof Ae)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof D)return{bytesValue:Il(a.yt,t._byteString)};if(t instanceof $s){const h=a.databaseId,m=t.firestore._databaseId;if(!m.isEqual(h))throw a.ha(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:qc(t.firestore._databaseId||a.databaseId,t._key.path)}}throw a.ha(`Unsupported field value: ${hf(t)}`)}(i,e)}function Gy(i,e){const t={};return Wl(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):So(i,(a,h)=>{const m=gh(h,e.ra(a));null!=m&&(t[a]=m)}),{mapValue:{fields:t}}}function Mv(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Bi||i instanceof Ae||i instanceof D||i instanceof $s||i instanceof ge)}function ey(i,e,t){if(!Mv(t)||"object"!=typeof(a=t)||null===a||Object.getPrototypeOf(a)!==Object.prototype&&null!==Object.getPrototypeOf(a)){const a=hf(t);throw e.ha("an object"===a?i+" a custom object":i+" "+a)}var a}function ty(i,e,t){if((e=(0,Ke.m9)(e))instanceof k)return e._internalPath;if("string"==typeof e)return yf(i,e);throw bp("Field path arguments must be of type string or ",i,!1,void 0,t)}const Rv=new RegExp("[~\\*/\\[\\]]");function yf(i,e,t){if(e.search(Rv)>=0)throw bp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new k(...e.split("."))._internalPath}catch(a){throw bp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function bp(i,e,t,a,h){const m=a&&!a.isEmpty(),E=void 0!==h;let R=`Function ${e}() called with invalid data`;t&&(R+=" (via `toFirestore()`)"),R+=". ";let Y="";return(m||E)&&(Y+=" (found",m&&(Y+=` in field ${a}`),E&&(Y+=` in document ${h}`),Y+=")"),new fn(Wt.INVALID_ARGUMENT,R+i+Y)}function zy(i,e){return i.some(t=>t.isEqual(e))}class Cp{constructor(e,t,a,h,m){this._firestore=e,this._userDataWriter=t,this._key=a,this._document=h,this._converter=m}get id(){return this._key.path.lastSegment()}get ref(){return new $s(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ov(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field($g("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Ov extends Cp{data(){return super.data()}}function $g(i,e){return"string"==typeof e?yf(i,e):e instanceof k?e._internalPath:e._delegate._internalPath}function Wy(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new fn(Wt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ny{}class Dp extends ny{}function vf(i,e,...t){let a=[];e instanceof ny&&a.push(e),a=a.concat(t),function(h){const m=h.filter(R=>R instanceof _f).length,E=h.filter(R=>R instanceof Bg).length;if(m>1||m>0&&E>0)throw new fn(Wt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const h of a)i=h._apply(i);return i}class Bg extends Dp{constructor(e,t,a){super(),this._field=e,this._op=t,this._value=a,this.type="where"}static _create(e,t,a){return new Bg(e,t,a)}_apply(e){const t=this._parse(e);return qy(e._query,t),new oa(e.firestore,e.converter,Bc(e._query,t))}_parse(e){const t=Hr(e.firestore);return function(h,m,E,R,Y,se,Pe){let ft;if(Y.isKeyField()){if("array-contains"===se||"array-contains-any"===se)throw new fn(Wt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${se}' queries on documentId().`);if("in"===se||"not-in"===se){w_(Pe,se);const $t=[];for(const an of Pe)$t.push(Ky(R,h,an));ft={arrayValue:{values:$t}}}else ft=Ky(R,h,Pe)}else"in"!==se&&"not-in"!==se&&"array-contains-any"!==se||w_(Pe,se),ft=Hy(E,"where",Pe,"in"===se||"not-in"===se);return Nn.create(Y,se,ft)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class _f extends ny{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new _f(e,t)}_parse(e){const t=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return 1===t.length?t[0]:ii.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(a,h){let m=a;const E=h.getFlattenedFilters();for(const R of E)qy(m,R),m=Bc(m,R)}(e._query,t),new oa(e.firestore,e.converter,Bc(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ry extends Dp{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ry(e,t)}_apply(e){const t=function(a,h,m){if(null!==a.startAt)throw new fn(Wt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==a.endAt)throw new fn(Wt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const E=new Zl(h,m);return function(R,Y){if(null===Ja(R)){const se=Ql(R);null!==se&&oy(0,se,Y.field)}}(a,E),E}(e._query,this._field,this._direction);return new oa(e.firestore,e.converter,function(a,h){const m=a.explicitOrderBy.concat([h]);return new ea(a.path,a.collectionGroup,m,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}class iy extends Dp{constructor(e,t,a){super(),this.type=e,this._limit=t,this._limitType=a}static _create(e,t,a){return new iy(e,t,a)}_apply(e){return new oa(e.firestore,e.converter,Vc(e._query,this._limit,this._limitType))}}class Vg extends Dp{constructor(e,t,a){super(),this.type=e,this._docOrFields=t,this._inclusive=a}static _create(e,t,a){return new Vg(e,t,a)}_apply(e){const t=Fv(e,this.type,this._docOrFields,this._inclusive);return new oa(e.firestore,e.converter,(h=t,new ea((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,h,a.endAt)));var a,h}}class sy extends Dp{constructor(e,t,a){super(),this.type=e,this._docOrFields=t,this._inclusive=a}static _create(e,t,a){return new sy(e,t,a)}_apply(e){const t=Fv(e,this.type,this._docOrFields,this._inclusive);return new oa(e.firestore,e.converter,(h=t,new ea((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,h)));var a,h}}function Fv(i,e,t,a){if(t[0]=(0,Ke.m9)(t[0]),t[0]instanceof Cp)return function(h,m,E,R,Y){if(!R)throw new fn(Wt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${E}().`);const se=[];for(const Pe of Js(h))if(Pe.field.isKeyField())se.push(Mi(m,R.key));else{const ft=R.data.field(Pe.field);if(fe(ft))throw new fn(Wt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Pe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ft){const $t=Pe.field.canonicalString();throw new fn(Wt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${$t}' (used as the orderBy) does not exist.`)}se.push(ft)}return new Jn(se,Y)}(i._query,i.firestore._databaseId,e,t[0]._document,a);{const h=Hr(i.firestore);return function(m,E,R,Y,se,Pe){const ft=m.explicitOrderBy;if(se.length>ft.length)throw new fn(Wt.INVALID_ARGUMENT,`Too many arguments provided to ${Y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const $t=[];for(let an=0;an<se.length;an++){const In=se[an];if(ft[an].field.isKeyField()){if("string"!=typeof In)throw new fn(Wt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${Y}(), but got a ${typeof In}`);if(!Ad(m)&&-1!==In.indexOf("/"))throw new fn(Wt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${Y}() must be a plain document ID, but '${In}' contains a slash.`);const dr=m.path.child(ei.fromString(In));if(!$n.isDocumentKey(dr))throw new fn(Wt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${Y}() must result in a valid document path, but '${dr}' is not because it contains an odd number of segments.`);const Mr=new $n(dr);$t.push(Mi(E,Mr))}else{const dr=Hy(R,Y,In);$t.push(dr)}}return new Jn($t,Pe)}(i._query,i.firestore._databaseId,h,e,t,a)}}function Ky(i,e,t){if("string"==typeof(t=(0,Ke.m9)(t))){if(""===t)throw new fn(Wt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ad(e)&&-1!==t.indexOf("/"))throw new fn(Wt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const a=e.path.child(ei.fromString(t));if(!$n.isDocumentKey(a))throw new fn(Wt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Mi(i,new $n(a))}if(t instanceof $s)return Mi(i,t._key);throw new fn(Wt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hf(t)}.`)}function w_(i,e){if(!Array.isArray(i)||0===i.length)throw new fn(Wt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new fn(Wt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function qy(i,e){if(e.isInequality()){const a=Ql(i),h=e.field;if(null!==a&&!a.isEqual(h))throw new fn(Wt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${a.toString()}' and '${h.toString()}'`);const m=Ja(i);null!==m&&oy(0,h,m)}const t=function(a,h){for(const m of a)for(const E of m.getFlattenedFilters())if(h.indexOf(E.op)>=0)return E.op;return null}(i.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new fn(Wt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function oy(i,e,t){if(!t.isEqual(e))throw new fn(Wt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Yy{convertValue(e,t="none"){switch(Wn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return O(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(z(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Tn()}}convertObject(e,t){const a={};return So(e.fields,(h,m)=>{a[h]=this.convertValue(m,t)}),a}convertGeoPoint(e){return new Ae(O(e.latitude),O(e.longitude))}convertArray(e,t){return(e.values||[]).map(a=>this.convertValue(a,t))}convertServerTimestamp(e,t){switch(t){case"previous":const a=je(e);return null==a?null:this.convertValue(a,t);case"estimate":return this.convertTimestamp(Qe(e));default:return null}}convertTimestamp(e){const t=T(e);return new Bi(t.seconds,t.nanos)}convertDocumentKey(e,t){const a=ei.fromString(e);Yn(Pf(a));const h=new Ma(a.get(1),a.get(3)),m=new $n(a.popFirst(5));return h.isEqual(t)||jr(`Document ${m} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),m}}function Ug(i,e,t){let a;return a=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,a}class Oc extends Yy{constructor(e){super(),this.firestore=e}convertBytes(e){return new D(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $s(this.firestore,null,t)}}class $a{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class aa extends Cp{constructor(e,t,a,h,m,E){super(e,t,a,h,E),this._firestore=e,this._firestoreImpl=e,this.metadata=m}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Sp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const a=this._document.data.field($g("DocumentSnapshot.get",e));if(null!==a)return this._userDataWriter.convertValue(a,t.serverTimestamps)}}}class Sp extends aa{data(e={}){return super.data(e)}}class _d{constructor(e,t,a,h){this._firestore=e,this._userDataWriter=t,this._snapshot=h,this.metadata=new $a(h.hasPendingWrites,h.fromCache),this.query=a}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(a=>{e.call(t,new Sp(this._firestore,this._userDataWriter,a.key,a,new $a(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fn(Wt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,h){if(a._snapshot.oldDocs.isEmpty()){let m=0;return a._snapshot.docChanges.map(E=>({type:"added",doc:new Sp(a._firestore,a._userDataWriter,E.doc.key,E.doc,new $a(a._snapshot.mutatedKeys.has(E.doc.key),a._snapshot.fromCache),a.query.converter),oldIndex:-1,newIndex:m++}))}{let m=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(E=>h||3!==E.type).map(E=>{const R=new Sp(a._firestore,a._userDataWriter,E.doc.key,E.doc,new $a(a._snapshot.mutatedKeys.has(E.doc.key),a._snapshot.fromCache),a.query.converter);let Y=-1,se=-1;return 0!==E.type&&(Y=m.indexOf(E.doc.key),m=m.delete(E.doc.key)),1!==E.type&&(m=m.add(E.doc),se=m.indexOf(E.doc.key)),{type:I_(E.type),doc:R,oldIndex:Y,newIndex:se}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function I_(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tn()}}function Lv(i,e){return i instanceof aa&&e instanceof aa?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof _d&&e instanceof _d&&i._firestore===e._firestore&&vp(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}class mh extends Yy{constructor(e){super(),this.firestore=e}convertBytes(e){return new D(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $s(this.firestore,null,t)}}function Xy(i,e,t){i=wi(i,$s);const a=wi(i.firestore,ts),h=Ug(i.converter,e,t);return yh(a,[Ii(Hr(a),"setDoc",i._key,h,null!==i.converter,t).toMutation(i._key,ps.none())])}function Qy(i,e,t,...a){i=wi(i,$s);const h=wi(i.firestore,ts),m=Hr(h);let E;return E="string"==typeof(e=(0,Ke.m9)(e))||e instanceof k?ph(m,"updateDoc",i._key,e,t,a):vd(m,"updateDoc",i._key,e),yh(h,[E.toMutation(i._key,ps.exists(!0))])}function Jy(i,...e){var t,a,h;i=(0,Ke.m9)(i);let m={includeMetadataChanges:!1},E=0;"object"!=typeof e[E]||ku(e[E])||(m=e[E],E++);const R={includeMetadataChanges:m.includeMetadataChanges};if(ku(e[E])){const ft=e[E];e[E]=null===(t=ft.next)||void 0===t?void 0:t.bind(ft),e[E+1]=null===(a=ft.error)||void 0===a?void 0:a.bind(ft),e[E+2]=null===(h=ft.complete)||void 0===h?void 0:h.bind(ft)}let Y,se,Pe;if(i instanceof $s)se=wi(i.firestore,ts),Pe=Io(i._key.path),Y={next:ft=>{e[E]&&e[E](Ap(se,i,ft))},error:e[E+1],complete:e[E+2]};else{const ft=wi(i,oa);se=wi(ft.firestore,ts),Pe=ft._query;const $t=new mh(se);Y={next:an=>{e[E]&&e[E](new _d(se,$t,ft,an))},error:e[E+1],complete:e[E+2]},Wy(i._query)}return function(ft,$t,an,In){const dr=new _p(In),Mr=new yg($t,dr,an);return ft.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return tf(yield fh(ft),Mr)})),()=>{dr.bc(),ft.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return ih(yield fh(ft),Mr)}))}}(Ds(se),Pe,R,Y)}function yh(i,e){return function(t,a){const h=new ys;return t.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function xy(i,e,t){return dd.apply(this,arguments)}(yield jy(t),a,h)})),h.promise}(Ds(i),e)}function Ap(i,e,t){const a=t.docs.get(e._key),h=new mh(i);return new aa(i,h,e._key,a,new $a(t.hasPendingWrites,t.fromCache),e.converter)}const jv={maxAttempts:5};class ev{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Hr(e)}set(e,t,a){this._verifyNotCommitted();const h=Ed(e,this._firestore),m=Ug(h.converter,t,a),E=Ii(this._dataReader,"WriteBatch.set",h._key,m,null!==h.converter,a);return this._mutations.push(E.toMutation(h._key,ps.none())),this}update(e,t,a,...h){this._verifyNotCommitted();const m=Ed(e,this._firestore);let E;return E="string"==typeof(t=(0,Ke.m9)(t))||t instanceof k?ph(this._dataReader,"WriteBatch.update",m._key,t,a,h):vd(this._dataReader,"WriteBatch.update",m._key,t),this._mutations.push(E.toMutation(m._key,ps.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ed(e,this._firestore);return this._mutations=this._mutations.concat(new Eu(t._key,ps.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new fn(Wt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ed(i,e){if((i=(0,Ke.m9)(i)).firestore!==e)throw new fn(Wt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class Hv extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Hr(e)}get(e){const t=Ed(e,this._firestore),a=new Oc(this._firestore);return this._transaction.lookup([t._key]).then(h=>{if(!h||1!==h.length)return Tn();const m=h[0];if(m.isFoundDocument())return new Cp(this._firestore,a,m.key,m,t.converter);if(m.isNoDocument())return new Cp(this._firestore,a,t._key,null,t.converter);throw Tn()})}set(e,t,a){const h=Ed(e,this._firestore),m=Ug(h.converter,t,a),E=Ii(this._dataReader,"Transaction.set",h._key,m,null!==h.converter,a);return this._transaction.set(h._key,E),this}update(e,t,a,...h){const m=Ed(e,this._firestore);let E;return E="string"==typeof(t=(0,Ke.m9)(t))||t instanceof k?ph(this._dataReader,"Transaction.update",m._key,t,a,h):vd(this._dataReader,"Transaction.update",m._key,t),this._transaction.update(m._key,E),this}delete(e){const t=Ed(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ed(e,this._firestore),a=new mh(this._firestore);return super.get(e).then(h=>new aa(this._firestore,a,t._key,h._document,new $a(!1,!1),t.converter))}}function tv(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new fn("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function Kv(){if(typeof Uint8Array>"u")throw new fn("unimplemented","Uint8Arrays are not available in this environment.")}function qv(){if(!function pu(){return typeof atob<"u"}())throw new fn("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){or=wt.SDK_VERSION,(0,wt._registerComponent)(new Ve.wA("firestore",(t,{instanceIdentifier:a,options:h})=>{const m=t.getProvider("app").getImmediate(),E=new ts(new Ha(t.getProvider("auth-internal")),new Bu(t.getProvider("app-check-internal")),function(R,Y){if(!Object.prototype.hasOwnProperty.apply(R.options,["projectId"]))throw new fn(Wt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ma(R.options.projectId,Y)}(m,a),m);return h=Object.assign({useFetchStreams:e},h),E._setSettings(h),E},"PUBLIC").setMultipleInstances(!0)),(0,wt.registerVersion)(ui,"3.8.0",i),(0,wt.registerVersion)(ui,"3.8.0","esm2017")}();class Hg{constructor(e){this._delegate=e}static fromBase64String(e){return qv(),new Hg(D.fromBase64String(e))}static fromUint8Array(e){return Kv(),new Hg(D.fromUint8Array(e))}toBase64(){return qv(),this._delegate.toBase64()}toUint8Array(){return Kv(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function nv(i){return function P_(i,e){if("object"!=typeof i||null===i)return!1;const t=i;for(const a of e)if(a in t&&"function"==typeof t[a])return!0;return!1}(i,["next","error","complete"])}class k_{enableIndexedDbPersistence(e,t){return function Zm(i,e){v(i=wi(i,ts));const t=Ds(i),a=i._freezeSettings(),h=new uh;return Fg(t,h,new Ag(h,a.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Xm(i){v(i=wi(i,ts));const e=Ds(i),t=i._freezeSettings(),a=new uh;return Fg(e,a,new Hm(a,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Qm(i){if(i._initialized&&!i._terminated)throw new fn(Wt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ys;return i._queue.enqueueAndForgetEvenWhileRestricted((0,Ce.Z)(function*(){try{yield(t=(0,Ce.Z)(function*(a){if(!Zo.C())return Promise.resolve();const h=a+"main";yield Zo.delete(h)}),function(a){return t.apply(this,arguments)})(Qp(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Yv{constructor(e,t,a){this._delegate=t,this._persistenceProvider=a,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ma||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&qi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,a={}){!function Rg(i,e,t,a={}){var h;const m=(i=wi(i,Pu))._getSettings();if("firestore.googleapis.com"!==m.host&&m.host!==e&&qi("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},m),{host:`${e}:${t}`,ssl:!1})),a.mockUserToken){let E,R;if("string"==typeof a.mockUserToken)E=a.mockUserToken,R=Gn.MOCK_USER;else{E=(0,Ke.Sg)(a.mockUserToken,null===(h=i._app)||void 0===h?void 0:h.options.projectId);const Y=a.mockUserToken.sub||a.mockUserToken.user_id;if(!Y)throw new fn(Wt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new Gn(Y)}i._authCredentials=new No(new dl(E,R))}}(this._delegate,e,t,a)}enableNetwork(){return function Jm(i){return function qm(i){return i.asyncQueue.enqueue((0,Ce.Z)(function*(){const e=yield au(i),t=yield Mc(i);return e.setNetworkEnabled(!0),function(a){const h=jn(a);return h._u.delete(0),il(h)}(t)}))}(Ds(i=wi(i,ts)))}(this._delegate)}disableNetwork(){return function u(i){return function wp(i){return i.asyncQueue.enqueue((0,Ce.Z)(function*(){const e=yield au(i),t=yield Mc(i);return e.setNetworkEnabled(!1),(a=(0,Ce.Z)(function*(h){const m=jn(h);m._u.add(0),yield sd(m),m.gu.set("Offline")}),function(h){return a.apply(this,arguments)})(t);var a}))}(Ds(i=wi(i,ts)))}(this._delegate)}enablePersistence(e){let t=!1,a=!1;return e&&(t=!!e.synchronizeTabs,a=!!e.experimentalForceOwningTab,gp("synchronizeTabs",t,"experimentalForceOwningTab",a)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,a)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Lg(i){return function(e){const t=new ys;return e.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function bg(i,e){return up.apply(this,arguments)}(yield jy(e),t)})),t.promise}(Ds(i=wi(i,ts)))}(this._delegate)}onSnapshotsInSync(e){return function Bv(i,e){return function Ng(i,e){const t=new _p(e);return i.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return a=yield fh(i),h=t,jn(a).Ru.add(h),void h.next();var a,h})),()=>{t.bc(),i.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return a=yield fh(i),h=t,void jn(a).Ru.delete(h);var a,h}))}}(Ds(i=wi(i,ts)),ku(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new fn("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Rp(this,so(this._delegate,e))}catch(t){throw sl(t,"collection()","Firestore.collection()")}}doc(e){try{return new uu(this,yp(this._delegate,e))}catch(t){throw sl(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ol(this,function dh(i,e){if(i=wi(i,Pu),ou("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new fn(Wt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new oa(i,null,(t=e,new ea(ei.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw sl(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Gv(i,e,t){i=wi(i,ts);const a=Object.assign(Object.assign({},jv),t);return function(h){if(h.maxAttempts<1)throw new fn(Wt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(a),function(h,m,E){const R=new ys;return h.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){const Y=yield function fd(i){return kg(i).then(e=>e.datastore)}(h);new Av(h.asyncQueue,Y,E,m,R).run()})),R.promise}(Ds(i),h=>e(new Hv(i,h)),a)}(this._delegate,t=>e(new rv(this,t)))}batch(){return Ds(this._delegate),new iv(new ev(this._delegate,e=>yh(this._delegate,e)))}loadBundle(e){return function l(i,e){const t=Ds(i=wi(i,ts)),a=new gd;return function lu(i,e,t,a){const h=function(m,E){let R;return R="string"==typeof m?(new TextEncoder).encode(m):m,Y=function(Y,se){if(Y instanceof Uint8Array)return Gm(Y,void 0);if(Y instanceof ArrayBuffer)return Gm(new Uint8Array(Y),void 0);if(Y instanceof ReadableStream)return Y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(R),new Ly(Y,E);var Y}(t,th(e));i.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){!function Ny(i,e,t){const a=jn(i);var h;(h=(0,Ce.Z)(function*(m,E,R){try{const Y=yield E.getMetadata();if(yield function($t,an){const In=jn($t),dr=Ns(an.createTime);return In.persistence.runTransaction("hasNewerBundle","readonly",Mr=>In.Ns.getBundleMetadata(Mr,an.id)).then(Mr=>!!Mr&&Mr.createTime.compareTo(dr)>=0)}(m.localStore,Y))return yield E.close(),R._completeWith({taskState:"Success",documentsLoaded:($t=Y).totalDocuments,bytesLoaded:$t.totalBytes,totalDocuments:$t.totalDocuments,totalBytes:$t.totalBytes}),Promise.resolve(new Set);R._updateProgress(nf(Y));const se=new Ay(Y,m.localStore,E.yt);let Pe=yield E.mc();for(;Pe;){const $t=yield se.Fu(Pe);$t&&R._updateProgress($t),Pe=yield E.mc()}const ft=yield se.complete();return yield Ou(m,ft.Lu,void 0),yield function($t,an){const In=jn($t);return In.persistence.runTransaction("Save bundle","readwrite",dr=>In.Ns.saveBundleMetadata(dr,an))}(m.localStore,Y),R._completeWith(ft.progress),Promise.resolve(ft.Bu)}catch(Y){return qi("SyncEngine",`Loading bundle failed with ${Y}`),R._failWith(Y),Promise.resolve(new Set)}var $t}),function(m,E,R){return h.apply(this,arguments)})(a,e,t).then(h=>{a.sharedClientState.notifyBundleLoaded(h)})}(yield jy(i),h,a)}))}(t,i._databaseId,e,a),a}(this._delegate,e)}namedQuery(e){return function f(i,e){return function Ym(i,e){return i.asyncQueue.enqueue((0,Ce.Z)(function*(){return function(t,a){const h=jn(t);return h.persistence.runTransaction("Get named query","readonly",m=>h.Ns.getNamedQuery(m,a))}(yield hh(i),e)}))}(Ds(i=wi(i,ts)),e).then(t=>t?new oa(i,null,t.query):null)}(this._delegate,e).then(t=>t?new ol(this,t):null)}}class ly extends Yy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hg(new D(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return uu.forKey(t,this.firestore,null)}}class rv{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new ly(e)}get(e){const t=Lu(e);return this._delegate.get(t).then(a=>new xp(this._firestore,new aa(this._firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,t.converter)))}set(e,t,a){const h=Lu(e);return a?(tv("Transaction.set",a),this._delegate.set(h,t,a)):this._delegate.set(h,t),this}update(e,t,a,...h){const m=Lu(e);return 2===arguments.length?this._delegate.update(m,t):this._delegate.update(m,t,a,...h),this}delete(e){const t=Lu(e);return this._delegate.delete(t),this}}class iv{constructor(e){this._delegate=e}set(e,t,a){const h=Lu(e);return a?(tv("WriteBatch.set",a),this._delegate.set(h,t,a)):this._delegate.set(h,t),this}update(e,t,a,...h){const m=Lu(e);return 2===arguments.length?this._delegate.update(m,t):this._delegate.update(m,t,a,...h),this}delete(e){const t=Lu(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class vh{constructor(e,t,a){this._firestore=e,this._userDataWriter=t,this._delegate=a}fromFirestore(e,t){const a=new Sp(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Mp(this._firestore,a),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const a=vh.INSTANCES;let h=a.get(e);h||(h=new WeakMap,a.set(e,h));let m=h.get(t);return m||(m=new vh(e,new ly(e),t),h.set(t,m)),m}}vh.INSTANCES=new WeakMap;class uu{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ly(e)}static forPath(e,t,a){if(e.length%2!=0)throw new fn("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new uu(t,new $s(t._delegate,a,new $n(e)))}static forKey(e,t,a){return new uu(t,new $s(t._delegate,a,e))}get id(){return this._delegate.id}get parent(){return new Rp(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Rp(this.firestore,so(this._delegate,e))}catch(t){throw sl(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ke.m9)(e))instanceof $s&&Fy(this._delegate,e)}set(e,t){t=tv("DocumentReference.set",t);try{return t?Xy(this._delegate,e,t):Xy(this._delegate,e)}catch(a){throw sl(a,"setDoc()","DocumentReference.set()")}}update(e,t,...a){try{return 1===arguments.length?Qy(this._delegate,e):Qy(this._delegate,e,t,...a)}catch(h){throw sl(h,"updateDoc()","DocumentReference.update()")}}delete(){return function ay(i){return yh(wi(i.firestore,ts),[new Eu(i._key,ps.none())])}(this._delegate)}onSnapshot(...e){const t=sv(e),a=ov(e,h=>new xp(this.firestore,new aa(this.firestore._delegate,this._userDataWriter,h._key,h._document,h.metadata,this._delegate.converter)));return Jy(this._delegate,t,a)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Zy(i){i=wi(i,$s);const e=wi(i.firestore,ts),t=Ds(e),a=new mh(e);return function Qu(i,e){const t=new ys;return i.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return(a=(0,Ce.Z)(function*(h,m,E){try{const R=yield function(Y,se){const Pe=jn(Y);return Pe.persistence.runTransaction("read document","readonly",ft=>Pe.localDocuments.getDocument(ft,se))}(h,m);R.isFoundDocument()?E.resolve(R):R.isNoDocument()?E.resolve(null):E.reject(new fn(Wt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(R){const Y=ef(R,`Failed to get document '${m} from cache`);E.reject(Y)}}),function(h,m,E){return a.apply(this,arguments)})(yield hh(i),e,t);var a})),t.promise}(t,i._key).then(h=>new aa(e,a,i._key,h,new $a(null!==h&&h.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function jg(i){i=wi(i,$s);const e=wi(i.firestore,ts);return pf(Ds(e),i._key,{source:"server"}).then(t=>Ap(e,i,t))}(this._delegate):function b_(i){i=wi(i,$s);const e=wi(i.firestore,ts);return pf(Ds(e),i._key).then(t=>Ap(e,i,t))}(this._delegate),t.then(a=>new xp(this.firestore,new aa(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)))}withConverter(e){return new uu(this.firestore,this._delegate.withConverter(e?vh.getInstance(this.firestore,e):null))}}function sl(i,e,t){return i.message=i.message.replace(e,t),i}function sv(i){for(const e of i)if("object"==typeof e&&!nv(e))return e;return{}}function ov(i,e){var t,a;let h;return h=nv(i[0])?i[0]:nv(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:m=>{h.next&&h.next(e(m))},error:null===(t=h.error)||void 0===t?void 0:t.bind(h),complete:null===(a=h.complete)||void 0===a?void 0:a.bind(h)}}class xp{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new uu(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Lv(this._delegate,e._delegate)}}class Mp extends xp{data(e){const t=this._delegate.data(e);return function Wo(i,e){i||Tn()}(void 0!==t),t}}class ol{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ly(e)}where(e,t,a){try{return new ol(this.firestore,vf(this._delegate,function y_(i,e,t){const a=e,h=$g("where",i);return Bg._create(h,a,t)}(e,t,a)))}catch(h){throw sl(h,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ol(this.firestore,vf(this._delegate,function v_(i,e="asc"){const t=e,a=$g("orderBy",i);return ry._create(a,t)}(e,t)))}catch(a){throw sl(a,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ol(this.firestore,vf(this._delegate,function Pv(i){return mp("limit",i),iy._create("limit",i,"F")}(e)))}catch(t){throw sl(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ol(this.firestore,vf(this._delegate,function __(i){return mp("limitToLast",i),iy._create("limitToLast",i,"L")}(e)))}catch(t){throw sl(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ol(this.firestore,vf(this._delegate,function kv(...i){return Vg._create("startAt",i,!0)}(...e)))}catch(t){throw sl(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ol(this.firestore,vf(this._delegate,function Tp(...i){return Vg._create("startAfter",i,!1)}(...e)))}catch(t){throw sl(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ol(this.firestore,vf(this._delegate,function E_(...i){return sy._create("endBefore",i,!1)}(...e)))}catch(t){throw sl(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ol(this.firestore,vf(this._delegate,function Nv(...i){return sy._create("endAt",i,!0)}(...e)))}catch(t){throw sl(t,"endAt()","Query.endAt()")}}isEqual(e){return vp(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function $v(i){i=wi(i,oa);const e=wi(i.firestore,ts),t=Ds(e),a=new mh(e);return function La(i,e){const t=new ys;return i.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return(a=(0,Ce.Z)(function*(h,m,E){try{const R=yield Qd(h,m,!0),Y=new Zu(m,R.Hi),se=Y.Wu(R.documents),Pe=Y.applyChanges(se,!1);E.resolve(Pe.snapshot)}catch(R){const Y=ef(R,`Failed to execute query '${m} against cache`);E.reject(Y)}}),function(h,m,E){return a.apply(this,arguments)})(yield hh(i),e,t);var a})),t.promise}(t,i._query).then(h=>new _d(e,a,i,h))}(this._delegate):"server"===(null==e?void 0:e.source)?function D_(i){i=wi(i,oa);const e=wi(i.firestore,ts),t=Ds(e),a=new mh(e);return pd(t,i._query,{source:"server"}).then(h=>new _d(e,a,i,h))}(this._delegate):function C_(i){i=wi(i,oa);const e=wi(i.firestore,ts),t=Ds(e),a=new mh(e);return Wy(i._query),pd(t,i._query).then(h=>new _d(e,a,i,h))}(this._delegate),t.then(a=>new av(this.firestore,new _d(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)))}onSnapshot(...e){const t=sv(e),a=ov(e,h=>new av(this.firestore,new _d(this.firestore._delegate,this._userDataWriter,this._delegate,h._snapshot)));return Jy(this._delegate,t,a)}withConverter(e){return new ol(this.firestore,this._delegate.withConverter(e?vh.getInstance(this.firestore,e):null))}}class Ef{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Mp(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class av{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ol(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Mp(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Ef(this._firestore,t))}forEach(e,t){this._delegate.forEach(a=>{e.call(t,new Mp(this._firestore,a))})}isEqual(e){return Lv(this._delegate,e._delegate)}}class Rp extends ol{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new uu(this.firestore,e):null}doc(e){try{return new uu(this.firestore,void 0===e?yp(this._delegate):yp(this._delegate,e))}catch(t){throw sl(t,"doc()","CollectionReference.doc()")}}add(e){return function T_(i,e){const t=wi(i.firestore,ts),a=yp(i),h=Ug(i.converter,e);return yh(t,[Ii(Hr(i.firestore),"addDoc",a._key,h,null!==i.converter,{}).toMutation(a._key,ps.exists(!1))]).then(()=>a)}(this._delegate,e).then(t=>new uu(this.firestore,t))}isEqual(e){return Fy(this._delegate,e._delegate)}withConverter(e){return new Rp(this.firestore,this._delegate.withConverter(e?vh.getInstance(this.firestore,e):null))}}function Lu(i){return wi(i,$s)}class lv{constructor(...e){this._delegate=new k(...e)}static documentId(){return new lv(Di.keyField().canonicalString())}isEqual(e){return(e=(0,Ke.m9)(e))instanceof k&&this._delegate._internalPath.isEqual(e._internalPath)}}class wd{constructor(e){this._delegate=e}static serverTimestamp(){const e=function S_(){return new Bs("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new wd(e)}static delete(){const e=function zv(){return new gs("deleteField")}();return e._methodName="FieldValue.delete",new wd(e)}static arrayUnion(...e){const t=function A_(...i){return new yd("arrayUnion",i)}(...e);return t._methodName="FieldValue.arrayUnion",new wd(t)}static arrayRemove(...e){const t=function x_(...i){return new Rc("arrayRemove",i)}(...e);return t._methodName="FieldValue.arrayRemove",new wd(t)}static increment(e){const t=function M_(i){return new Ip("increment",i)}(e);return t._methodName="FieldValue.increment",new wd(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const P0={Firestore:Yv,GeoPoint:Ae,Timestamp:Bi,Blob:Hg,Transaction:rv,WriteBatch:iv,DocumentReference:uu,DocumentSnapshot:xp,Query:ol,QueryDocumentSnapshot:Mp,QuerySnapshot:av,CollectionReference:Rp,FieldPath:lv,FieldValue:wd,setLogLevel:function Zv(i){!function Pi(i){ri.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function Qv(i){(function Xv(i,e){i.INTERNAL.registerComponent(new Ve.wA("firestore-compat",t=>{const a=t.getProvider("app-compat").getImmediate(),h=t.getProvider("firestore").getImmediate();return e(a,h)},"PUBLIC").setServiceProps(Object.assign({},P0)))})(i,(e,t)=>new Yv(e,t,new k_)),i.registerVersion("@firebase/firestore-compat","0.3.0")}(ye.Z);var wf=$(3385),Wr=$(6217),N_=$(9260);function Jv(i,e){return function F_(i,e=ne.z){return new W.y(t=>{let a;return null!=e?e.schedule(()=>{a=i.onSnapshot({includeMetadataChanges:!0},t)}):a=i.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=a&&a()}})}(i,e)}function uv(i,e){return Jv(i,e).pipe((0,de.U)(t=>({payload:t,type:"query"})))}function If(i,e){return uv(i,e).pipe((0,we.O)(void 0),xe(),(0,de.U)(([t,a])=>{const h=a.payload.docChanges(),m=h.map(E=>({type:E.type,payload:E}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(a.payload.metadata)&&a.payload.docs.forEach((E,R)=>{const Y=h.find(Pe=>Pe.doc.ref.isEqual(E.ref)),se=null==t?void 0:t.payload.docs.find(Pe=>Pe.ref.isEqual(E.ref));Y&&JSON.stringify(Y.doc.metadata)===JSON.stringify(E.metadata)||!Y&&se&&JSON.stringify(se.metadata)===JSON.stringify(E.metadata)||m.push({type:"modified",payload:{oldIndex:R,newIndex:R,type:"modified",doc:E}})}),m}))}function Gg(i,e,t){return If(i,t).pipe((0,Te.R)((a,h)=>function Co(i,e,t){return e.forEach(a=>{t.indexOf(a.type)>-1&&(i=function t_(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return e_(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return e_(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return e_(i,e.oldIndex,1)}return i}(i,a))}),i}(a,h.map(m=>m.payload),e),[]),(0,ze.x)(),(0,de.U)(a=>a.map(h=>({type:h.type,payload:h}))))}function e_(i,e,t,...a){const h=i.slice();return h.splice(e,t,...a),h}function cv(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class n_{constructor(e,t,a){this.ref=e,this.query=t,this.afs=a}stateChanges(e){let t=If(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,de.U)(a=>a.filter(h=>e.indexOf(h.type)>-1)))),t.pipe((0,we.O)(void 0),xe(),(0,Xe.h)(([a,h])=>h.length>0||!a),(0,de.U)(([a,h])=>h),He.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Te.R)((t,a)=>[...t,...a],[]))}snapshotChanges(e){const t=cv(e);return Gg(this.query,t,this.afs.schedulers.outsideAngular).pipe(He.iC)}valueChanges(e={}){return uv(this.query,this.afs.schedulers.outsideAngular).pipe((0,de.U)(t=>t.payload.docs.map(a=>e.idField?Object.assign(Object.assign({},a.data()),{[e.idField]:a.id}):a.data())),He.iC)}get(e){return(0,Ue.D)(this.query.get(e)).pipe(He.iC)}add(e){return this.ref.add(e)}doc(e){return new dv(this.ref.doc(e),this.afs)}}class dv{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const a=this.ref.collection(e),{ref:h,query:m}=i_(a,t);return new n_(h,m,this.afs)}snapshotChanges(){return function Op(i,e){return Jv(i,e).pipe((0,we.O)(void 0),xe(),(0,de.U)(([t,a])=>a.exists?null!=t&&t.exists?{payload:a,type:"modified"}:{payload:a,type:"added"}:{payload:a,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(He.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,de.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Ue.D)(this.ref.get(e)).pipe(He.iC)}}class r_{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?If(this.query,this.afs.schedulers.outsideAngular).pipe((0,de.U)(t=>t.filter(a=>e.indexOf(a.type)>-1)),(0,Xe.h)(t=>t.length>0),He.iC):If(this.query,this.afs.schedulers.outsideAngular).pipe(He.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Te.R)((t,a)=>[...t,...a],[]))}snapshotChanges(e){const t=cv(e);return Gg(this.query,t,this.afs.schedulers.outsideAngular).pipe(He.iC)}valueChanges(e={}){return uv(this.query,this.afs.schedulers.outsideAngular).pipe((0,de.U)(a=>a.payload.docs.map(h=>e.idField?Object.assign({[e.idField]:h.id},h.data()):h.data())),He.iC)}get(e){return(0,Ue.D)(this.query.get(e)).pipe(He.iC)}}const hv=new c.OlP("angularfire2.enableFirestorePersistence"),fv=new c.OlP("angularfire2.firestore.persistenceSettings"),L_=new c.OlP("angularfire2.firestore.settings"),$_=new c.OlP("angularfire2.firestore.use-emulator");function i_(i,e=(t=>t)){return{query:e(i),ref:i}}let Pp=(()=>{class i{constructor(t,a,h,m,E,R,Y,se,Pe,ft,$t,an,In,dr,Mr,Ts,oo){this.schedulers=Y;const Yi=(0,vt.on)(t,R,a),Oo=Pe;ft&&(0,wf.nw)(Yi,R,$t,In,dr,Mr,an,Ts),[this.firestore,this.persistenceEnabled$]=(0,vt.cc)(`${Yi.name}.firestore`,"AngularFirestore",Yi.name,()=>{const ns=R.runOutsideAngular(()=>Yi.firestore());if(m&&ns.settings(m),Oo&&ns.useEmulator(...Oo),h&&!(0,lt.PM)(E)){const cs=()=>{try{return(0,Ue.D)(ns.enablePersistence(se||void 0).then(()=>!0,()=>!1))}catch(jo){return typeof console<"u"&&console.warn(jo),(0,Le.of)(!1)}};return[ns,R.runOutsideAngular(cs)]}return[ns,(0,Le.of)(!1)]},[m,Oo,h])}collection(t,a){let h;h="string"==typeof t?this.firestore.collection(t):t;const{ref:m,query:E}=i_(h,a),R=this.schedulers.ngZone.run(()=>m);return new n_(R,E,this)}collectionGroup(t,a){const h=a||(E=>E),m=this.firestore.collectionGroup(t);return new r_(h(m),this)}doc(t){let a;a="string"==typeof t?this.firestore.doc(t):t;const h=this.schedulers.ngZone.run(()=>a);return new dv(h,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(c.LFG(vt.Dh),c.LFG(vt.xv,8),c.LFG(hv,8),c.LFG(L_,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(He.HU),c.LFG(fv,8),c.LFG($_,8),c.LFG(wf.zQ,8),c.LFG(wf.Qv,8),c.LFG(wf.L6,8),c.LFG(wf._Q,8),c.LFG(wf.rT,8),c.LFG(wf.lh,8),c.LFG(wf.f7,8),c.LFG(Wr.nm,8))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),B_=(()=>{class i{constructor(){N_.Z.registerVersion("angularfire",He.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:i,providers:[{provide:hv,useValue:!0},{provide:fv,useValue:t}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({providers:[Pp]}),i})()},2011:(gn,_t,$)=>{"use strict";$.d(_t,{Dh:()=>Se,GT:()=>He,cc:()=>Xe,hO:()=>ze,on:()=>xe,pX:()=>Le,xv:()=>$e});var c=$(4650),ne=$(9260),W=$(2122);gn=$.hmd(gn);const Ue=["ngOnDestroy"],Le=(ye,Ce,wt,Ve={})=>new Proxy(ye,{get:(tt,Ke)=>wt.runOutsideAngular(()=>{var Ne;if(ye[Ke])return!(null===(Ne=null==Ve?void 0:Ve.spy)||void 0===Ne)&&Ne.get&&Ve.spy.get(Ke,ye[Ke]),ye[Ke];if(Ue.indexOf(Ke)>-1)return()=>{};const rt=Ce.toPromise().then(ie=>{const ut=ie&&ie[Ke];return"function"==typeof ut?ut.bind(ie):ut&&ut.then?ut.then(he=>wt.run(()=>he)):wt.run(()=>ut)});return new Proxy(()=>{},{get:(ie,ut)=>rt[ut],apply:(ie,ut,he)=>rt.then(B=>{var ke;const Oe=B&&B(...he);return!(null===(ke=null==Ve?void 0:Ve.spy)||void 0===ke)&&ke.apply&&Ve.spy.apply(Ke,he,Oe),Oe})})})}),He=(ye,Ce)=>{Ce.forEach(wt=>{Object.getOwnPropertyNames(wt.prototype||wt).forEach(Ve=>{Object.defineProperty(ye.prototype,Ve,Object.getOwnPropertyDescriptor(wt.prototype||wt,Ve))})})};class we{constructor(Ce){return Ce}}const Se=new c.OlP("angularfire2.app.options"),$e=new c.OlP("angularfire2.app.name");function xe(ye,Ce,wt){const tt="object"==typeof wt&&wt||{};tt.name=tt.name||"string"==typeof wt&&wt||"[DEFAULT]";const Ne=ne.Z.apps.filter(rt=>rt&&rt.name===tt.name)[0]||Ce.runOutsideAngular(()=>ne.Z.initializeApp(ye,tt));try{JSON.stringify(ye)!==JSON.stringify(Ne.options)&&de("error",`${Ne.name} Firebase App already initialized with different options${gn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(rt){}return new we(Ne)}const de=(ye,...Ce)=>{(0,c.X6Q)()&&typeof console<"u"&&console[ye](...Ce)},Te={provide:we,useFactory:xe,deps:[Se,c.R0b,[new c.FiY,$e]]};let ze=(()=>{class ye{constructor(wt){ne.Z.registerVersion("angularfire",W.q4.full,"core"),ne.Z.registerVersion("angularfire",W.q4.full,"app-compat"),ne.Z.registerVersion("angular",c.q4F.full,wt.toString())}static initializeApp(wt,Ve){return{ngModule:ye,providers:[{provide:Se,useValue:wt},{provide:$e,useValue:Ve}]}}}return ye.\u0275fac=function(wt){return new(wt||ye)(c.LFG(c.Lbi))},ye.\u0275mod=c.oAB({type:ye}),ye.\u0275inj=c.cJS({providers:[Te]}),ye})();function Xe(ye,Ce,wt,Ve,tt){const[,Ke,Ne]=globalThis.\u0275AngularfireInstanceCache.find(rt=>rt[0]===ye)||[];if(Ke)return function vt(ye,Ce){try{return ye.toString()===Ce.toString()}catch(wt){return ye===Ce}}(tt,Ne)||(at("error",`${Ce} was already initialized on the ${wt} Firebase App with different settings.${lt?" You may need to reload as Firebase is not HMR aware.":""}`),at("warn",{is:tt,was:Ne})),Ke;{const rt=Ve();return globalThis.\u0275AngularfireInstanceCache.push([ye,rt,tt]),rt}}const lt=!!gn.hot,at=(ye,...Ce)=>{(0,c.X6Q)()&&typeof console<"u"&&console[ye](...Ce)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(gn,_t,$)=>{"use strict";$.d(_t,{q4:()=>Kl,iC:()=>wo,fc:()=>Eo,HU:()=>Ur,vb:()=>kt,JM:()=>Qe});var c=$(4650),ne=$(259),W=$(5861),Ue=$(9681),Le=$(2090),He=$(4859),we=$(1877),Se=$(8766);const $e="@firebase/installations",Te="w:0.6.0",ze="FIS_v2",Ce=new Le.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function wt(H){return H instanceof Le.ZR&&H.code.includes("request-failed")}function Ve({projectId:H}){return`https://firebaseinstallations.googleapis.com/v1/projects/${H}/installations`}function tt(H){return{token:H.token,requestStatus:2,expiresIn:B(H.expiresIn),creationTime:Date.now()}}function Ke(H,q){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,W.Z)(function*(H,q){const st=(yield q.json()).error;return Ce.create("request-failed",{requestName:H,serverCode:st.code,serverMessage:st.message,serverStatus:st.status})})).apply(this,arguments)}function rt({apiKey:H}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":H})}function ie(H,{refreshToken:q}){const Ee=rt(H);return Ee.append("Authorization",function ke(H){return`${ze} ${H}`}(q)),Ee}function ut(H){return he.apply(this,arguments)}function he(){return(he=(0,W.Z)(function*(H){const q=yield H();return q.status>=500&&q.status<600?H():q})).apply(this,arguments)}function B(H){return Number(H.replace("s","000"))}function Oe(H,q){return et.apply(this,arguments)}function et(){return(et=(0,W.Z)(function*({appConfig:H,heartbeatServiceProvider:q},{fid:Ee}){const st=Ve(H),xt=rt(H),Ut=q.getImmediate({optional:!0});if(Ut){const _r=yield Ut.getHeartbeatsHeader();_r&&xt.append("x-firebase-client",_r)}const Jn={method:"POST",headers:xt,body:JSON.stringify({fid:Ee,authVersion:ze,appId:H.appId,sdkVersion:Te})},yr=yield ut(()=>fetch(st,Jn));if(yr.ok){const _r=yield yr.json();return{fid:_r.fid||Ee,registrationStatus:2,refreshToken:_r.refreshToken,authToken:tt(_r.authToken)}}throw yield Ke("Create Installation",yr)})).apply(this,arguments)}function Rt(H){return new Promise(q=>{setTimeout(q,H)})}const qe=/^[cdef][\w-]{21}$/;function K(){try{const H=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(H),H[0]=112+H[0]%16;const Ee=function le(H){return function qt(H){return btoa(String.fromCharCode(...H)).replace(/\+/g,"-").replace(/\//g,"_")}(H).substr(0,22)}(H);return qe.test(Ee)?Ee:""}catch(H){return""}}function ve(H){return`${H.appName}!${H.appId}`}const Me=new Map;function Be(H,q){const Ee=ve(H);Bt(Ee,q),function Ht(H,q){const Ee=function vn(){return!An&&"BroadcastChannel"in self&&(An=new BroadcastChannel("[Firebase] FID Change"),An.onmessage=H=>{Bt(H.data.key,H.data.fid)}),An}();Ee&&Ee.postMessage({key:H,fid:q}),function Pn(){0===Me.size&&An&&(An.close(),An=null)}()}(Ee,q)}function Bt(H,q){const Ee=Me.get(H);if(Ee)for(const st of Ee)st(q)}let An=null;const En="firebase-installations-store";let zn=null;function Or(){return zn||(zn=(0,Se.X3)("firebase-installations-database",1,{upgrade:(H,q)=>{0===q&&H.createObjectStore(En)}})),zn}function Yt(H,q){return wn.apply(this,arguments)}function wn(){return(wn=(0,W.Z)(function*(H,q){const Ee=ve(H),xt=(yield Or()).transaction(En,"readwrite"),Ut=xt.objectStore(En),dn=yield Ut.get(Ee);return yield Ut.put(q,Ee),yield xt.done,(!dn||dn.fid!==q.fid)&&Be(H,q.fid),q})).apply(this,arguments)}function fr(H){return ni.apply(this,arguments)}function ni(){return(ni=(0,W.Z)(function*(H){const q=ve(H),st=(yield Or()).transaction(En,"readwrite");yield st.objectStore(En).delete(q),yield st.done})).apply(this,arguments)}function wr(H,q){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,W.Z)(function*(H,q){const Ee=ve(H),xt=(yield Or()).transaction(En,"readwrite"),Ut=xt.objectStore(En),dn=yield Ut.get(Ee),Jn=q(dn);return void 0===Jn?yield Ut.delete(Ee):yield Ut.put(Jn,Ee),yield xt.done,Jn&&(!dn||dn.fid!==Jn.fid)&&Be(H,Jn.fid),Jn})).apply(this,arguments)}function ci(H){return rr.apply(this,arguments)}function rr(){return(rr=(0,W.Z)(function*(H){let q;const Ee=yield wr(H.appConfig,st=>{const xt=tr(st),Ut=Hn(H,xt);return q=Ut.registrationPromise,Ut.installationEntry});return""===Ee.fid?{installationEntry:yield q}:{installationEntry:Ee,registrationPromise:q}})).apply(this,arguments)}function tr(H){return qr(H||{fid:K(),registrationStatus:0})}function Hn(H,q){if(0===q.registrationStatus){if(!navigator.onLine)return{installationEntry:q,registrationPromise:Promise.reject(Ce.create("app-offline"))};const Ee={fid:q.fid,registrationStatus:1,registrationTime:Date.now()},st=function Zn(H,q){return Jr.apply(this,arguments)}(H,Ee);return{installationEntry:Ee,registrationPromise:st}}return 1===q.registrationStatus?{installationEntry:q,registrationPromise:Pr(H)}:{installationEntry:q}}function Jr(){return(Jr=(0,W.Z)(function*(H,q){try{const Ee=yield Oe(H,q);return Yt(H.appConfig,Ee)}catch(Ee){throw wt(Ee)&&409===Ee.customData.serverCode?yield fr(H.appConfig):yield Yt(H.appConfig,{fid:q.fid,registrationStatus:0}),Ee}})).apply(this,arguments)}function Pr(H){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,W.Z)(function*(H){let q=yield Gr(H.appConfig);for(;1===q.registrationStatus;)yield Rt(100),q=yield Gr(H.appConfig);if(0===q.registrationStatus){const{installationEntry:Ee,registrationPromise:st}=yield ci(H);return st||Ee}return q})).apply(this,arguments)}function Gr(H){return wr(H,q=>{if(!q)throw Ce.create("installation-not-found");return qr(q)})}function qr(H){return function vi(H){return 1===H.registrationStatus&&H.registrationTime+1e4<Date.now()}(H)?{fid:H.fid,registrationStatus:0}:H}function Ir(H,q){return oi.apply(this,arguments)}function oi(){return(oi=(0,W.Z)(function*({appConfig:H,heartbeatServiceProvider:q},Ee){const st=ar(H,Ee),xt=ie(H,Ee),Ut=q.getImmediate({optional:!0});if(Ut){const _r=yield Ut.getHeartbeatsHeader();_r&&xt.append("x-firebase-client",_r)}const Jn={method:"POST",headers:xt,body:JSON.stringify({installation:{sdkVersion:Te,appId:H.appId}})},yr=yield ut(()=>fetch(st,Jn));if(yr.ok)return tt(yield yr.json());throw yield Ke("Generate Auth Token",yr)})).apply(this,arguments)}function ar(H,{fid:q}){return`${Ve(H)}/${q}/authTokens:generate`}function er(H){return gr.apply(this,arguments)}function gr(){return(gr=(0,W.Z)(function*(H,q=!1){let Ee;const st=yield wr(H.appConfig,Ut=>{if(!hr(Ut))throw Ce.create("not-registered");const dn=Ut.authToken;if(!q&&ot(dn))return Ut;if(1===dn.requestStatus)return Ee=yn(H,q),Ut;{if(!navigator.onLine)throw Ce.create("app-offline");const Jn=ht(Ut);return Ee=nr(H,Jn),Jn}});return Ee?yield Ee:st.authToken})).apply(this,arguments)}function yn(H,q){return zt.apply(this,arguments)}function zt(){return(zt=(0,W.Z)(function*(H,q){let Ee=yield Sn(H.appConfig);for(;1===Ee.authToken.requestStatus;)yield Rt(100),Ee=yield Sn(H.appConfig);const st=Ee.authToken;return 0===st.requestStatus?er(H,q):st})).apply(this,arguments)}function Sn(H){return wr(H,q=>{if(!hr(q))throw Ce.create("not-registered");return function Pt(H){return 1===H.requestStatus&&H.requestTime+1e4<Date.now()}(q.authToken)?Object.assign(Object.assign({},q),{authToken:{requestStatus:0}}):q})}function nr(H,q){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,W.Z)(function*(H,q){try{const Ee=yield Ir(H,q),st=Object.assign(Object.assign({},q),{authToken:Ee});return yield Yt(H.appConfig,st),Ee}catch(Ee){if(!wt(Ee)||401!==Ee.customData.serverCode&&404!==Ee.customData.serverCode){const st=Object.assign(Object.assign({},q),{authToken:{requestStatus:0}});yield Yt(H.appConfig,st)}else yield fr(H.appConfig);throw Ee}})).apply(this,arguments)}function hr(H){return void 0!==H&&2===H.registrationStatus}function ot(H){return 2===H.requestStatus&&!function Ze(H){const q=Date.now();return q<H.creationTime||H.creationTime+H.expiresIn<q+36e5}(H)}function ht(H){const q={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},H),{authToken:q})}function Vn(){return(Vn=(0,W.Z)(function*(H){const q=H,{installationEntry:Ee,registrationPromise:st}=yield ci(q);return st?st.catch(console.error):er(q).catch(console.error),Ee.fid})).apply(this,arguments)}function br(){return(br=(0,W.Z)(function*(H,q=!1){const Ee=H;return yield ur(Ee),(yield er(Ee,q)).token})).apply(this,arguments)}function ur(H){return $r.apply(this,arguments)}function $r(){return($r=(0,W.Z)(function*(H){const{registrationPromise:q}=yield ci(H);q&&(yield q)})).apply(this,arguments)}function tn(H){return Ce.create("missing-app-config-values",{valueName:H})}const Cn="installations",Rn=H=>{const q=H.getProvider("app").getImmediate(),Ee=function en(H){if(!H||!H.options)throw tn("App Configuration");if(!H.name)throw tn("App Name");const q=["projectId","apiKey","appId"];for(const Ee of q)if(!H.options[Ee])throw tn(Ee);return{appName:H.name,projectId:H.options.projectId,apiKey:H.options.apiKey,appId:H.options.appId}}(q);return{app:q,appConfig:Ee,heartbeatServiceProvider:(0,Ue._getProvider)(q,"heartbeat"),_delete:()=>Promise.resolve()}},Dr=H=>{const q=H.getProvider("app").getImmediate(),Ee=(0,Ue._getProvider)(q,Cn).getImmediate();return{getId:()=>function Mt(H){return Vn.apply(this,arguments)}(Ee),getToken:xt=>function Qn(H){return br.apply(this,arguments)}(Ee,xt)}};(function Yr(){(0,Ue._registerComponent)(new He.wA(Cn,Rn,"PUBLIC")),(0,Ue._registerComponent)(new He.wA("installations-internal",Dr,"PRIVATE"))})(),(0,Ue.registerVersion)($e,"0.6.0"),(0,Ue.registerVersion)($e,"0.6.0","esm2017");const di="@firebase/remote-config",pr=new Le.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class sn{constructor(q,Ee,st,xt){this.client=q,this.storage=Ee,this.storageCache=st,this.logger=xt}isCachedDataFresh(q,Ee){if(!Ee)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const st=Date.now()-Ee,xt=st<=q;return this.logger.debug(`Config fetch cache check. Cache age millis: ${st}. Cache max age millis (minimumFetchIntervalMillis setting): ${q}. Is cache hit: ${xt}.`),xt}fetch(q){var Ee=this;return(0,W.Z)(function*(){const[st,xt]=yield Promise.all([Ee.storage.getLastSuccessfulFetchTimestampMillis(),Ee.storage.getLastSuccessfulFetchResponse()]);if(xt&&Ee.isCachedDataFresh(q.cacheMaxAgeMillis,st))return xt;q.eTag=xt&&xt.eTag;const Ut=yield Ee.client.fetch(q),dn=[Ee.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ut.status&&dn.push(Ee.storage.setLastSuccessfulFetchResponse(Ut)),yield Promise.all(dn),Ut})()}}function mn(H=navigator){return H.languages&&H.languages[0]||H.language}class vr{constructor(q,Ee,st,xt,Ut,dn){this.firebaseInstallations=q,this.sdkVersion=Ee,this.namespace=st,this.projectId=xt,this.apiKey=Ut,this.appId=dn}fetch(q){var Ee=this;return(0,W.Z)(function*(){const[st,xt]=yield Promise.all([Ee.firebaseInstallations.getId(),Ee.firebaseInstallations.getToken()]),dn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Ee.projectId}/namespaces/${Ee.namespace}:fetch?key=${Ee.apiKey}`,Jn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":q.eTag||"*"},yr={sdk_version:Ee.sdkVersion,app_instance_id:st,app_instance_id_token:xt,app_id:Ee.appId,language_code:mn()},_r={method:"POST",headers:Jn,body:JSON.stringify(yr)},pi=fetch(dn,_r),Nn=new Promise((ma,Oa)=>{q.signal.addEventListener(()=>{const Qa=new Error("The operation was aborted.");Qa.name="AbortError",Oa(Qa)})});let ii;try{yield Promise.race([pi,Nn]),ii=yield pi}catch(ma){let Oa="fetch-client-network";throw"AbortError"===(null==ma?void 0:ma.name)&&(Oa="fetch-timeout"),pr.create(Oa,{originalErrorMessage:null==ma?void 0:ma.message})}let _s=ii.status;const Ra=ii.headers.get("ETag")||void 0;let Za,Xa;if(200===ii.status){let ma;try{ma=yield ii.json()}catch(Oa){throw pr.create("fetch-client-parse",{originalErrorMessage:null==Oa?void 0:Oa.message})}Za=ma.entries,Xa=ma.state}if("INSTANCE_STATE_UNSPECIFIED"===Xa?_s=500:"NO_CHANGE"===Xa?_s=304:("NO_TEMPLATE"===Xa||"EMPTY_CONFIG"===Xa)&&(Za={}),304!==_s&&200!==_s)throw pr.create("fetch-status",{httpStatus:_s});return{status:_s,eTag:Ra,config:Za}})()}}class gt{constructor(q,Ee){this.client=q,this.storage=Ee}fetch(q){var Ee=this;return(0,W.Z)(function*(){const st=(yield Ee.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Ee.attemptFetch(q,st)})()}attemptFetch(q,{throttleEndTimeMillis:Ee,backoffCount:st}){var xt=this;return(0,W.Z)(function*(){yield function kn(H,q){return new Promise((Ee,st)=>{const xt=Math.max(q-Date.now(),0),Ut=setTimeout(Ee,xt);H.addEventListener(()=>{clearTimeout(Ut),st(pr.create("fetch-throttle",{throttleEndTimeMillis:q}))})})}(q.signal,Ee);try{const Ut=yield xt.client.fetch(q);return yield xt.storage.deleteThrottleMetadata(),Ut}catch(Ut){if(!function yt(H){if(!(H instanceof Le.ZR&&H.customData))return!1;const q=Number(H.customData.httpStatus);return 429===q||500===q||503===q||504===q}(Ut))throw Ut;const dn={throttleEndTimeMillis:Date.now()+(0,Le.$s)(st),backoffCount:st+1};return yield xt.storage.setThrottleMetadata(dn),xt.attemptFetch(q,dn)}})()}}class un{constructor(q,Ee,st,xt,Ut){this.app=q,this._client=Ee,this._storageCache=st,this._storage=xt,this._logger=Ut,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function sr(H,q){const Ee=H.target.error||void 0;return pr.create(q,{originalErrorMessage:Ee&&(null==Ee?void 0:Ee.message)})}const xn="app_namespace_store";class xr{constructor(q,Ee,st,xt=function ai(){return new Promise((H,q)=>{try{const Ee=indexedDB.open("firebase_remote_config",1);Ee.onerror=st=>{q(sr(st,"storage-open"))},Ee.onsuccess=st=>{H(st.target.result)},Ee.onupgradeneeded=st=>{0===st.oldVersion&&st.target.result.createObjectStore(xn,{keyPath:"compositeKey"})}}catch(Ee){q(pr.create("storage-open",{originalErrorMessage:null==Ee?void 0:Ee.message}))}})}()){this.appId=q,this.appName=Ee,this.namespace=st,this.openDbPromise=xt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(q){return this.set("last_fetch_status",q)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(q){return this.set("last_successful_fetch_timestamp_millis",q)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(q){return this.set("last_successful_fetch_response",q)}getActiveConfig(){return this.get("active_config")}setActiveConfig(q){return this.set("active_config",q)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(q){return this.set("active_config_etag",q)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(q){return this.set("throttle_metadata",q)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(q){var Ee=this;return(0,W.Z)(function*(){const st=yield Ee.openDbPromise;return new Promise((xt,Ut)=>{const Jn=st.transaction([xn],"readonly").objectStore(xn),yr=Ee.createCompositeKey(q);try{const _r=Jn.get(yr);_r.onerror=pi=>{Ut(sr(pi,"storage-get"))},_r.onsuccess=pi=>{const Nn=pi.target.result;xt(Nn?Nn.value:void 0)}}catch(_r){Ut(pr.create("storage-get",{originalErrorMessage:null==_r?void 0:_r.message}))}})})()}set(q,Ee){var st=this;return(0,W.Z)(function*(){const xt=yield st.openDbPromise;return new Promise((Ut,dn)=>{const yr=xt.transaction([xn],"readwrite").objectStore(xn),_r=st.createCompositeKey(q);try{const pi=yr.put({compositeKey:_r,value:Ee});pi.onerror=Nn=>{dn(sr(Nn,"storage-set"))},pi.onsuccess=()=>{Ut()}}catch(pi){dn(pr.create("storage-set",{originalErrorMessage:null==pi?void 0:pi.message}))}})})()}delete(q){var Ee=this;return(0,W.Z)(function*(){const st=yield Ee.openDbPromise;return new Promise((xt,Ut)=>{const Jn=st.transaction([xn],"readwrite").objectStore(xn),yr=Ee.createCompositeKey(q);try{const _r=Jn.delete(yr);_r.onerror=pi=>{Ut(sr(pi,"storage-delete"))},_r.onsuccess=()=>{xt()}}catch(_r){Ut(pr.create("storage-delete",{originalErrorMessage:null==_r?void 0:_r.message}))}})})()}createCompositeKey(q){return[this.appId,this.appName,this.namespace,q].join()}}class ki{constructor(q){this.storage=q}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var q=this;return(0,W.Z)(function*(){const Ee=q.storage.getLastFetchStatus(),st=q.storage.getLastSuccessfulFetchTimestampMillis(),xt=q.storage.getActiveConfig(),Ut=yield Ee;Ut&&(q.lastFetchStatus=Ut);const dn=yield st;dn&&(q.lastSuccessfulFetchTimestampMillis=dn);const Jn=yield xt;Jn&&(q.activeConfig=Jn)})()}setLastFetchStatus(q){return this.lastFetchStatus=q,this.storage.setLastFetchStatus(q)}setLastSuccessfulFetchTimestampMillis(q){return this.lastSuccessfulFetchTimestampMillis=q,this.storage.setLastSuccessfulFetchTimestampMillis(q)}setActiveConfig(q){return this.activeConfig=q,this.storage.setActiveConfig(q)}}function yi(){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,W.Z)(function*(){if(!(0,Le.hl)())return!1;try{return yield(0,Le.eu)()}catch(H){return!1}})).apply(this,arguments)}!function ws(){(0,Ue._registerComponent)(new He.wA("remote-config",function H(q,{instanceIdentifier:Ee}){const st=q.getProvider("app").getImmediate(),xt=q.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw pr.create("registration-window");if(!(0,Le.hl)())throw pr.create("indexed-db-unavailable");const{projectId:Ut,apiKey:dn,appId:Jn}=st.options;if(!Ut)throw pr.create("registration-project-id");if(!dn)throw pr.create("registration-api-key");if(!Jn)throw pr.create("registration-app-id");const yr=new xr(Jn,st.name,Ee=Ee||"firebase"),_r=new ki(yr),pi=new we.Yd(di);pi.logLevel=we.in.ERROR;const Nn=new vr(xt,Ue.SDK_VERSION,Ee,Ut,dn,Jn),ii=new gt(Nn,yr),_s=new sn(ii,yr,_r,pi),Ra=new un(st,_s,_r,yr,pi);return function J(H){const q=(0,Le.m9)(H);q._initializePromise||(q._initializePromise=q._storageCache.loadFromStorage().then(()=>{q._isInitializationComplete=!0}))}(Ra),Ra},"PUBLIC").setMultipleInstances(!0)),(0,Ue.registerVersion)(di,"0.4.0"),(0,Ue.registerVersion)(di,"0.4.0","esm2017")}();const Hi="/firebase-messaging-sw.js",Gi="/firebase-cloud-messaging-push-scope",Ss="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ho="google.c.a.c_id",Vs="google.c.a.c_l",Is="google.c.a.ts",Ws="google.c.a.e";var lo=(()=>{return(H=lo||(lo={})).PUSH_RECEIVED="push-received",H.NOTIFICATION_CLICKED="notification-clicked",lo;var H})();function zi(H){const q=new Uint8Array(H);return btoa(String.fromCharCode(...q)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function fo(H){const Ee=(H+"=".repeat((4-H.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),st=atob(Ee),xt=new Uint8Array(st.length);for(let Ut=0;Ut<st.length;++Ut)xt[Ut]=st.charCodeAt(Ut);return xt}const Po="fcm_token_details_db",Ri="fcm_token_object_Store";function Us(H){return Ks.apply(this,arguments)}function Ks(){return Ks=(0,W.Z)(function*(H){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ut=>Ut.name).includes(Po))return null;let q=null;return(yield(0,Se.X3)(Po,5,{upgrade:(st=(0,W.Z)(function*(xt,Ut,dn,Jn){var yr;if(Ut<2||!xt.objectStoreNames.contains(Ri))return;const _r=Jn.objectStore(Ri),pi=yield _r.index("fcmSenderId").get(H);if(yield _r.clear(),pi)if(2===Ut){const Nn=pi;if(!Nn.auth||!Nn.p256dh||!Nn.endpoint)return;q={token:Nn.fcmToken,createTime:null!==(yr=Nn.createTime)&&void 0!==yr?yr:Date.now(),subscriptionOptions:{auth:Nn.auth,p256dh:Nn.p256dh,endpoint:Nn.endpoint,swScope:Nn.swScope,vapidKey:"string"==typeof Nn.vapidKey?Nn.vapidKey:zi(Nn.vapidKey)}}}else if(3===Ut){const Nn=pi;q={token:Nn.fcmToken,createTime:Nn.createTime,subscriptionOptions:{auth:zi(Nn.auth),p256dh:zi(Nn.p256dh),endpoint:Nn.endpoint,swScope:Nn.swScope,vapidKey:zi(Nn.vapidKey)}}}else if(4===Ut){const Nn=pi;q={token:Nn.fcmToken,createTime:Nn.createTime,subscriptionOptions:{auth:zi(Nn.auth),p256dh:zi(Nn.p256dh),endpoint:Nn.endpoint,swScope:Nn.swScope,vapidKey:zi(Nn.vapidKey)}}}}),function(Ut,dn,Jn,yr){return st.apply(this,arguments)})})).close(),yield(0,Se.Lj)(Po),yield(0,Se.Lj)("fcm_vapid_details_db"),yield(0,Se.Lj)("undefined"),ds(q)?q:null;var st}),Ks.apply(this,arguments)}function ds(H){if(!H||!H.subscriptionOptions)return!1;const{subscriptionOptions:q}=H;return"number"==typeof H.createTime&&H.createTime>0&&"string"==typeof H.token&&H.token.length>0&&"string"==typeof q.auth&&q.auth.length>0&&"string"==typeof q.p256dh&&q.p256dh.length>0&&"string"==typeof q.endpoint&&q.endpoint.length>0&&"string"==typeof q.swScope&&q.swScope.length>0&&"string"==typeof q.vapidKey&&q.vapidKey.length>0}const Wi="firebase-messaging-store";let is=null;function Oi(){return is||(is=(0,Se.X3)("firebase-messaging-database",1,{upgrade:(H,q)=>{0===q&&H.createObjectStore(Wi)}})),is}function qs(H){return $i.apply(this,arguments)}function $i(){return($i=(0,W.Z)(function*(H){const q=po(H),st=yield(yield Oi()).transaction(Wi).objectStore(Wi).get(q);if(st)return st;{const xt=yield Us(H.appConfig.senderId);if(xt)return yield Ys(H,xt),xt}})).apply(this,arguments)}function Ys(H,q){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,W.Z)(function*(H,q){const Ee=po(H),xt=(yield Oi()).transaction(Wi,"readwrite");return yield xt.objectStore(Wi).put(q,Ee),yield xt.done,q})).apply(this,arguments)}function la(H){return ko.apply(this,arguments)}function ko(){return(ko=(0,W.Z)(function*(H){const q=po(H),st=(yield Oi()).transaction(Wi,"readwrite");yield st.objectStore(Wi).delete(q),yield st.done})).apply(this,arguments)}function po({appConfig:H}){return H.appId}const xi=new Le.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Xi(H,q){return go.apply(this,arguments)}function go(){return(go=(0,W.Z)(function*(H,q){const Ee=yield ua(H),st=js(q),xt={method:"POST",headers:Ee,body:JSON.stringify(st)};let Ut;try{Ut=yield(yield fetch(Ei(H.appConfig),xt)).json()}catch(dn){throw xi.create("token-subscribe-failed",{errorInfo:null==dn?void 0:dn.toString()})}if(Ut.error)throw xi.create("token-subscribe-failed",{errorInfo:Ut.error.message});if(!Ut.token)throw xi.create("token-subscribe-no-token");return Ut.token})).apply(this,arguments)}function hs(H,q){return Do.apply(this,arguments)}function Do(){return(Do=(0,W.Z)(function*(H,q){const Ee=yield ua(H),st=js(q.subscriptionOptions),xt={method:"PATCH",headers:Ee,body:JSON.stringify(st)};let Ut;try{Ut=yield(yield fetch(`${Ei(H.appConfig)}/${q.token}`,xt)).json()}catch(dn){throw xi.create("token-update-failed",{errorInfo:null==dn?void 0:dn.toString()})}if(Ut.error)throw xi.create("token-update-failed",{errorInfo:Ut.error.message});if(!Ut.token)throw xi.create("token-update-no-token");return Ut.token})).apply(this,arguments)}function bs(H,q){return al.apply(this,arguments)}function al(){return(al=(0,W.Z)(function*(H,q){const st={method:"DELETE",headers:yield ua(H)};try{const Ut=yield(yield fetch(`${Ei(H.appConfig)}/${q}`,st)).json();if(Ut.error)throw xi.create("token-unsubscribe-failed",{errorInfo:Ut.error.message})}catch(xt){throw xi.create("token-unsubscribe-failed",{errorInfo:null==xt?void 0:xt.toString()})}})).apply(this,arguments)}function Ei({projectId:H}){return`https://fcmregistrations.googleapis.com/v1/projects/${H}/registrations`}function ua(H){return _i.apply(this,arguments)}function _i(){return(_i=(0,W.Z)(function*({appConfig:H,installations:q}){const Ee=yield q.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":H.apiKey,"x-goog-firebase-installations-auth":`FIS ${Ee}`})})).apply(this,arguments)}function js({p256dh:H,auth:q,endpoint:Ee,vapidKey:st}){const xt={web:{endpoint:Ee,auth:q,p256dh:H}};return st!==Ss&&(xt.web.applicationPubKey=st),xt}const Qi=6048e5;function I(H){return X.apply(this,arguments)}function X(){return(X=(0,W.Z)(function*(H){const q=yield P(H.swRegistration,H.vapidKey),Ee={vapidKey:H.vapidKey,swScope:H.swRegistration.scope,endpoint:q.endpoint,auth:zi(q.getKey("auth")),p256dh:zi(q.getKey("p256dh"))},st=yield qs(H.firebaseDependencies);if(st){if(mt(st.subscriptionOptions,Ee))return Date.now()>=st.createTime+Qi?Re(H,{token:st.token,createTime:Date.now(),subscriptionOptions:Ee}):st.token;try{yield bs(H.firebaseDependencies,st.token)}catch(xt){console.warn(xt)}return j(H.firebaseDependencies,Ee)}return j(H.firebaseDependencies,Ee)})).apply(this,arguments)}function w(H){return G.apply(this,arguments)}function G(){return(G=(0,W.Z)(function*(H){const q=yield qs(H.firebaseDependencies);q&&(yield bs(H.firebaseDependencies,q.token),yield la(H.firebaseDependencies));const Ee=yield H.swRegistration.pushManager.getSubscription();return!Ee||Ee.unsubscribe()})).apply(this,arguments)}function Re(H,q){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,W.Z)(function*(H,q){try{const Ee=yield hs(H.firebaseDependencies,q),st=Object.assign(Object.assign({},q),{token:Ee,createTime:Date.now()});return yield Ys(H.firebaseDependencies,st),Ee}catch(Ee){throw yield w(H),Ee}})).apply(this,arguments)}function j(H,q){return F.apply(this,arguments)}function F(){return(F=(0,W.Z)(function*(H,q){const st={token:yield Xi(H,q),createTime:Date.now(),subscriptionOptions:q};return yield Ys(H,st),st.token})).apply(this,arguments)}function P(H,q){return oe.apply(this,arguments)}function oe(){return(oe=(0,W.Z)(function*(H,q){return(yield H.pushManager.getSubscription())||H.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:fo(q)})})).apply(this,arguments)}function mt(H,q){return q.vapidKey===H.vapidKey&&q.endpoint===H.endpoint&&q.auth===H.auth&&q.p256dh===H.p256dh}function nn(H){const q={from:H.from,collapseKey:H.collapse_key,messageId:H.fcmMessageId};return function Zr(H,q){if(!q.notification)return;H.notification={};const Ee=q.notification.title;Ee&&(H.notification.title=Ee);const st=q.notification.body;st&&(H.notification.body=st);const xt=q.notification.image;xt&&(H.notification.image=xt);const Ut=q.notification.icon;Ut&&(H.notification.icon=Ut)}(q,H),function Ji(H,q){!q.data||(H.data=q.data)}(q,H),function Xr(H,q){var Ee,st,xt,Ut,dn;if(!(q.fcmOptions||null!==(Ee=q.notification)&&void 0!==Ee&&Ee.click_action))return;H.fcmOptions={};const Jn=null!==(xt=null===(st=q.fcmOptions)||void 0===st?void 0:st.link)&&void 0!==xt?xt:null===(Ut=q.notification)||void 0===Ut?void 0:Ut.click_action;Jn&&(H.fcmOptions.link=Jn);const yr=null===(dn=q.fcmOptions)||void 0===dn?void 0:dn.analytics_label;yr&&(H.fcmOptions.analyticsLabel=yr)}(q,H),q}function Rs(H){return"object"==typeof H&&!!H&&ho in H}function Hs(H,q){const Ee=[];for(let st=0;st<H.length;st++)Ee.push(H.charAt(st)),st<q.length&&Ee.push(q.charAt(st));return Ee.join("")}function mo(H){return xi.create("missing-app-config-values",{valueName:H})}Hs("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Hs("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class on{constructor(q,Ee,st){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const xt=function Bl(H){if(!H||!H.options)throw mo("App Configuration Object");if(!H.name)throw mo("App Name");const q=["projectId","apiKey","appId","messagingSenderId"],{options:Ee}=H;for(const st of q)if(!Ee[st])throw mo(st);return{appName:H.name,projectId:Ee.projectId,apiKey:Ee.apiKey,appId:Ee.appId,senderId:Ee.messagingSenderId}}(q);this.firebaseDependencies={app:q,appConfig:xt,installations:Ee,analyticsProvider:st}}_delete(){return Promise.resolve()}}function li(H){return ba.apply(this,arguments)}function ba(){return(ba=(0,W.Z)(function*(H){try{H.swRegistration=yield navigator.serviceWorker.register(Hi,{scope:Gi}),H.swRegistration.update().catch(()=>{})}catch(q){throw xi.create("failed-service-worker-registration",{browserErrorMessage:null==q?void 0:q.message})}})).apply(this,arguments)}function ca(H,q){return fs.apply(this,arguments)}function fs(){return(fs=(0,W.Z)(function*(H,q){if(!q&&!H.swRegistration&&(yield li(H)),q||!H.swRegistration){if(!(q instanceof ServiceWorkerRegistration))throw xi.create("invalid-sw-registration");H.swRegistration=q}})).apply(this,arguments)}function yo(H,q){return vo.apply(this,arguments)}function vo(){return(vo=(0,W.Z)(function*(H,q){q?H.vapidKey=q:H.vapidKey||(H.vapidKey=Ss)})).apply(this,arguments)}function da(){return(da=(0,W.Z)(function*(H,q){if(!navigator)throw xi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw xi.create("permission-blocked");return yield yo(H,null==q?void 0:q.vapidKey),yield ca(H,null==q?void 0:q.serviceWorkerRegistration),I(H)})).apply(this,arguments)}function Ho(H,q,Ee){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,W.Z)(function*(H,q,Ee){const st=Go(q);(yield H.firebaseDependencies.analyticsProvider.get()).logEvent(st,{message_id:Ee[ho],message_name:Ee[Vs],message_time:Ee[Is],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Go(H){switch(H){case lo.NOTIFICATION_CLICKED:return"notification_open";case lo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function To(){return(To=(0,W.Z)(function*(H,q){const Ee=q.data;if(!Ee.isFirebaseMessaging)return;H.onMessageHandler&&Ee.messageType===lo.PUSH_RECEIVED&&("function"==typeof H.onMessageHandler?H.onMessageHandler(nn(Ee)):H.onMessageHandler.next(nn(Ee)));const st=Ee.data;Rs(st)&&"1"===st[Ws]&&(yield Ho(H,Ee.messageType,st))})).apply(this,arguments)}const es="@firebase/messaging",Da=H=>{const q=new on(H.getProvider("app").getImmediate(),H.getProvider("installations-internal").getImmediate(),H.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Ee=>function ll(H,q){return To.apply(this,arguments)}(q,Ee)),q},Os=H=>{const q=H.getProvider("messaging").getImmediate();return{getToken:st=>function Cs(H,q){return da.apply(this,arguments)}(q,st)}};function ul(){return Va.apply(this,arguments)}function Va(){return(Va=(0,W.Z)(function*(){try{yield(0,Le.eu)()}catch(H){return!1}return typeof window<"u"&&(0,Le.hl)()&&(0,Le.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function _o(){(0,Ue._registerComponent)(new He.wA("messaging",Da,"PUBLIC")),(0,Ue._registerComponent)(new He.wA("messaging-internal",Os,"PRIVATE")),(0,Ue.registerVersion)(es,"0.12.0"),(0,Ue.registerVersion)(es,"0.12.0","esm2017")}();const fa="analytics",cl="firebase_id",Gs="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ja="https://www.googletagmanager.com/gtag/js",os=new we.Yd("@firebase/analytics");function L(H){return Promise.all(H.map(q=>q.catch(Ee=>Ee)))}function ee(H,q){const Ee=document.createElement("script");Ee.src=`${ja}?l=${H}&id=${q}`,Ee.async=!0,document.head.appendChild(Ee)}function ce(H,q,Ee,st,xt,Ut){return nt.apply(this,arguments)}function nt(){return(nt=(0,W.Z)(function*(H,q,Ee,st,xt,Ut){const dn=st[xt];try{if(dn)yield q[dn];else{const yr=(yield L(Ee)).find(_r=>_r.measurementId===xt);yr&&(yield q[yr.appId])}}catch(Jn){os.error(Jn)}H("config",xt,Ut)})).apply(this,arguments)}function Gt(H,q,Ee,st,xt){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,W.Z)(function*(H,q,Ee,st,xt){try{let Ut=[];if(xt&&xt.send_to){let dn=xt.send_to;Array.isArray(dn)||(dn=[dn]);const Jn=yield L(Ee);for(const yr of dn){const _r=Jn.find(Nn=>Nn.measurementId===yr),pi=_r&&q[_r.appId];if(!pi){Ut=[];break}Ut.push(pi)}}0===Ut.length&&(Ut=Object.values(q)),yield Promise.all(Ut),H("event",st,xt||{})}catch(Ut){os.error(Ut)}})).apply(this,arguments)}function ui(H){const q=window.document.getElementsByTagName("script");for(const Ee of Object.values(q))if(Ee.src&&Ee.src.includes(ja)&&Ee.src.includes(H))return Ee;return null}const or=new Le.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),cn=new class Pi{constructor(q={},Ee=1e3){this.throttleMetadata=q,this.intervalMillis=Ee}getThrottleMetadata(q){return this.throttleMetadata[q]}setThrottleMetadata(q,Ee){this.throttleMetadata[q]=Ee}deleteThrottleMetadata(q){delete this.throttleMetadata[q]}};function jr(H){return new Headers({Accept:"application/json","x-goog-api-key":H})}function qi(H){return as.apply(this,arguments)}function as(){return(as=(0,W.Z)(function*(H){var q;const{appId:Ee,apiKey:st}=H,xt={method:"GET",headers:jr(st)},Ut=Gs.replace("{app-id}",Ee),dn=yield fetch(Ut,xt);if(200!==dn.status&&304!==dn.status){let Jn="";try{const yr=yield dn.json();null!==(q=yr.error)&&void 0!==q&&q.message&&(Jn=yr.error.message)}catch(yr){}throw or.create("config-fetch-failed",{httpStatus:dn.status,responseMessage:Jn})}return dn.json()})).apply(this,arguments)}function Tn(H){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,W.Z)(function*(H,q=cn,Ee){const{appId:st,apiKey:xt,measurementId:Ut}=H.options;if(!st)throw or.create("no-app-id");if(!xt){if(Ut)return{measurementId:Ut,appId:st};throw or.create("no-api-key")}const dn=q.getThrottleMetadata(st)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Jn=new ys;return setTimeout((0,W.Z)(function*(){Jn.abort()}),void 0!==Ee?Ee:6e4),Wo({appId:st,apiKey:xt,measurementId:Ut},dn,Jn,q)})).apply(this,arguments)}function Wo(H,q,Ee){return jn.apply(this,arguments)}function jn(){return(jn=(0,W.Z)(function*(H,{throttleEndTimeMillis:q,backoffCount:Ee},st,xt=cn){var Ut;const{appId:dn,measurementId:Jn}=H;try{yield Wt(st,q)}catch(yr){if(Jn)return os.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Jn} provided in the "measurementId" field in the local Firebase config. [${null==yr?void 0:yr.message}]`),{appId:dn,measurementId:Jn};throw yr}try{const yr=yield qi(H);return xt.deleteThrottleMetadata(dn),yr}catch(yr){const _r=yr;if(!fn(_r)){if(xt.deleteThrottleMetadata(dn),Jn)return os.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Jn} provided in the "measurementId" field in the local Firebase config. [${null==_r?void 0:_r.message}]`),{appId:dn,measurementId:Jn};throw yr}const pi=503===Number(null===(Ut=null==_r?void 0:_r.customData)||void 0===Ut?void 0:Ut.httpStatus)?(0,Le.$s)(Ee,xt.intervalMillis,30):(0,Le.$s)(Ee,xt.intervalMillis),Nn={throttleEndTimeMillis:Date.now()+pi,backoffCount:Ee+1};return xt.setThrottleMetadata(dn,Nn),os.debug(`Calling attemptFetch again in ${pi} millis`),Wo(H,Nn,st,xt)}})).apply(this,arguments)}function Wt(H,q){return new Promise((Ee,st)=>{const xt=Math.max(q-Date.now(),0),Ut=setTimeout(Ee,xt);H.addEventListener(()=>{clearTimeout(Ut),st(or.create("fetch-throttle",{throttleEndTimeMillis:q}))})})}function fn(H){if(!(H instanceof Le.ZR&&H.customData))return!1;const q=Number(H.customData.httpStatus);return 429===q||500===q||503===q||504===q}class ys{constructor(){this.listeners=[]}addEventListener(q){this.listeners.push(q)}abort(){this.listeners.forEach(q=>q())}}let dl,Br;function No(){return(No=(0,W.Z)(function*(H,q,Ee,st,xt){if(xt&&xt.global)H("event",Ee,st);else{const Ut=yield q;H("event",Ee,Object.assign(Object.assign({},st),{send_to:Ut}))}})).apply(this,arguments)}function Fo(H){Br=H}function Al(H){dl=H}function Bi(){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,W.Z)(function*(){if(!(0,Le.hl)())return os.warn(or.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Le.eu)()}catch(H){return os.warn(or.create("indexeddb-unavailable",{errorInfo:null==H?void 0:H.toString()}).message),!1}return!0})).apply(this,arguments)}function ei(){return(ei=(0,W.Z)(function*(H,q,Ee,st,xt,Ut,dn){var Jn;const yr=Tn(H);yr.then(_s=>{Ee[_s.measurementId]=_s.appId,H.options.measurementId&&_s.measurementId!==H.options.measurementId&&os.warn(`The measurement ID in the local Firebase config (${H.options.measurementId}) does not match the measurement ID fetched from the server (${_s.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_s=>os.error(_s)),q.push(yr);const _r=Bi().then(_s=>{if(_s)return st.getId()}),[pi,Nn]=yield Promise.all([yr,_r]);ui(Ut)||ee(Ut,pi.measurementId),Br&&(xt("consent","default",Br),Fo(void 0)),xt("js",new Date);const ii=null!==(Jn=null==dn?void 0:dn.config)&&void 0!==Jn?Jn:{};return ii.origin="firebase",ii.update=!0,null!=Nn&&(ii[cl]=Nn),xt("config",pi.measurementId,ii),dl&&(xt("set",dl),Al(void 0)),pi.measurementId})).apply(this,arguments)}class pl{constructor(q){this.app=q}_delete(){return delete Di[this.app.options.appId],Promise.resolve()}}let Di={},$n=[];const Ga={};let Vu,uo,za="dataLayer",Wa=!1;function Yo(H,q,Ee){!function jl(){const H=[];if((0,Le.ru)()&&H.push("This is a browser extension environment."),(0,Le.zI)()||H.push("Cookies are not available."),H.length>0){const q=H.map((st,xt)=>`(${xt+1}) ${st}`).join(" "),Ee=or.create("invalid-analytics-context",{errorInfo:q});os.warn(Ee.message)}}();const st=H.options.appId;if(!st)throw or.create("no-app-id");if(!H.options.apiKey){if(!H.options.measurementId)throw or.create("no-api-key");os.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${H.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Di[st])throw or.create("already-exists",{id:st});if(!Wa){!function U(H){let q=[];Array.isArray(window[H])?q=window[H]:window[H]=q}(za);const{wrappedGtag:Ut,gtagCore:dn}=function fi(H,q,Ee,st,xt){let Ut=function(...dn){window[st].push(arguments)};return window[xt]&&"function"==typeof window[xt]&&(Ut=window[xt]),window[xt]=function qn(H,q,Ee,st){function Ut(){return(Ut=(0,W.Z)(function*(dn,Jn,yr){try{"event"===dn?yield Gt(H,q,Ee,Jn,yr):"config"===dn?yield ce(H,q,Ee,st,Jn,yr):"consent"===dn?H("consent","update",yr):H("set",Jn)}catch(_r){os.error(_r)}})).apply(this,arguments)}return function xt(dn,Jn,yr){return Ut.apply(this,arguments)}}(Ut,H,q,Ee),{gtagCore:Ut,wrappedGtag:window[xt]}}(Di,$n,Ga,za,"gtag");uo=Ut,Vu=dn,Wa=!0}return Di[st]=function pa(H,q,Ee,st,xt,Ut,dn){return ei.apply(this,arguments)}(H,$n,Ga,q,Vu,za,Ee),new pl(H)}function Uu(){return xa.apply(this,arguments)}function xa(){return(xa=(0,W.Z)(function*(){if((0,Le.ru)()||!(0,Le.zI)()||!(0,Le.hl)())return!1;try{return yield(0,Le.eu)()}catch(H){return!1}})).apply(this,arguments)}const co="@firebase/analytics";!function ml(){(0,Ue._registerComponent)(new He.wA(fa,(q,{options:Ee})=>Yo(q.getProvider("app").getImmediate(),q.getProvider("installations-internal").getImmediate(),Ee),"PUBLIC")),(0,Ue._registerComponent)(new He.wA("analytics-internal",function H(q){try{const Ee=q.getProvider(fa).getImmediate();return{logEvent:(st,xt,Ut)=>function ju(H,q,Ee,st){H=(0,Le.m9)(H),function $u(H,q,Ee,st,xt){return No.apply(this,arguments)}(uo,Di[H.app.options.appId],q,Ee,st).catch(xt=>os.error(xt))}(Ee,st,xt,Ut)}}catch(Ee){throw or.create("interop-component-reg-failed",{reason:Ee})}},"PRIVATE")),(0,Ue.registerVersion)(co,"0.9.0"),(0,Ue.registerVersion)(co,"0.9.0","esm2017")}();var Qo=$(4408),Hu=$(7565);const zr=new class Gl extends Hu.v{}(class qa extends Qo.o{constructor(q,Ee){super(q,Ee),this.scheduler=q,this.work=Ee}schedule(q,Ee=0){return Ee>0?super.schedule(q,Ee):(this.delay=Ee,this.state=q,this.scheduler.flush(this),this)}execute(q,Ee){return Ee>0||this.closed?super.execute(q,Ee):this._execute(q,Ee)}requestAsyncId(q,Ee,st=0){return null!=st&&st>0||null==st&&this.delay>0?super.requestAsyncId(q,Ee,st):(q.flush(this),0)}});var Ma=$(4986),zl=$(8505),So=$(5363),Wl=$(9468);const Kl=new c.GfV("7.5.0"),yl="__angularfire_symbol__analyticsIsSupportedValue",Ya="__angularfire_symbol__analyticsIsSupported",pu="__angularfire_symbol__remoteConfigIsSupportedValue",S="__angularfire_symbol__remoteConfigIsSupported",A="__angularfire_symbol__messagingIsSupportedValue",T="__angularfire_symbol__messagingIsSupported";function Qe(H,q,Ee){if(q){if(1===q.length)return q[0];const Ut=q.filter(dn=>dn.app===Ee);if(1===Ut.length)return Ut[0]}return Ee.container.getProvider(H).getImmediate({optional:!0})}globalThis[Ya]||(globalThis[Ya]=Uu().then(H=>globalThis[yl]=H).catch(()=>globalThis[yl]=!1)),globalThis[T]||(globalThis[T]=ul().then(H=>globalThis[A]=H).catch(()=>globalThis[A]=!1)),globalThis[S]||(globalThis[S]=yi().then(H=>globalThis[pu]=H).catch(()=>globalThis[pu]=!1));const kt=(H,q)=>{const Ee=q?[q]:(0,ne.C6)(),st=[];return Ee.forEach(xt=>{xt.container.getProvider(H).instances.forEach(dn=>{st.includes(dn)||st.push(dn)})}),st};function pn(){}class Wn{constructor(q,Ee=zr){this.zone=q,this.delegate=Ee}now(){return this.delegate.now()}schedule(q,Ee,st){const xt=this.zone;return this.delegate.schedule(function(dn){xt.runGuarded(()=>{q.apply(this,[dn])})},Ee,st)}}class Mn{constructor(q){this.zone=q,this.task=null}call(q,Ee){const st=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",pn,{},pn,pn)),Ee.pipe((0,zl.b)({next:st,complete:st,error:st})).subscribe(q).add(st)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ur=(()=>{class H{constructor(Ee){this.ngZone=Ee,this.outsideAngular=Ee.runOutsideAngular(()=>new Wn(Zone.current)),this.insideAngular=Ee.run(()=>new Wn(Zone.current,Ma.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return H.\u0275fac=function(Ee){return new(Ee||H)(c.LFG(c.R0b))},H.\u0275prov=c.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"}),H})();function Qr(){const H=globalThis.\u0275AngularFireScheduler;if(!H)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return H}function Eo(H){return H.pipe((0,So.Q)(Qr().outsideAngular))}function wo(H){return Qr(),function Lo(H){return function(Ee){return(Ee=Ee.lift(new Mn(H.ngZone))).pipe((0,Wl.R)(H.outsideAngular),(0,So.Q)(H.insideAngular))}}(Qr())(H)}},2090:(gn,_t,$)=>{"use strict";$.d(_t,{$s:()=>Sn,BH:()=>be,DV:()=>En,Dv:()=>Pr,G6:()=>Ke,GJ:()=>Fn,L:()=>Se,LL:()=>Me,Pz:()=>qe,Sg:()=>K,UG:()=>vt,UI:()=>Or,US:()=>He,Wj:()=>qr,Wl:()=>Bt,Yr:()=>tt,ZB:()=>de,ZR:()=>ve,aH:()=>qt,b$:()=>ye,cI:()=>Ot,dS:()=>Ir,eu:()=>rt,g5:()=>W,gK:()=>Sr,gQ:()=>ci,h$:()=>we,hl:()=>Ne,hu:()=>ne,jU:()=>lt,lb:()=>vi,m9:()=>hr,ne:()=>rr,p$:()=>xe,pd:()=>Kr,r3:()=>rn,ru:()=>at,tV:()=>$e,uI:()=>Xe,ug:()=>oi,vZ:()=>Yt,w1:()=>wt,w9:()=>Pn,xO:()=>ni,xb:()=>zn,z$:()=>ze,zI:()=>ie,zd:()=>wr});const ne=function(ot,Ze){if(!ot)throw W(Ze)},W=function(ot){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+ot)},Ue=function(ot){const Ze=[];let ht=0;for(let Pt=0;Pt<ot.length;Pt++){let Mt=ot.charCodeAt(Pt);Mt<128?Ze[ht++]=Mt:Mt<2048?(Ze[ht++]=Mt>>6|192,Ze[ht++]=63&Mt|128):55296==(64512&Mt)&&Pt+1<ot.length&&56320==(64512&ot.charCodeAt(Pt+1))?(Mt=65536+((1023&Mt)<<10)+(1023&ot.charCodeAt(++Pt)),Ze[ht++]=Mt>>18|240,Ze[ht++]=Mt>>12&63|128,Ze[ht++]=Mt>>6&63|128,Ze[ht++]=63&Mt|128):(Ze[ht++]=Mt>>12|224,Ze[ht++]=Mt>>6&63|128,Ze[ht++]=63&Mt|128)}return Ze},He={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ot,Ze){if(!Array.isArray(ot))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ht=Ze?this.byteToCharMapWebSafe_:this.byteToCharMap_,Pt=[];for(let Mt=0;Mt<ot.length;Mt+=3){const Vn=ot[Mt],Qn=Mt+1<ot.length,br=Qn?ot[Mt+1]:0,ur=Mt+2<ot.length,$r=ur?ot[Mt+2]:0;let Z=(15&br)<<2|$r>>6,pe=63&$r;ur||(pe=64,Qn||(Z=64)),Pt.push(ht[Vn>>2],ht[(3&Vn)<<4|br>>4],ht[Z],ht[pe])}return Pt.join("")},encodeString(ot,Ze){return this.HAS_NATIVE_SUPPORT&&!Ze?btoa(ot):this.encodeByteArray(Ue(ot),Ze)},decodeString(ot,Ze){return this.HAS_NATIVE_SUPPORT&&!Ze?atob(ot):function(ot){const Ze=[];let ht=0,Pt=0;for(;ht<ot.length;){const Mt=ot[ht++];if(Mt<128)Ze[Pt++]=String.fromCharCode(Mt);else if(Mt>191&&Mt<224){const Vn=ot[ht++];Ze[Pt++]=String.fromCharCode((31&Mt)<<6|63&Vn)}else if(Mt>239&&Mt<365){const ur=((7&Mt)<<18|(63&ot[ht++])<<12|(63&ot[ht++])<<6|63&ot[ht++])-65536;Ze[Pt++]=String.fromCharCode(55296+(ur>>10)),Ze[Pt++]=String.fromCharCode(56320+(1023&ur))}else{const Vn=ot[ht++],Qn=ot[ht++];Ze[Pt++]=String.fromCharCode((15&Mt)<<12|(63&Vn)<<6|63&Qn)}}return Ze.join("")}(this.decodeStringToByteArray(ot,Ze))},decodeStringToByteArray(ot,Ze){this.init_();const ht=Ze?this.charToByteMapWebSafe_:this.charToByteMap_,Pt=[];for(let Mt=0;Mt<ot.length;){const Vn=ht[ot.charAt(Mt++)],br=Mt<ot.length?ht[ot.charAt(Mt)]:0;++Mt;const $r=Mt<ot.length?ht[ot.charAt(Mt)]:64;++Mt;const it=Mt<ot.length?ht[ot.charAt(Mt)]:64;if(++Mt,null==Vn||null==br||null==$r||null==it)throw Error();Pt.push(Vn<<2|br>>4),64!==$r&&(Pt.push(br<<4&240|$r>>2),64!==it&&Pt.push($r<<6&192|it))}return Pt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ot=0;ot<this.ENCODED_VALS.length;ot++)this.byteToCharMap_[ot]=this.ENCODED_VALS.charAt(ot),this.charToByteMap_[this.byteToCharMap_[ot]]=ot,this.byteToCharMapWebSafe_[ot]=this.ENCODED_VALS_WEBSAFE.charAt(ot),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ot]]=ot,ot>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ot)]=ot,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ot)]=ot)}}},we=function(ot){const Ze=Ue(ot);return He.encodeByteArray(Ze,!0)},Se=function(ot){return we(ot).replace(/\./g,"")},$e=function(ot){try{return He.decodeString(ot,!0)}catch(Ze){console.error("base64Decode failed: ",Ze)}return null};function xe(ot){return de(void 0,ot)}function de(ot,Ze){if(!(Ze instanceof Object))return Ze;switch(Ze.constructor){case Date:return new Date(Ze.getTime());case Object:void 0===ot&&(ot={});break;case Array:ot=[];break;default:return Ze}for(const ht in Ze)!Ze.hasOwnProperty(ht)||!Te(ht)||(ot[ht]=de(ot[ht],Ze[ht]));return ot}function Te(ot){return"__proto__"!==ot}function ze(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Xe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ze())}function vt(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(ot){return!1}}function lt(){return"object"==typeof self&&self.self===self}function at(){const ot="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ot&&void 0!==ot.id}function ye(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function wt(){const ot=ze();return ot.indexOf("MSIE ")>=0||ot.indexOf("Trident/")>=0}function tt(){return!1}function Ke(){return!vt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ne(){try{return"object"==typeof indexedDB}catch(ot){return!1}}function rt(){return new Promise((ot,Ze)=>{try{let ht=!0;const Pt="validate-browser-context-for-indexeddb-analytics-module",Mt=self.indexedDB.open(Pt);Mt.onsuccess=()=>{Mt.result.close(),ht||self.indexedDB.deleteDatabase(Pt),ot(!0)},Mt.onupgradeneeded=()=>{ht=!1},Mt.onerror=()=>{var Vn;Ze((null===(Vn=Mt.error)||void 0===Vn?void 0:Vn.message)||"")}}catch(ht){Ze(ht)}})}function ie(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Oe=()=>{try{return function ut(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ot=process.env.__FIREBASE_DEFAULTS__;return ot?JSON.parse(ot):void 0})()||(()=>{if(typeof document>"u")return;let ot;try{ot=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(ht){return}const Ze=ot&&$e(ot[1]);return Ze&&JSON.parse(Ze)})()}catch(ot){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ot}`)}},qt=()=>{var ot;return null===(ot=Oe())||void 0===ot?void 0:ot.config},qe=ot=>{var Ze;return null===(Ze=Oe())||void 0===Ze?void 0:Ze[`_${ot}`]};class be{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ze,ht)=>{this.resolve=Ze,this.reject=ht})}wrapCallback(Ze){return(ht,Pt)=>{ht?this.reject(ht):this.resolve(Pt),"function"==typeof Ze&&(this.promise.catch(()=>{}),1===Ze.length?Ze(ht):Ze(ht,Pt))}}}function K(ot,Ze){if(ot.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Pt=Ze||"demo-project",Mt=ot.iat||0,Vn=ot.sub||ot.user_id;if(!Vn)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Qn=Object.assign({iss:`https://securetoken.google.com/${Pt}`,aud:Pt,iat:Mt,exp:Mt+3600,auth_time:Mt,sub:Vn,user_id:Vn,firebase:{sign_in_provider:"custom",identities:{}}},ot);return[Se(JSON.stringify({alg:"none",type:"JWT"})),Se(JSON.stringify(Qn)),""].join(".")}class ve extends Error{constructor(Ze,ht,Pt){super(ht),this.code=Ze,this.customData=Pt,this.name="FirebaseError",Object.setPrototypeOf(this,ve.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Me.prototype.create)}}class Me{constructor(Ze,ht,Pt){this.service=Ze,this.serviceName=ht,this.errors=Pt}create(Ze,...ht){const Pt=ht[0]||{},Mt=`${this.service}/${Ze}`,Vn=this.errors[Ze],Qn=Vn?function Be(ot,Ze){return ot.replace(At,(ht,Pt)=>{const Mt=Ze[Pt];return null!=Mt?String(Mt):`<${Pt}?>`})}(Vn,Pt):"Error";return new ve(Mt,`${this.serviceName}: ${Qn} (${Mt}).`,Pt)}}const At=/\{\$([^}]+)}/g;function Ot(ot){return JSON.parse(ot)}function Bt(ot){return JSON.stringify(ot)}const Ht=function(ot){let Ze={},ht={},Pt={},Mt="";try{const Vn=ot.split(".");Ze=Ot($e(Vn[0])||""),ht=Ot($e(Vn[1])||""),Mt=Vn[2],Pt=ht.d||{},delete ht.d}catch(Vn){}return{header:Ze,claims:ht,data:Pt,signature:Mt}},Pn=function(ot){const ht=Ht(ot).claims;return!!ht&&"object"==typeof ht&&ht.hasOwnProperty("iat")},Fn=function(ot){const Ze=Ht(ot).claims;return"object"==typeof Ze&&!0===Ze.admin};function rn(ot,Ze){return Object.prototype.hasOwnProperty.call(ot,Ze)}function En(ot,Ze){if(Object.prototype.hasOwnProperty.call(ot,Ze))return ot[Ze]}function zn(ot){for(const Ze in ot)if(Object.prototype.hasOwnProperty.call(ot,Ze))return!1;return!0}function Or(ot,Ze,ht){const Pt={};for(const Mt in ot)Object.prototype.hasOwnProperty.call(ot,Mt)&&(Pt[Mt]=Ze.call(ht,ot[Mt],Mt,ot));return Pt}function Yt(ot,Ze){if(ot===Ze)return!0;const ht=Object.keys(ot),Pt=Object.keys(Ze);for(const Mt of ht){if(!Pt.includes(Mt))return!1;const Vn=ot[Mt],Qn=Ze[Mt];if(wn(Vn)&&wn(Qn)){if(!Yt(Vn,Qn))return!1}else if(Vn!==Qn)return!1}for(const Mt of Pt)if(!ht.includes(Mt))return!1;return!0}function wn(ot){return null!==ot&&"object"==typeof ot}function ni(ot){const Ze=[];for(const[ht,Pt]of Object.entries(ot))Array.isArray(Pt)?Pt.forEach(Mt=>{Ze.push(encodeURIComponent(ht)+"="+encodeURIComponent(Mt))}):Ze.push(encodeURIComponent(ht)+"="+encodeURIComponent(Pt));return Ze.length?"&"+Ze.join("&"):""}function wr(ot){const Ze={};return ot.replace(/^\?/,"").split("&").forEach(Pt=>{if(Pt){const[Mt,Vn]=Pt.split("=");Ze[decodeURIComponent(Mt)]=decodeURIComponent(Vn)}}),Ze}function Kr(ot){const Ze=ot.indexOf("?");if(!Ze)return"";const ht=ot.indexOf("#",Ze);return ot.substring(Ze,ht>0?ht:void 0)}class ci{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Ze=1;Ze<this.blockSize;++Ze)this.pad_[Ze]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Ze,ht){ht||(ht=0);const Pt=this.W_;if("string"==typeof Ze)for(let it=0;it<16;it++)Pt[it]=Ze.charCodeAt(ht)<<24|Ze.charCodeAt(ht+1)<<16|Ze.charCodeAt(ht+2)<<8|Ze.charCodeAt(ht+3),ht+=4;else for(let it=0;it<16;it++)Pt[it]=Ze[ht]<<24|Ze[ht+1]<<16|Ze[ht+2]<<8|Ze[ht+3],ht+=4;for(let it=16;it<80;it++){const Z=Pt[it-3]^Pt[it-8]^Pt[it-14]^Pt[it-16];Pt[it]=4294967295&(Z<<1|Z>>>31)}let $r,Tt,Mt=this.chain_[0],Vn=this.chain_[1],Qn=this.chain_[2],br=this.chain_[3],ur=this.chain_[4];for(let it=0;it<80;it++){it<40?it<20?($r=br^Vn&(Qn^br),Tt=1518500249):($r=Vn^Qn^br,Tt=1859775393):it<60?($r=Vn&Qn|br&(Vn|Qn),Tt=2400959708):($r=Vn^Qn^br,Tt=3395469782);const Z=(Mt<<5|Mt>>>27)+$r+ur+Tt+Pt[it]&4294967295;ur=br,br=Qn,Qn=4294967295&(Vn<<30|Vn>>>2),Vn=Mt,Mt=Z}this.chain_[0]=this.chain_[0]+Mt&4294967295,this.chain_[1]=this.chain_[1]+Vn&4294967295,this.chain_[2]=this.chain_[2]+Qn&4294967295,this.chain_[3]=this.chain_[3]+br&4294967295,this.chain_[4]=this.chain_[4]+ur&4294967295}update(Ze,ht){if(null==Ze)return;void 0===ht&&(ht=Ze.length);const Pt=ht-this.blockSize;let Mt=0;const Vn=this.buf_;let Qn=this.inbuf_;for(;Mt<ht;){if(0===Qn)for(;Mt<=Pt;)this.compress_(Ze,Mt),Mt+=this.blockSize;if("string"==typeof Ze){for(;Mt<ht;)if(Vn[Qn]=Ze.charCodeAt(Mt),++Qn,++Mt,Qn===this.blockSize){this.compress_(Vn),Qn=0;break}}else for(;Mt<ht;)if(Vn[Qn]=Ze[Mt],++Qn,++Mt,Qn===this.blockSize){this.compress_(Vn),Qn=0;break}}this.inbuf_=Qn,this.total_+=ht}digest(){const Ze=[];let ht=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Mt=this.blockSize-1;Mt>=56;Mt--)this.buf_[Mt]=255&ht,ht/=256;this.compress_(this.buf_);let Pt=0;for(let Mt=0;Mt<5;Mt++)for(let Vn=24;Vn>=0;Vn-=8)Ze[Pt]=this.chain_[Mt]>>Vn&255,++Pt;return Ze}}function rr(ot,Ze){const ht=new tr(ot,Ze);return ht.subscribe.bind(ht)}class tr{constructor(Ze,ht){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ht,this.task.then(()=>{Ze(this)}).catch(Pt=>{this.error(Pt)})}next(Ze){this.forEachObserver(ht=>{ht.next(Ze)})}error(Ze){this.forEachObserver(ht=>{ht.error(Ze)}),this.close(Ze)}complete(){this.forEachObserver(Ze=>{Ze.complete()}),this.close()}subscribe(Ze,ht,Pt){let Mt;if(void 0===Ze&&void 0===ht&&void 0===Pt)throw new Error("Missing Observer.");Mt=function Zn(ot,Ze){if("object"!=typeof ot||null===ot)return!1;for(const ht of Ze)if(ht in ot&&"function"==typeof ot[ht])return!0;return!1}(Ze,["next","error","complete"])?Ze:{next:Ze,error:ht,complete:Pt},void 0===Mt.next&&(Mt.next=Jr),void 0===Mt.error&&(Mt.error=Jr),void 0===Mt.complete&&(Mt.complete=Jr);const Vn=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Mt.error(this.finalError):Mt.complete()}catch(Qn){}}),this.observers.push(Mt),Vn}unsubscribeOne(Ze){void 0===this.observers||void 0===this.observers[Ze]||(delete this.observers[Ze],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ze){if(!this.finalized)for(let ht=0;ht<this.observers.length;ht++)this.sendOne(ht,Ze)}sendOne(Ze,ht){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ze])try{ht(this.observers[Ze])}catch(Pt){typeof console<"u"&&console.error&&console.error(Pt)}})}close(Ze){this.finalized||(this.finalized=!0,void 0!==Ze&&(this.finalError=Ze),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Jr(){}const Pr=function(ot,Ze,ht,Pt){let Mt;if(Pt<Ze?Mt="at least "+Ze:Pt>ht&&(Mt=0===ht?"none":"no more than "+ht),Mt)throw new Error(ot+" failed: Was called with "+Pt+(1===Pt?" argument.":" arguments.")+" Expects "+Mt+".")};function Sr(ot,Ze){return`${ot} failed: ${Ze} argument `}function qr(ot,Ze,ht,Pt){if((!Pt||ht)&&"function"!=typeof ht)throw new Error(Sr(ot,Ze)+"must be a valid function.")}function vi(ot,Ze,ht,Pt){if((!Pt||ht)&&("object"!=typeof ht||null===ht))throw new Error(Sr(ot,Ze)+"must be a valid context object.")}const Ir=function(ot){const Ze=[];let ht=0;for(let Pt=0;Pt<ot.length;Pt++){let Mt=ot.charCodeAt(Pt);if(Mt>=55296&&Mt<=56319){const Vn=Mt-55296;Pt++,ne(Pt<ot.length,"Surrogate pair missing trail surrogate."),Mt=65536+(Vn<<10)+(ot.charCodeAt(Pt)-56320)}Mt<128?Ze[ht++]=Mt:Mt<2048?(Ze[ht++]=Mt>>6|192,Ze[ht++]=63&Mt|128):Mt<65536?(Ze[ht++]=Mt>>12|224,Ze[ht++]=Mt>>6&63|128,Ze[ht++]=63&Mt|128):(Ze[ht++]=Mt>>18|240,Ze[ht++]=Mt>>12&63|128,Ze[ht++]=Mt>>6&63|128,Ze[ht++]=63&Mt|128)}return Ze},oi=function(ot){let Ze=0;for(let ht=0;ht<ot.length;ht++){const Pt=ot.charCodeAt(ht);Pt<128?Ze++:Pt<2048?Ze+=2:Pt>=55296&&Pt<=56319?(Ze+=4,ht++):Ze+=3}return Ze};function Sn(ot,Ze=1e3,ht=2){const Pt=Ze*Math.pow(ht,ot),Mt=Math.round(.5*Pt*(Math.random()-.5)*2);return Math.min(144e5,Pt+Mt)}function hr(ot){return ot&&ot._delegate?ot._delegate:ot}},1082:(gn,_t,$)=>{"use strict";$.d(_t,{Br:()=>Ki,We:()=>wn,eh:()=>fr,dr:()=>ni,BJ:()=>wr,oU:()=>Kr,cs:()=>Ba,yp:()=>rr,YG:()=>Zn,Sm:()=>Jr,PM:()=>Pr,FN:()=>Sr,Zi:()=>Gr,tO:()=>qr,Dq:()=>vi,hM:()=>oi,wI:()=>ar,W2:()=>er,x4:()=>gr,Mj:()=>yn,IJ:()=>zt,W4:()=>Sn,fr:()=>Xn,jY:()=>hr,Gu:()=>ot,gu:()=>Ze,Xz:()=>ht,pK:()=>Vn,Ie:()=>Qn,rH:()=>br,Ub:()=>ur,Q$:()=>Z,q_:()=>pe,ki:()=>Oi,uN:()=>hn,d8:()=>qs,jP:()=>zi,Nd:()=>hi,VI:()=>Dn,cJ:()=>ir,GO:()=>Tr,t9:()=>mi,n0:()=>Li,A$:()=>ct,Hr:()=>N,yq:()=>ae,ZU:()=>Je,UN:()=>Po,yW:()=>ue,wd:()=>dt,sr:()=>Kt,Pc:()=>Qi,r4:()=>Ei,HT:()=>la,IN:()=>xi,as:()=>An,YI:()=>Us,QI:()=>Pn,j9:()=>Fn,yF:()=>go});var c=$(4650),ne=$(4006),W=$(655),Ue=$(8421),Le=$(9751),He=$(5577),we=$(1144),Se=$(576),$e=$(3268);const xe=["addListener","removeListener"],de=["addEventListener","removeEventListener"],Te=["on","off"];function ze(I,X,w,G){if((0,Se.m)(w)&&(G=w,w=void 0),G)return ze(I,X,w).pipe((0,$e.Z)(G));const[Re,Ct]=function at(I){return(0,Se.m)(I.addEventListener)&&(0,Se.m)(I.removeEventListener)}(I)?de.map(j=>F=>I[j](X,F,w)):function vt(I){return(0,Se.m)(I.addListener)&&(0,Se.m)(I.removeListener)}(I)?xe.map(Xe(I,X)):function lt(I){return(0,Se.m)(I.on)&&(0,Se.m)(I.off)}(I)?Te.map(Xe(I,X)):[];if(!Re&&(0,we.z)(I))return(0,He.z)(j=>ze(j,X,w))((0,Ue.Xf)(I));if(!Re)throw new TypeError("Invalid event target");return new Le.y(j=>{const F=(...P)=>j.next(1<P.length?P:P[0]);return Re(F),()=>Ct(F)})}function Xe(I,X){return w=>G=>I[w](X,G)}var ye=$(7579),Ce=$(1135),wt=$(4074),Ve=$(4464),tt=$(9300),Ke=$(3900),Ne=$(1884),rt=$(6895),ut=$(1308);const B=$(5179).i,et=["*"],Rt=["outlet"],qt=[[["","slot","top"]],"*"],qe=["[slot=top]","*"];function be(I,X){if(1&I&&(c.TgZ(0,"div",1),c.GkF(1,2),c.qZA()),2&I){const w=c.oxw();c.xp6(1),c.Q6J("ngTemplateOutlet",w.template)}}function K(I,X){if(1&I&&c.GkF(0,1),2&I){const w=c.oxw();c.Q6J("ngTemplateOutlet",w.template)}}const le=I=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(I):"function"==typeof requestAnimationFrame?requestAnimationFrame(I):setTimeout(I),ve=I=>!!I.resolveComponentFactory;let Me=(()=>{class I{constructor(w,G){this.injector=w,this.el=G,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(w){this.el.nativeElement.value=this.lastValue=w??"",Be(this.el)}handleChangeEvent(w,G){w===this.el.nativeElement&&(G!==this.lastValue&&(this.lastValue=G,this.onChange(G)),Be(this.el))}_handleBlurEvent(w){w===this.el.nativeElement&&(this.onTouched(),Be(this.el))}registerOnChange(w){this.onChange=w}registerOnTouched(w){this.onTouched=w}setDisabledState(w){this.el.nativeElement.disabled=w}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let w;try{w=this.injector.get(ne.a5)}catch(Re){}if(!w)return;w.statusChanges&&(this.statusChanges=w.statusChanges.subscribe(()=>Be(this.el)));const G=w.control;G&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(Ct=>{if(typeof G[Ct]<"u"){const j=G[Ct].bind(G);G[Ct]=(...F)=>{j(...F),Be(this.el)}}})}}return I.\u0275fac=function(w){return new(w||I)(c.Y36(c.zs3),c.Y36(c.SBq))},I.\u0275dir=c.lG2({type:I,hostBindings:function(w,G){1&w&&c.NdJ("ionBlur",function(Ct){return G._handleBlurEvent(Ct.target)})}}),I})();const Be=I=>{le(()=>{const X=I.nativeElement,w=null!=X.value&&X.value.toString().length>0,G=At(X);Ot(X,G);const Re=X.closest("ion-item");Re&&Ot(Re,w?[...G,"item-has-value"]:G)})},At=I=>{const X=I.classList,w=[];for(let G=0;G<X.length;G++){const Re=X.item(G);null!==Re&&Bt(Re,"ng-")&&w.push(`ion-${Re.substring(3)}`)}return w},Ot=(I,X)=>{const w=I.classList;w.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),w.add(...X)},Bt=(I,X)=>I.substring(0,X.length)===X;let An=(()=>{class I extends Me{constructor(w,G){super(w,G)}_handleIonChange(w){this.handleChangeEvent(w,w.value)}registerOnChange(w){super.registerOnChange(G=>{w(""===G?null:parseFloat(G))})}}return I.\u0275fac=function(w){return new(w||I)(c.Y36(c.zs3),c.Y36(c.SBq))},I.\u0275dir=c.lG2({type:I,selectors:[["ion-input","type","number"]],hostBindings:function(w,G){1&w&&c.NdJ("ionChange",function(Ct){return G._handleIonChange(Ct.target)})},features:[c._Bn([{provide:ne.JU,useExisting:I,multi:!0}]),c.qOj]}),I})(),Pn=(()=>{class I extends Me{constructor(w,G){super(w,G)}_handleChangeEvent(w){this.handleChangeEvent(w,w.value)}}return I.\u0275fac=function(w){return new(w||I)(c.Y36(c.zs3),c.Y36(c.SBq))},I.\u0275dir=c.lG2({type:I,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(w,G){1&w&&c.NdJ("ionChange",function(Ct){return G._handleChangeEvent(Ct.target)})},features:[c._Bn([{provide:ne.JU,useExisting:I,multi:!0}]),c.qOj]}),I})(),Fn=(()=>{class I extends Me{constructor(w,G){super(w,G)}_handleInputEvent(w){this.handleChangeEvent(w,w.value)}}return I.\u0275fac=function(w){return new(w||I)(c.Y36(c.zs3),c.Y36(c.SBq))},I.\u0275dir=c.lG2({type:I,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(w,G){1&w&&c.NdJ("ionChange",function(Ct){return G._handleInputEvent(Ct.target)})},features:[c._Bn([{provide:ne.JU,useExisting:I,multi:!0}]),c.qOj]}),I})();const rn=(I,X)=>{const w=I.prototype;X.forEach(G=>{Object.defineProperty(w,G,{get(){return this.el[G]},set(Re){this.z.runOutsideAngular(()=>this.el[G]=Re)}})})},En=(I,X)=>{const w=I.prototype;X.forEach(G=>{w[G]=function(){const Re=arguments;return this.z.runOutsideAngular(()=>this.el[G].apply(this.el,Re))}})},zn=(I,X,w)=>{w.forEach(G=>I[G]=ze(X,G))};function Yt(I){return function(w){const{defineCustomElementFn:G,inputs:Re,methods:Ct}=I;return void 0!==G&&G(),Re&&rn(w,Re),Ct&&En(w,Ct),w}}let wn=(()=>{let I=class{constructor(w,G,Re){this.z=Re,w.detach(),this.el=G.nativeElement}};return I.\u0275fac=function(w){return new(w||I)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},I.\u0275cmp=c.Xpm({type:I,selectors:[["ion-accordion"]],inputs:{disabled:"disabled",mode:"mode",readonly:"readonly",toggleIcon:"toggleIcon",toggleIconSlot:"toggleIconSlot",value:"value"},ngContentSelectors:et,decls:1,vars:0,template:function(w,G){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,W.gn)([Yt({defineCustomElementFn:void 0,inputs:["disabled","mode","readonly","toggleIcon","toggleIconSlot","value"]})],I),I})(),fr=(()=>{let I=class{constructor(w,G,Re){this.z=Re,w.detach(),this.el=G.nativeElement,zn(this,this.el,["ionChange"])}};return I.\u0275fac=function(w){return new(w||I)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},I.\u0275cmp=c.Xpm({type:I,selectors:[["ion-accordion-group"]],inputs:{animated:"animated",disabled:"disabled",expand:"expand",mode:"mode",multiple:"multiple",readonly:"readonly",value:"value"},ngContentSelectors:et,decls:1,vars:0,template:function(w,G){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,W.gn)([Yt({defineCustomElementFn:void 0,inputs:["animated","disabled","expand","mode","multiple","readonly","value"]})],I),I})(),ni=(()=>{let I=class{constructor(w,G,Re){this.z=Re,w.detach(),this.el=G.nativeElement}};return I.\u0275fac=function(w){return new(w||I)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},I.\u0275cmp=c.Xpm({type:I,selectors:[["ion-app"]],ngContentSelectors:et,decls:1,vars:0,template:function(w,G){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,W.gn)([Yt({defineCustomElementFn:void 0})],I),I})(),wr=(()=>{let I=class{constructor(w,G,Re){this.z=Re,w.detach(),this.el=G.nativeElement}};return I.\u0275fac=function(w){return new(w||I)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},I.\u0275cmp=c.Xpm({type:I,selectors:[["ion-avatar"]],ngContentSelectors:et,decls:1,vars:0,template:function(w,G){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,W.gn)([Yt({defineCustomElementFn:void 0})],I),I})(),Kr=(()=>{let I=class{constructor(w,G,Re){this.z=Re,w.detach(),this.el=G.nativeElement}};return I.\u0275fac=function(w){return new(w||I)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},I.\u0275cmp=c.Xpm({type:I,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:et,decls:1,vars:0,template:function(w,G){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,W.gn)([Yt({defineCustomElementFn:void 0,inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],I),I})(),rr=(()=>{let I=class{constructor(w,G,Re){this.z=Re,w.detach(),this.el=G.nativeElement}};return I.\u0275fac=function(w){return new(w||I)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},I.\u0275cmp=c.Xpm({type:I,selectors:[["ion-badge"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:et,decls:1,vars:0,template:function(w,G){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,W.gn)([Yt({defineCustomElementFn:void 0,inputs:["color","mode"]})],I),I})(),Zn=(()=>{let I=class{constructor(w,G,Re){this.z=Re,w.detach(),this.el=G.nativeElement,zn(this,this.el,["ionFocus","ionBlur"])}};return I.\u0275fac=function(w){return new(w||I)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},I.\u0275cmp=c.Xpm({type:I,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:et,decls:1,vars:0,template:function(w,G){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,W.gn)([Yt({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],I),I})(),Jr=(()=>{let I=class{constructor(w,G,Re){this.z=Re,w.detach(),this.el=G.nativeElement}};return I.\u0275fac=function(w){return new(w||I)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},I.\u0275cmp=c.Xpm({type:I,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:et,decls:1,vars:0,template:function(w,G){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,W.gn)([Yt({defineCustomElementFn:void 0,inputs:["collapse"]})],I),I})(),Pr=(()=>{let I=class{constructor(w,G,Re){this.z=Re,w.detach(),this.el=G.nativeElement}};return I.\u0275fac=function(w){return new(w||I)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},I.\u0275cmp=c.Xpm({type:I,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:et,decls:1,vars:0,template:function(w,G){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,W.gn)([Yt({defineCustomElementFn:void 0,inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],I),I})(),Sr=(()=>{let I=class{constructor(w,G,Re){this.z=Re,w.detach(),this.el=G.nativeElement}};return I.\u0275fac=function(w){return new(w||I)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},I.\u0275cmp=c.Xpm({type:I,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:et,decls:1,vars:0,template:function(w,G){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,W.gn)([Yt({defineCustomElementFn:void 0,inputs:["mode"]})],I),I})(),Gr=(()=>{let I=class{constructor(w,G,Re){this.z=Re,w.detach(),this.el=G.nativeElement}};return I.\u0275fac=function(w){return new(w||I)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},I.\u0275cmp=c.Xpm({type:I,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:et,decls:1,vars:0,template:function(w,G){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,W.gn)([Yt({defineCustomElementFn:void 0,inputs:["color","mode","translucent"]})],I),I})(),qr=(()=>{let I=class{constructor(w,G,Re){this.z=Re,w.detach(),this.el=G.nativeElement}};return I.\u0275fac=function(w){return new(w||I)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},I.\u0275cmp=c.Xpm({type:I,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:et,decls:1,vars:0,template:function(w,G){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,W.gn)([Yt({defineCustomElementFn:void 0,inputs:["color","mode"]})],I),I})(),vi=(()=>{let I=class{constructor(w,G,Re){this.z=Re,w.detach(),this.el=G.nativeElement}};return I.\u0275fac=function(w){return new(w||I)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},I.\u0275cmp=c.Xpm({type:I,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:et,decls:1,vars:0,template:function(w,G){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,W.gn)([Yt({defineCustomElementFn:void 0,inputs:["color","mode"]})],I),I})(),oi=(()=>{let I=class{constructor(w,G,Re){this.z=Re,w.detach(),this.el=G.nativeElement}};return I.\u0275fac=function(w){return new(w||I)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},I.\u0275cmp=c.Xpm({type:I,selectors:[["ion-chip"]],inputs:{color:"color",disabled:"disabled",mode:"mode",outline:"outline"},ngContentSelectors:et,decls:1,vars:0,template:function(w,G){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,W.gn)([Yt({defineCustomElementFn:void 0,inputs:["color","disabled","mode","outline"]})],I),I})(),ar=(()=>{let I=class{constructor(w,G,Re){this.z=Re,w.detach(),this.el=G.nativeElement}};return I.\u0275fac=function(w){return new(w||I)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},I.\u0275cmp=c.Xpm({type:I,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:et,decls:1,vars:0,template:function(w,G){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,W.gn)([Yt({defineCustomElementFn:void 0,inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],I),I})(),er=(()=>{let I=class{constructor(w,G,Re){this.z=Re,w.detach(),this.el=G.nativeElement,zn(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return I.\u0275fac=function(w){return new(w||I)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},I.\u0275cmp=c.Xpm({type:I,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:et,decls:1,vars:0,template:function(w,G){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,W.gn)([Yt({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],I),I})(),gr=(()=>{let I=class{constructor(w,G,Re){this.z=Re,w.detach(),this.el=G.nativeElement,zn(this,this.el,["ionCancel","ionChange","ionFocus","ionBlur"])}};return I.\u0275fac=function(w){return new(w||I)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},I.\u0275cmp=c.Xpm({type:I,selectors:[["ion-datetime"]],inputs:{cancelText:"cancelText",clearText:"clearText",color:"color",dayValues:"dayValues",disabled:"disabled",doneText:"doneText",firstDayOfWeek:"firstDayOfWeek",hourCycle:"hourCycle",hourValues:"hourValues",isDateEnabled:"isDateEnabled",locale:"locale",max:"max",min:"min",minuteValues:"minuteValues",mode:"mode",monthValues:"monthValues",multiple:"multiple",name:"name",preferWheel:"preferWheel",presentation:"presentation",readonly:"readonly",showClearButton:"showClearButton",showDefaultButtons:"showDefaultButtons",showDefaultTimeLabel:"showDefaultTimeLabel",showDefaultTitle:"showDefaultTitle",size:"size",titleSelectedDatesFormatter:"titleSelectedDatesFormatter",value:"value",yearValues:"yearValues"},ngContentSelectors:et,decls:1,vars:0,template:function(w,G){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,W.gn)([Yt({defineCustomElementFn:void 0,inputs:["cancelText","clearText","color","dayValues","disabled","doneText","firstDayOfWeek","hourCycle","hourValues","isDateEnabled","locale","max","min","minuteValues","mode","monthValues","multiple","name","preferWheel","presentation","readonly","showClearButton","showDefaultButtons","showDefaultTimeLabel","showDefaultTitle","size","titleSelectedDatesFormatter","value","yearValues"],methods:["confirm","reset","cancel"]})],I),I})(),yn=(()=>{let I=class{constructor(w,G,Re){this.z=Re,w.detach(),this.el=G.nativeElement}};return I.\u0275fac=function(w){return new(w||I)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},I.\u0275cmp=c.Xpm({type:I,selectors:[["ion-datetime-button"]],inputs:{color:"color",datetime:"datetime",disabled:"disabled",mode:"mode"},ngContentSelectors:et,decls:1,vars:0,template:function(w,G){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,W.gn)([Yt({defineCustomElementFn:void 0,inputs:["color","datetime","disabled","mode"]})],I),I})(),zt=(()=>{let I=class{constructor(w,G,Re){this.z=Re,w.detach(),this.el=G.nativeElement}};return I.\u0275fac=function(w){return new(w||I)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},I.\u0275cmp=c.Xpm({type:I,selectors:[["ion-fab"]],inputs:{activated:"activated",edge:"edge",horizontal:"horizontal",vertical:"vertical"},ngContentSelectors:et,decls:1,vars:0,template:function(w,G){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,W.gn)([Yt({defineCustomElementFn:void 0,inputs:["activated","edge","horizontal","vertical"],methods:["close"]})],I),I})(),Sn=(()=>{let I=class{constructor(w,G,Re){this.z=Re,w.detach(),this.el=G.nativeElement,zn(this,this.el,["ionFocus","ionBlur"])}};return I.\u0275fac=function(w){return new(w||I)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},I.\u0275cmp=c.Xpm({type:I,selectors:[["ion-fab-button"]],inputs:{activated:"activated",closeIcon:"closeIcon",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",show:"show",size:"size",target:"target",translucent:"translucent",type:"type"},ngContentSelectors:et,decls:1,vars:0,template:function(w,G){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,W.gn)([Yt({defineCustomElementFn:void 0,inputs:["activated","closeIcon","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","show","size","target","translucent","type"]})],I),I})(),Xn=(()=>{let I=class{constructor(w,G,Re){this.z=Re,w.detach(),this.el=G.nativeElement}};return I.\u0275fac=function(w){return new(w||I)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},I.\u0275cmp=c.Xpm({type:I,selectors:[["ion-footer"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:et,decls:1,vars:0,template:function(w,G){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,W.gn)([Yt({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],I),I})(),hr=(()=>{let I=class{constructor(w,G,Re){this.z=Re,w.detach(),this.el=G.nativeElement}};return I.\u0275fac=function(w){return new(w||I)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},I.\u0275cmp=c.Xpm({type:I,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:et,decls:1,vars:0,template:function(w,G){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,W.gn)([Yt({defineCustomElementFn:void 0,inputs:["fixed"]})],I),I})(),ot=(()=>{let I=class{constructor(w,G,Re){this.z=Re,w.detach(),this.el=G.nativeElement}};return I.\u0275fac=function(w){return new(w||I)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},I.\u0275cmp=c.Xpm({type:I,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:et,decls:1,vars:0,template:function(w,G){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,W.gn)([Yt({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],I),I})(),Ze=(()=>{let I=class{constructor(w,G,Re){this.z=Re,w.detach(),this.el=G.nativeElement}};return I.\u0275fac=function(w){return new(w||I)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},I.\u0275cmp=c.Xpm({type:I,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:et,decls:1,vars:0,template:function(w,G){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,W.gn)([Yt({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],I),I})(),ht=(()=>{let I=class{constructor(w,G,Re){this.z=Re,w.detach(),this.el=G.nativeElement,zn(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}};return I.\u0275fac=function(w){return new(w||I)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},I.\u0275cmp=c.Xpm({type:I,selectors:[["ion-img"]],inputs:{alt:"alt",src:"src"},ngContentSelectors:et,decls:1,vars:0,template:function(w,G){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,W.gn)([Yt({defineCustomElementFn:void 0,inputs:["alt","src"]})],I),I})(),Vn=(()=>{let I=class{constructor(w,G,Re){this.z=Re,w.detach(),this.el=G.nativeElement,zn(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return I.\u0275fac=function(w){return new(w||I)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},I.\u0275cmp=c.Xpm({type:I,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:et,decls:1,vars:0,template:function(w,G){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,W.gn)([Yt({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],I),I})(),Qn=(()=>{let I=class{constructor(w,G,Re){this.z=Re,w.detach(),this.el=G.nativeElement}};return I.\u0275fac=function(w){return new(w||I)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},I.\u0275cmp=c.Xpm({type:I,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:et,decls:1,vars:0,template:function(w,G){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,W.gn)([Yt({defineCustomElementFn:void 0,inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],I),I})(),br=(()=>{let I=class{constructor(w,G,Re){this.z=Re,w.detach(),this.el=G.nativeElement}};return I.\u0275fac=function(w){return new(w||I)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},I.\u0275cmp=c.Xpm({type:I,selectors:[["ion-item-divider"]],inputs:{color:"color",mode:"mode",sticky:"sticky"},ngContentSelectors:et,decls:1,vars:0,template:function(w,G){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,W.gn)([Yt({defineCustomElementFn:void 0,inputs:["color","mode","sticky"]})],I),I})(),ur=(()=>{let I=class{constructor(w,G,Re){this.z=Re,w.detach(),this.el=G.nativeElement}};return I.\u0275fac=function(w){return new(w||I)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},I.\u0275cmp=c.Xpm({type:I,selectors:[["ion-item-group"]],ngContentSelectors:et,decls:1,vars:0,template:function(w,G){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,W.gn)([Yt({defineCustomElementFn:void 0})],I),I})(),Z=(()=>{let I=class{constructor(w,G,Re){this.z=Re,w.detach(),this.el=G.nativeElement}};return I.\u0275fac=function(w){return new(w||I)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},I.\u0275cmp=c.Xpm({type:I,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:et,decls:1,vars:0,template:function(w,G){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,W.gn)([Yt({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],I),I})(),pe=(()=>{let I=class{constructor(w,G,Re){this.z=Re,w.detach(),this.el=G.nativeElement}};return I.\u0275fac=function(w){return new(w||I)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},I.\u0275cmp=c.Xpm({type:I,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:et,decls:1,vars:0,template:function(w,G){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,W.gn)([Yt({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],I),I})(),hn=(()=>{let I=class{constructor(w,G,Re){this.z=Re,w.detach(),this.el=G.nativeElement}};return I.\u0275fac=function(w){return new(w||I)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},I.\u0275cmp=c.Xpm({type:I,selectors:[["ion-note"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:et,decls:1,vars:0,template:function(w,G){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,W.gn)([Yt({defineCustomElementFn:void 0,inputs:["color","mode"]})],I),I})(),hi=(()=>{let I=class{constructor(w,G,Re){this.z=Re,w.detach(),this.el=G.nativeElement}};return I.\u0275fac=function(w){return new(w||I)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},I.\u0275cmp=c.Xpm({type:I,selectors:[["ion-row"]],ngContentSelectors:et,decls:1,vars:0,template:function(w,G){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,W.gn)([Yt({defineCustomElementFn:void 0})],I),I})(),Dn=(()=>{let I=class{constructor(w,G,Re){this.z=Re,w.detach(),this.el=G.nativeElement,zn(this,this.el,["ionInput","ionChange","ionCancel","ionClear","ionBlur","ionFocus"])}};return I.\u0275fac=function(w){return new(w||I)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},I.\u0275cmp=c.Xpm({type:I,selectors:[["ion-searchbar"]],inputs:{animated:"animated",autocomplete:"autocomplete",autocorrect:"autocorrect",cancelButtonIcon:"cancelButtonIcon",cancelButtonText:"cancelButtonText",clearIcon:"clearIcon",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",mode:"mode",placeholder:"placeholder",searchIcon:"searchIcon",showCancelButton:"showCancelButton",showClearButton:"showClearButton",spellcheck:"spellcheck",type:"type",value:"value"},ngContentSelectors:et,decls:1,vars:0,template:function(w,G){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,W.gn)([Yt({defineCustomElementFn:void 0,inputs:["animated","autocomplete","autocorrect","cancelButtonIcon","cancelButtonText","clearIcon","color","debounce","disabled","enterkeyhint","inputmode","mode","placeholder","searchIcon","showCancelButton","showClearButton","spellcheck","type","value"],methods:["setFocus","getInputElement"]})],I),I})(),ir=(()=>{let I=class{constructor(w,G,Re){this.z=Re,w.detach(),this.el=G.nativeElement,zn(this,this.el,["ionChange"])}};return I.\u0275fac=function(w){return new(w||I)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},I.\u0275cmp=c.Xpm({type:I,selectors:[["ion-segment"]],inputs:{color:"color",disabled:"disabled",mode:"mode",scrollable:"scrollable",selectOnFocus:"selectOnFocus",swipeGesture:"swipeGesture",value:"value"},ngContentSelectors:et,decls:1,vars:0,template:function(w,G){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,W.gn)([Yt({defineCustomElementFn:void 0,inputs:["color","disabled","mode","scrollable","selectOnFocus","swipeGesture","value"]})],I),I})(),Tr=(()=>{let I=class{constructor(w,G,Re){this.z=Re,w.detach(),this.el=G.nativeElement}};return I.\u0275fac=function(w){return new(w||I)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},I.\u0275cmp=c.Xpm({type:I,selectors:[["ion-segment-button"]],inputs:{disabled:"disabled",layout:"layout",mode:"mode",type:"type",value:"value"},ngContentSelectors:et,decls:1,vars:0,template:function(w,G){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,W.gn)([Yt({defineCustomElementFn:void 0,inputs:["disabled","layout","mode","type","value"]})],I),I})(),mi=(()=>{let I=class{constructor(w,G,Re){this.z=Re,w.detach(),this.el=G.nativeElement,zn(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return I.\u0275fac=function(w){return new(w||I)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},I.\u0275cmp=c.Xpm({type:I,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",compareWith:"compareWith",disabled:"disabled",interface:"interface",interfaceOptions:"interfaceOptions",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",value:"value"},ngContentSelectors:et,decls:1,vars:0,template:function(w,G){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,W.gn)([Yt({defineCustomElementFn:void 0,inputs:["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"],methods:["open"]})],I),I})(),Li=(()=>{let I=class{constructor(w,G,Re){this.z=Re,w.detach(),this.el=G.nativeElement}};return I.\u0275fac=function(w){return new(w||I)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},I.\u0275cmp=c.Xpm({type:I,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:et,decls:1,vars:0,template:function(w,G){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,W.gn)([Yt({defineCustomElementFn:void 0,inputs:["disabled","value"]})],I),I})(),ct=(()=>{let I=class{constructor(w,G,Re){this.z=Re,w.detach(),this.el=G.nativeElement}};return I.\u0275fac=function(w){return new(w||I)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},I.\u0275cmp=c.Xpm({type:I,selectors:[["ion-slide"]],ngContentSelectors:et,decls:1,vars:0,template:function(w,G){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,W.gn)([Yt({defineCustomElementFn:void 0})],I),I})(),N=(()=>{let I=class{constructor(w,G,Re){this.z=Re,w.detach(),this.el=G.nativeElement,zn(this,this.el,["ionSlidesDidLoad","ionSlideTap","ionSlideDoubleTap","ionSlideWillChange","ionSlideDidChange","ionSlideNextStart","ionSlidePrevStart","ionSlideNextEnd","ionSlidePrevEnd","ionSlideTransitionStart","ionSlideTransitionEnd","ionSlideDrag","ionSlideReachStart","ionSlideReachEnd","ionSlideTouchStart","ionSlideTouchEnd"])}};return I.\u0275fac=function(w){return new(w||I)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},I.\u0275cmp=c.Xpm({type:I,selectors:[["ion-slides"]],inputs:{mode:"mode",options:"options",pager:"pager",scrollbar:"scrollbar"},ngContentSelectors:et,decls:1,vars:0,template:function(w,G){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,W.gn)([Yt({defineCustomElementFn:void 0,inputs:["mode","options","pager","scrollbar"],methods:["update","updateAutoHeight","slideTo","slideNext","slidePrev","getActiveIndex","getPreviousIndex","length","isEnd","isBeginning","startAutoplay","stopAutoplay","lockSwipeToNext","lockSwipeToPrev","lockSwipes","getSwiper"]})],I),I})(),ae=(()=>{let I=class{constructor(w,G,Re){this.z=Re,w.detach(),this.el=G.nativeElement}};return I.\u0275fac=function(w){return new(w||I)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},I.\u0275cmp=c.Xpm({type:I,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:et,decls:1,vars:0,template:function(w,G){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,W.gn)([Yt({defineCustomElementFn:void 0,inputs:["color","mode","selectedTab","translucent"]})],I),I})(),Je=(()=>{let I=class{constructor(w,G,Re){this.z=Re,w.detach(),this.el=G.nativeElement}};return I.\u0275fac=function(w){return new(w||I)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},I.\u0275cmp=c.Xpm({type:I,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:et,decls:1,vars:0,template:function(w,G){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,W.gn)([Yt({defineCustomElementFn:void 0,inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],I),I})(),ue=(()=>{let I=class{constructor(w,G,Re){this.z=Re,w.detach(),this.el=G.nativeElement}};return I.\u0275fac=function(w){return new(w||I)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},I.\u0275cmp=c.Xpm({type:I,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:et,decls:1,vars:0,template:function(w,G){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,W.gn)([Yt({defineCustomElementFn:void 0,inputs:["color","mode"]})],I),I})(),dt=(()=>{let I=class{constructor(w,G,Re){this.z=Re,w.detach(),this.el=G.nativeElement}};return I.\u0275fac=function(w){return new(w||I)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},I.\u0275cmp=c.Xpm({type:I,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:et,decls:1,vars:0,template:function(w,G){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,W.gn)([Yt({defineCustomElementFn:void 0,inputs:["color","size"]})],I),I})(),Kt=(()=>{let I=class{constructor(w,G,Re){this.z=Re,w.detach(),this.el=G.nativeElement}};return I.\u0275fac=function(w){return new(w||I)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},I.\u0275cmp=c.Xpm({type:I,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:et,decls:1,vars:0,template:function(w,G){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,W.gn)([Yt({defineCustomElementFn:void 0,inputs:["color","mode"]})],I),I})();class sn{constructor(X={}){this.data=X}get(X){return this.data[X]}}let mn=(()=>{class I{constructor(w,G){this.zone=w,this.appRef=G}create(w,G,Re,Ct){return new vr(w,G,Re,this.appRef,this.zone,Ct)}}return I.\u0275fac=function(w){return new(w||I)(c.LFG(c.R0b),c.LFG(c.z2F))},I.\u0275prov=c.Yz7({token:I,factory:I.\u0275fac}),I})();class vr{constructor(X,w,G,Re,Ct,j){this.resolverOrInjector=X,this.injector=w,this.location=G,this.appRef=Re,this.zone=Ct,this.elementReferenceKey=j,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(X,w,G,Re){return this.zone.run(()=>new Promise(Ct=>{const j=Object.assign({},G);void 0!==this.elementReferenceKey&&(j[this.elementReferenceKey]=X),Ct(kn(this.zone,this.resolverOrInjector,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,X,w,j,Re))}))}removeViewFromDom(X,w){return this.zone.run(()=>new Promise(G=>{const Re=this.elRefMap.get(w);if(Re){Re.destroy(),this.elRefMap.delete(w);const Ct=this.elEventsMap.get(w);Ct&&(Ct(),this.elEventsMap.delete(w))}G()}))}}const kn=(I,X,w,G,Re,Ct,j,F,P,oe,mt)=>{let nn;const Zr=c.zs3.create({providers:Xt(oe),parent:w});if(X&&ve(X)){const Hs=X.resolveComponentFactory(P);nn=G?G.createComponent(Hs,G.length,Zr):Hs.create(Zr)}else{if(!G)return null;nn=G.createComponent(P,{index:G.indexOf,injector:Zr,environmentInjector:X})}const Ji=nn.instance,Xr=nn.location.nativeElement;if(oe&&Object.assign(Ji,oe),mt)for(const Hs of mt)Xr.classList.add(Hs);const Rs=gt(I,Ji,Xr);return F.appendChild(Xr),G||Re.attachView(nn.hostView),nn.changeDetectorRef.reattach(),Ct.set(Xr,nn),j.set(Xr,Rs),Xr},yt=[Ve.kx,Ve.re,Ve.EQ,Ve.Jd,Ve.F8],gt=(I,X,w)=>I.run(()=>{const G=yt.filter(Re=>"function"==typeof X[Re]).map(Re=>{const Ct=j=>X[Re](j.detail);return w.addEventListener(Re,Ct),()=>w.removeEventListener(Re,Ct)});return()=>G.forEach(Re=>Re())}),St=new c.OlP("NavParamsToken"),Xt=I=>[{provide:St,useValue:I},{provide:sn,useFactory:un,deps:[St]}],un=I=>new sn(I),xn=(I,X)=>((I=I.filter(w=>w.stackId!==X.stackId)).push(X),I),ai=(I,X)=>{const w=I.createUrlTree(["."],{relativeTo:X});return I.serializeUrl(w)},ki=(I,X)=>{if(!I)return;const w=ws(X);for(let G=0;G<w.length;G++){if(G>=I.length)return w[G];if(w[G]!==I[G])return}},ws=I=>I.split("/").map(X=>X.trim()).filter(X=>""!==X),Zi=I=>{I&&(I.ref.destroy(),I.unlistenEvents())};class Ai{constructor(X,w,G,Re,Ct,j){this.containerEl=w,this.router=G,this.navCtrl=Re,this.zone=Ct,this.location=j,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==X?ws(X):void 0}createView(X,w){var G;const Re=ai(this.router,w),Ct=null===(G=null==X?void 0:X.location)||void 0===G?void 0:G.nativeElement,j=gt(this.zone,X.instance,Ct);return{id:this.nextId++,stackId:ki(this.tabsPrefix,Re),unlistenEvents:j,element:Ct,ref:X,url:Re}}getExistingView(X){const w=ai(this.router,X),G=this.views.find(Re=>Re.url===w);return G&&G.ref.changeDetectorRef.reattach(),G}setActive(X){var w,G;const Re=this.navCtrl.consumeTransition();let{direction:Ct,animation:j,animationBuilder:F}=Re;const P=this.activeView,oe=((I,X)=>!X||I.stackId!==X.stackId)(X,P);oe&&(Ct="back",j=void 0);const mt=this.views.slice();let nn;const Zr=this.router;Zr.getCurrentNavigation?nn=Zr.getCurrentNavigation():!(null===(w=Zr.navigations)||void 0===w)&&w.value&&(nn=Zr.navigations.value),null!==(G=null==nn?void 0:nn.extras)&&void 0!==G&&G.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const Ji=this.views.includes(X),Xr=this.insertView(X,Ct);Ji||X.ref.changeDetectorRef.detectChanges();const Rs=X.animationBuilder;return void 0===F&&"back"===Ct&&!oe&&void 0!==Rs&&(F=Rs),P&&(P.animationBuilder=F),this.zone.runOutsideAngular(()=>this.wait(()=>(P&&P.ref.changeDetectorRef.detach(),X.ref.changeDetectorRef.reattach(),this.transition(X,P,j,this.canGoBack(1),!1,F).then(()=>yi(X,Xr,mt,this.location,this.zone)).then(()=>({enteringView:X,direction:Ct,animation:j,tabSwitch:oe})))))}canGoBack(X,w=this.getActiveStackId()){return this.getStack(w).length>X}pop(X,w=this.getActiveStackId()){return this.zone.run(()=>{var G,Re;const Ct=this.getStack(w);if(Ct.length<=X)return Promise.resolve(!1);const j=Ct[Ct.length-X-1];let F=j.url;const P=j.savedData;if(P){const mt=P.get("primary");null!==(Re=null===(G=null==mt?void 0:mt.route)||void 0===G?void 0:G._routerState)&&void 0!==Re&&Re.snapshot.url&&(F=mt.route._routerState.snapshot.url)}const{animationBuilder:oe}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(F,Object.assign(Object.assign({},j.savedExtras),{animation:oe})).then(()=>!0)})}startBackTransition(){const X=this.activeView;if(X){const w=this.getStack(X.stackId),G=w[w.length-2],Re=G.animationBuilder;return this.wait(()=>this.transition(G,X,"back",this.canGoBack(2),!0,Re))}return Promise.resolve()}endBackTransition(X){X?(this.skipTransition=!0,this.pop(1)):this.activeView&&Nr(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(X){const w=this.getStack(X);return w.length>0?w[w.length-1]:void 0}getRootUrl(X){const w=this.getStack(X);return w.length>0?w[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Zi),this.activeView=void 0,this.views=[]}getStack(X){return this.views.filter(w=>w.stackId===X)}insertView(X,w){return this.activeView=X,this.views=((I,X,w)=>"root"===w?xn(I,X):"forward"===w?((I,X)=>(I.indexOf(X)>=0?I=I.filter(G=>G.stackId!==X.stackId||G.id<=X.id):I.push(X),I))(I,X):((I,X)=>I.indexOf(X)>=0?I.filter(G=>G.stackId!==X.stackId||G.id<=X.id):xn(I,X))(I,X))(this.views,X,w),this.views.slice()}transition(X,w,G,Re,Ct,j){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(w===X)return Promise.resolve(!1);const F=X?X.element:void 0,P=w?w.element:void 0,oe=this.containerEl;return F&&F!==P&&(F.classList.add("ion-page"),F.classList.add("ion-page-invisible"),F.parentElement!==oe&&oe.appendChild(F),oe.commit)?oe.commit(F,P,{deepWait:!0,duration:void 0===G?0:void 0,direction:G,showGoBack:Re,progressAnimation:Ct,animationBuilder:j}):Promise.resolve(!1)}wait(X){return(0,W.mG)(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const w=this.runningTask=X();return w.finally(()=>this.runningTask=void 0),w})}}const yi=(I,X,w,G,Re)=>"function"==typeof requestAnimationFrame?new Promise(Ct=>{requestAnimationFrame(()=>{Nr(I,X,w,G,Re),Ct()})}):Promise.resolve(),Nr=(I,X,w,G,Re)=>{Re.run(()=>w.filter(Ct=>!X.includes(Ct)).forEach(Zi)),X.forEach(Ct=>{const F=G.path().split("?")[0].split("#")[0];if(Ct!==I&&Ct.url!==F){const P=Ct.element;P.setAttribute("aria-hidden","true"),P.classList.add("ion-page-hidden"),Ct.ref.changeDetectorRef.detach()}})};let Hi=(()=>{class I{get(w,G){const Re=Ss();return Re?Re.get(w,G):null}getBoolean(w,G){const Re=Ss();return!!Re&&Re.getBoolean(w,G)}getNumber(w,G){const Re=Ss();return Re?Re.getNumber(w,G):0}}return I.\u0275fac=function(w){return new(w||I)},I.\u0275prov=c.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();const Gi=new c.OlP("USERCONFIG"),Ss=()=>{if(typeof window<"u"){const I=window.Ionic;if(null!=I&&I.config)return I.config}return null};let Ni=(()=>{class I{constructor(w,G){this.doc=w,this.backButton=new ye.x,this.keyboardDidShow=new ye.x,this.keyboardDidHide=new ye.x,this.pause=new ye.x,this.resume=new ye.x,this.resize=new ye.x,G.run(()=>{var Re;let Ct;this.win=w.defaultView,this.backButton.subscribeWithPriority=function(j,F){return this.subscribe(P=>P.register(j,oe=>G.run(()=>F(oe))))},Vs(this.pause,w,"pause"),Vs(this.resume,w,"resume"),Vs(this.backButton,w,"ionBackButton"),Vs(this.resize,this.win,"resize"),Vs(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Vs(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(j=>{Ct=j}),null!==(Re=this.win)&&void 0!==Re&&Re.cordova?w.addEventListener("deviceready",()=>{Ct("cordova")},{once:!0}):Ct("dom")})}is(w){return(0,Ve.n$)(this.win,w)}platforms(){return(0,Ve.AK)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(w){return ho(this.win.location.href,w)}isLandscape(){return!this.isPortrait()}isPortrait(){var w,G;return null===(G=(w=this.win).matchMedia)||void 0===G?void 0:G.call(w,"(orientation: portrait)").matches}testUserAgent(w){const G=this.win.navigator;return!!((null==G?void 0:G.userAgent)&&G.userAgent.indexOf(w)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return I.\u0275fac=function(w){return new(w||I)(c.LFG(rt.K0),c.LFG(c.R0b))},I.\u0275prov=c.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();const ho=(I,X)=>{X=X.replace(/[[\]\\]/g,"\\$&");const G=new RegExp("[\\?&]"+X+"=([^&#]*)").exec(I);return G?decodeURIComponent(G[1].replace(/\+/g," ")):null},Vs=(I,X,w)=>{X&&X.addEventListener(w,G=>{I.next(null!=G?G.detail:void 0)})};let Is=(()=>{class I{constructor(w,G,Re,Ct){this.location=G,this.serializer=Re,this.router=Ct,this.direction=rs,this.animated=lo,this.guessDirection="forward",this.lastNavId=-1,Ct&&Ct.events.subscribe(j=>{if(j instanceof wt.OD){const F=j.restoredState?j.restoredState.navigationId:j.id;this.guessDirection=F<this.lastNavId?"back":"forward",this.guessAnimation=j.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?j.id:F}}),w.backButton.subscribeWithPriority(0,j=>{this.pop(),j()})}navigateForward(w,G={}){return this.setDirection("forward",G.animated,G.animationDirection,G.animation),this.navigate(w,G)}navigateBack(w,G={}){return this.setDirection("back",G.animated,G.animationDirection,G.animation),this.navigate(w,G)}navigateRoot(w,G={}){return this.setDirection("root",G.animated,G.animationDirection,G.animation),this.navigate(w,G)}back(w={animated:!0,animationDirection:"back"}){return this.setDirection("back",w.animated,w.animationDirection,w.animation),this.location.back()}pop(){return(0,W.mG)(this,void 0,void 0,function*(){let w=this.topOutlet;for(;w&&!(yield w.pop());)w=w.parentOutlet})}setDirection(w,G,Re,Ct){this.direction=w,this.animated=Ws(w,G,Re),this.animationBuilder=Ct}setTopOutlet(w){this.topOutlet=w}consumeTransition(){let G,w="root";const Re=this.animationBuilder;return"auto"===this.direction?(w=this.guessDirection,G=this.guessAnimation):(G=this.animated,w=this.direction),this.direction=rs,this.animated=lo,this.animationBuilder=void 0,{direction:w,animation:G,animationBuilder:Re}}navigate(w,G){if(Array.isArray(w))return this.router.navigate(w,G);{const Re=this.serializer.parse(w.toString());return void 0!==G.queryParams&&(Re.queryParams=Object.assign({},G.queryParams)),void 0!==G.fragment&&(Re.fragment=G.fragment),this.router.navigateByUrl(Re,G)}}}return I.\u0275fac=function(w){return new(w||I)(c.LFG(Ni),c.LFG(rt.Ye),c.LFG(wt.Hx),c.LFG(wt.F0,8))},I.\u0275prov=c.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();const Ws=(I,X,w)=>{if(!1!==X){if(void 0!==w)return w;if("forward"===I||"back"===I)return I;if("root"===I&&!0===X)return"forward"}},rs="auto",lo=void 0;let zi=(()=>{class I{constructor(w,G,Re,Ct,j,F,P,oe,mt,nn,Zr,Ji,Xr){this.parentContexts=w,this.location=G,this.config=j,this.navCtrl=F,this.componentFactoryResolver=P,this.parentOutlet=Xr,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new Ce.X(null),this.stackEvents=new c.vpe,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.nativeEl=mt.nativeElement,this.name=Re||wt.eC,this.tabsPrefix="true"===Ct?ai(nn,Ji):void 0,this.stackCtrl=new Ai(this.tabsPrefix,this.nativeEl,nn,F,Zr,oe),w.onChildOutletCreated(this.name,this)}set animation(w){this.nativeEl.animation=w}set animated(w){this.nativeEl.animated=w}set swipeGesture(w){this._swipeGesture=w,this.nativeEl.swipeHandler=w?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:G=>this.stackCtrl.endBackTransition(G)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const w=this.getContext();null!=w&&w.route&&this.activateWith(w.route,w.resolver||null)}new Promise(w=>(0,Ve.hh)(this.nativeEl,w)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(w,G){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const G=this.getContext();this.activatedView.savedData=new Map(G.children.contexts);const Re=this.activatedView.savedData.get("primary");if(Re&&G.route&&(Re.route=Object.assign({},G.route)),this.activatedView.savedExtras={},G.route){const Ct=G.route.snapshot;this.activatedView.savedExtras.queryParams=Ct.queryParams,this.activatedView.savedExtras.fragment=Ct.fragment}}const w=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,G){var Re;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=w;let Ct,j=this.stackCtrl.getExistingView(w);if(j){Ct=this.activated=j.ref;const F=j.savedData;F&&(this.getContext().children.contexts=F),this.updateActivatedRouteProxy(Ct.instance,w)}else{const F=w._futureSnapshot;if(null==F.routeConfig.component&&null==this.environmentInjector)return void console.warn('[Ionic Warning]: You must supply an environmentInjector to use standalone components with routing:\n\nIn your component class, add:\n\n   import { EnvironmentInjector } from \'@angular/core\';\n   constructor(public environmentInjector: EnvironmentInjector) {}\n\nIn your router outlet template, add:\n\n   <ion-router-outlet [environmentInjector]="environmentInjector"></ion-router-outlet>\n\nAlternatively, if you are routing within ion-tabs:\n\n   <ion-tabs [environmentInjector]="environmentInjector"></ion-tabs>');const P=this.parentContexts.getOrCreateContext(this.name).children,oe=new Ce.X(null),mt=this.createActivatedRouteProxy(oe,w),nn=new fo(mt,P,this.location.injector),Zr=null!==(Re=F.routeConfig.component)&&void 0!==Re?Re:F.component;if((G=G||this.componentFactoryResolver)&&ve(G)){const Ji=G.resolveComponentFactory(Zr);Ct=this.activated=this.location.createComponent(Ji,this.location.length,nn)}else Ct=this.activated=this.location.createComponent(Zr,{index:this.location.length,injector:nn,environmentInjector:null!=G?G:this.environmentInjector});oe.next(Ct.instance),j=this.stackCtrl.createView(this.activated,w),this.proxyMap.set(Ct.instance,mt),this.currentActivatedRoute$.next({component:Ct.instance,activatedRoute:w})}this.activatedView=j,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(j).then(F=>{this.activateEvents.emit(Ct.instance),this.stackEvents.emit(F)})}canGoBack(w=1,G){return this.stackCtrl.canGoBack(w,G)}pop(w=1,G){return this.stackCtrl.pop(w,G)}getLastUrl(w){const G=this.stackCtrl.getLastUrl(w);return G?G.url:void 0}getLastRouteView(w){return this.stackCtrl.getLastUrl(w)}getRootView(w){return this.stackCtrl.getRootUrl(w)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(w,G){const Re=new wt.gz;return Re._futureSnapshot=G._futureSnapshot,Re._routerState=G._routerState,Re.snapshot=G.snapshot,Re.outlet=G.outlet,Re.component=G.component,Re._paramMap=this.proxyObservable(w,"paramMap"),Re._queryParamMap=this.proxyObservable(w,"queryParamMap"),Re.url=this.proxyObservable(w,"url"),Re.params=this.proxyObservable(w,"params"),Re.queryParams=this.proxyObservable(w,"queryParams"),Re.fragment=this.proxyObservable(w,"fragment"),Re.data=this.proxyObservable(w,"data"),Re}proxyObservable(w,G){return w.pipe((0,tt.h)(Re=>!!Re),(0,Ke.w)(Re=>this.currentActivatedRoute$.pipe((0,tt.h)(Ct=>null!==Ct&&Ct.component===Re),(0,Ke.w)(Ct=>Ct&&Ct.activatedRoute[G]),(0,Ne.x)())))}updateActivatedRouteProxy(w,G){const Re=this.proxyMap.get(w);if(!Re)throw new Error("Could not find activated route proxy for view");Re._futureSnapshot=G._futureSnapshot,Re._routerState=G._routerState,Re.snapshot=G.snapshot,Re.outlet=G.outlet,Re.component=G.component,this.currentActivatedRoute$.next({component:w,activatedRoute:G})}}return I.\u0275fac=function(w){return new(w||I)(c.Y36(wt.y6),c.Y36(c.s_b),c.$8M("name"),c.$8M("tabs"),c.Y36(Hi),c.Y36(Is),c.Y36(c._Vd,8),c.Y36(rt.Ye),c.Y36(c.SBq),c.Y36(wt.F0),c.Y36(c.R0b),c.Y36(wt.gz),c.Y36(I,12))},I.\u0275dir=c.lG2({type:I,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",environmentInjector:"environmentInjector"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),I})();class fo{constructor(X,w,G){this.route=X,this.childContexts=w,this.parent=G}get(X,w){return X===wt.gz?this.route:X===wt.y6?this.childContexts:this.parent.get(X,w)}}let Po=(()=>{class I{constructor(w){this.navCtrl=w,this.ionTabsWillChange=new c.vpe,this.ionTabsDidChange=new c.vpe}onPageSelected(w){const G=w.enteringView.stackId;w.tabSwitch&&void 0!==G&&(this.ionTabsWillChange.emit({tab:G}),this.tabBar&&(this.tabBar.selectedTab=G),this.ionTabsDidChange.emit({tab:G}))}select(w){const G="string"==typeof w,Re=G?w:w.detail.tab,Ct=this.outlet.getActiveStackId()===Re,j=`${this.outlet.tabsPrefix}/${Re}`;if(G||w.stopPropagation(),Ct){const F=this.outlet.getActiveStackId(),P=this.outlet.getLastRouteView(F);if((null==P?void 0:P.url)===j)return;const oe=this.outlet.getRootView(Re);return this.navCtrl.navigateRoot(j,Object.assign(Object.assign({},oe&&j===oe.url&&oe.savedExtras),{animated:!0,animationDirection:"back"}))}{const F=this.outlet.getLastRouteView(Re);return this.navCtrl.navigateRoot((null==F?void 0:F.url)||j,Object.assign(Object.assign({},null==F?void 0:F.savedExtras),{animated:!0,animationDirection:"back"}))}}getSelected(){return this.outlet.getActiveStackId()}}return I.\u0275fac=function(w){return new(w||I)(c.Y36(Is))},I.\u0275cmp=c.Xpm({type:I,selectors:[["ion-tabs"]],contentQueries:function(w,G,Re){if(1&w&&c.Suo(Re,ae,5),2&w){let Ct;c.iGM(Ct=c.CRH())&&(G.tabBar=Ct.first)}},viewQuery:function(w,G){if(1&w&&c.Gf(Rt,5,zi),2&w){let Re;c.iGM(Re=c.CRH())&&(G.outlet=Re.first)}},hostBindings:function(w,G){1&w&&c.NdJ("ionTabButtonClick",function(Ct){return G.select(Ct)})},inputs:{environmentInjector:"environmentInjector"},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:qe,decls:5,vars:1,consts:[[1,"tabs-inner"],["tabs","true",3,"environmentInjector","stackEvents"],["outlet",""]],template:function(w,G){1&w&&(c.F$t(qt),c.Hsn(0),c.TgZ(1,"div",0)(2,"ion-router-outlet",1,2),c.NdJ("stackEvents",function(Ct){return G.onPageSelected(Ct)}),c.qZA()(),c.Hsn(4,1)),2&w&&(c.xp6(2),c.Q6J("environmentInjector",G.environmentInjector))},dependencies:[zi],styles:["[_nghost-%COMP%] {\n        display: flex;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n\n        flex-direction: column;\n\n        width: 100%;\n        height: 100%;\n\n        contain: layout size style;\n        z-index: $z-index-page-container;\n      }\n      .tabs-inner[_ngcontent-%COMP%] {\n        position: relative;\n\n        flex: 1;\n\n        contain: layout size style;\n      }"]}),I})(),Ba=(()=>{class I{constructor(w,G,Re){this.routerOutlet=w,this.navCtrl=G,this.config=Re}onClick(w){var G;const Re=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(G=this.routerOutlet)&&void 0!==G&&G.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),w.preventDefault()):null!=Re&&(this.navCtrl.navigateBack(Re,{animation:this.routerAnimation}),w.preventDefault())}}return I.\u0275fac=function(w){return new(w||I)(c.Y36(zi,8),c.Y36(Is),c.Y36(Hi))},I.\u0275dir=c.lG2({type:I,selectors:[["ion-back-button"]],hostBindings:function(w,G){1&w&&c.NdJ("click",function(Ct){return G.onClick(Ct)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),I})(),Us=(()=>{class I{constructor(w,G,Re,Ct,j){this.locationStrategy=w,this.navCtrl=G,this.elementRef=Re,this.router=Ct,this.routerLink=j,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var w;if(null!==(w=this.routerLink)&&void 0!==w&&w.urlTree){const G=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=G}}onClick(w){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),w.preventDefault()}}return I.\u0275fac=function(w){return new(w||I)(c.Y36(rt.S$),c.Y36(Is),c.Y36(c.SBq),c.Y36(wt.F0),c.Y36(wt.rH,8))},I.\u0275dir=c.lG2({type:I,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(w,G){1&w&&c.NdJ("click",function(Ct){return G.onClick(Ct)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[c.TTD]}),I})(),Oi=(()=>{let I=class{constructor(w,G,Re){this.z=Re,this.isCmpOpen=!1,this.el=G.nativeElement,this.el.addEventListener("willPresent",()=>{this.isCmpOpen=!0,w.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,w.detectChanges()}),zn(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}};return I.\u0275fac=function(w){return new(w||I)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},I.\u0275cmp=c.Xpm({type:I,selectors:[["ion-modal"]],contentQueries:function(w,G,Re){if(1&w&&c.Suo(Re,c.Rgc,5),2&w){let Ct;c.iGM(Ct=c.CRH())&&(G.template=Ct.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",swipeToClose:"swipeToClose",translucent:"translucent",trigger:"trigger"},decls:1,vars:1,consts:[["class","ion-page",4,"ngIf"],[1,"ion-page"],[3,"ngTemplateOutlet"]],template:function(w,G){1&w&&c.YNc(0,be,2,1,"div",0),2&w&&c.Q6J("ngIf",G.isCmpOpen||G.keepContentsMounted)},dependencies:[rt.O5,rt.tP],encapsulation:2,changeDetection:0}),I=(0,W.gn)([Yt({inputs:["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","swipeToClose","translucent","trigger"],methods:["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"]})],I),I})(),qs=(()=>{let I=class{constructor(w,G,Re){this.z=Re,this.isCmpOpen=!1,this.el=G.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,w.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,w.detectChanges()}),zn(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}};return I.\u0275fac=function(w){return new(w||I)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},I.\u0275cmp=c.Xpm({type:I,selectors:[["ion-popover"]],contentQueries:function(w,G,Re){if(1&w&&c.Suo(Re,c.Rgc,5),2&w){let Ct;c.iGM(Ct=c.CRH())&&(G.template=Ct.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"},decls:1,vars:1,consts:[[3,"ngTemplateOutlet",4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(w,G){1&w&&c.YNc(0,K,1,1,"ng-container",0),2&w&&c.Q6J("ngIf",G.isCmpOpen||G.keepContentsMounted)},dependencies:[rt.O5,rt.tP],encapsulation:2,changeDetection:0}),I=(0,W.gn)([Yt({inputs:["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],methods:["present","dismiss","onDidDismiss","onWillDismiss"]})],I),I})();class $i{constructor(X){this.ctrl=X}create(X){return this.ctrl.create(X||{})}dismiss(X,w,G){return this.ctrl.dismiss(X,w,G)}getTop(){return this.ctrl.getTop()}}let Ki=(()=>{class I extends $i{constructor(){super(Ve.Cl)}}return I.\u0275fac=function(w){return new(w||I)},I.\u0275prov=c.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})(),la=(()=>{class I extends $i{constructor(){super(Ve.G0)}}return I.\u0275fac=function(w){return new(w||I)},I.\u0275prov=c.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();class As{}let xi=(()=>{class I extends $i{constructor(w,G,Re,Ct){super(Ve.Fy),this.angularDelegate=w,this.resolver=G,this.injector=Re,this.environmentInjector=Ct}create(w){var G;return super.create(Object.assign(Object.assign({},w),{delegate:this.angularDelegate.create(null!==(G=this.resolver)&&void 0!==G?G:this.environmentInjector,this.injector,void 0,"modal")}))}}return I.\u0275fac=function(w){return new(w||I)(c.LFG(mn),c.LFG(c._Vd),c.LFG(c.zs3),c.LFG(As,8))},I.\u0275prov=c.Yz7({token:I,factory:I.\u0275fac}),I})(),Xi=(()=>{class I extends $i{constructor(w,G,Re,Ct){super(Ve.oq),this.angularDelegate=w,this.resolver=G,this.injector=Re,this.environmentInjector=Ct}create(w){var G;return super.create(Object.assign(Object.assign({},w),{delegate:this.angularDelegate.create(null!==(G=this.resolver)&&void 0!==G?G:this.environmentInjector,this.injector,void 0,"popover")}))}}return I.\u0275fac=function(w){return new(w||I)(c.LFG(mn),c.LFG(c._Vd),c.LFG(c.zs3),c.LFG(As,8))},I.\u0275prov=c.Yz7({token:I,factory:I.\u0275fac}),I})(),go=(()=>{class I extends $i{constructor(){super(Ve.Mn)}}return I.\u0275fac=function(w){return new(w||I)},I.\u0275prov=c.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();class Ei{shouldDetach(X){return!1}shouldAttach(X){return!1}store(X,w){}retrieve(X){return null}shouldReuseRoute(X,w){if(X.routeConfig!==w.routeConfig)return!1;const G=X.params,Re=w.params,Ct=Object.keys(G),j=Object.keys(Re);if(Ct.length!==j.length)return!1;for(const F of Ct)if(Re[F]!==G[F])return!1;return!0}}const ua=(I,X,w)=>()=>{if(X.defaultView&&typeof window<"u"){(0,Ve.qc)(Object.assign(Object.assign({},I),{_zoneGate:Ct=>w.run(Ct)}));const Re="__zone_symbol__addEventListener"in X.body?"__zone_symbol__addEventListener":"addEventListener";return function ie(){var I=[];if(typeof window<"u"){var X=window;(!X.customElements||X.Element&&(!X.Element.prototype.closest||!X.Element.prototype.matches||!X.Element.prototype.remove||!X.Element.prototype.getRootNode))&&I.push($.e(6748).then($.t.bind($,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||X.NodeList&&!X.NodeList.prototype.forEach||!X.fetch||!function(){try{var G=new URL("b","http://a");return G.pathname="c%20d","http://a/c%20d"===G.href&&G.searchParams}catch(Re){return!1}}()||typeof WeakMap>"u")&&I.push($.e(2214).then($.t.bind($,4144,23)))}return Promise.all(I)}().then(()=>((I,X)=>typeof window>"u"?Promise.resolve():(0,ut.p)().then(()=>(B(),(0,ut.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"activated":[32]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),X))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:le,jmp:Ct=>w.runOutsideAngular(Ct),ael(Ct,j,F,P){Ct[Re](j,F,P)},rel(Ct,j,F,P){Ct.removeEventListener(j,F,P)}}))}};let Qi=(()=>{class I{static forRoot(w){return{ngModule:I,providers:[{provide:Gi,useValue:w},{provide:c.ip1,useFactory:ua,multi:!0,deps:[Gi,rt.K0,c.R0b]}]}}}return I.\u0275fac=function(w){return new(w||I)},I.\u0275mod=c.oAB({type:I}),I.\u0275inj=c.cJS({providers:[mn,xi,Xi],imports:[[rt.ez]]}),I})()},181:(gn,_t,$)=>{"use strict";$.d(_t,{c:()=>lt});var c=$(5730),ne=$(3457);let W;const Le=at=>at.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),He=at=>{if(void 0===W){const Ce=void 0!==at.style.webkitAnimationName;W=void 0===at.style.animationName&&Ce?"-webkit-":""}return W},we=(at,ye,Ce)=>{const wt=ye.startsWith("animation")?He(at):"";at.style.setProperty(wt+ye,Ce)},Se=(at,ye)=>{const Ce=ye.startsWith("animation")?He(at):"";at.style.removeProperty(Ce+ye)},de=[],vt=(at=[],ye)=>{if(void 0!==ye){const Ce=Array.isArray(ye)?ye:[ye];return[...at,...Ce]}return at},lt=at=>{let ye,Ce,wt,Ve,tt,Ke,he,be,K,le,ve,Ot,Bt,Ne=[],rt=[],ie=[],ut=!1,B={},ke=[],Oe=[],et={},Rt=0,qt=!1,qe=!1,Me=!0,Be=!1,At=!0,Ht=!1;const An=at,vn=[],Pn=[],Fn=[],rn=[],En=[],zn=[],Or=[],Yt=[],wn=[],fr=[],ni="function"==typeof AnimationEffect||void 0!==ne.w&&"function"==typeof ne.w.AnimationEffect,wr="function"==typeof Element&&"function"==typeof Element.prototype.animate&&ni,ci=()=>fr,Jr=(ue,Fe)=>((null!=Fe&&Fe.oneTimeCallback?Pn:vn).push({c:ue,o:Fe}),Bt),Sr=()=>{if(wr)fr.forEach(ue=>{ue.cancel()}),fr.length=0;else{const ue=Fn.slice();(0,c.r)(()=>{ue.forEach(Fe=>{Se(Fe,"animation-name"),Se(Fe,"animation-duration"),Se(Fe,"animation-timing-function"),Se(Fe,"animation-iteration-count"),Se(Fe,"animation-delay"),Se(Fe,"animation-play-state"),Se(Fe,"animation-fill-mode"),Se(Fe,"animation-direction")})})}},Gr=()=>{En.forEach(ue=>{null!=ue&&ue.parentNode&&ue.parentNode.removeChild(ue)}),En.length=0},hr=()=>void 0!==tt?tt:he?he.getFill():"both",ot=()=>void 0!==K?K:void 0!==Ke?Ke:he?he.getDirection():"normal",Ze=()=>qt?"linear":void 0!==wt?wt:he?he.getEasing():"linear",ht=()=>qe?0:void 0!==le?le:void 0!==Ce?Ce:he?he.getDuration():0,Pt=()=>void 0!==Ve?Ve:he?he.getIterations():1,Mt=()=>void 0!==ve?ve:void 0!==ye?ye:he?he.getDelay():0,Cn=()=>{0!==Rt&&(Rt--,0===Rt&&((()=>{Tr(),Yt.forEach(bt=>bt()),wn.forEach(bt=>bt());const ue=Me?1:0,Fe=ke,We=Oe,dt=et;Fn.forEach(bt=>{const Kt=bt.classList;Fe.forEach(sn=>Kt.add(sn)),We.forEach(sn=>Kt.remove(sn));for(const sn in dt)dt.hasOwnProperty(sn)&&we(bt,sn,dt[sn])}),vn.forEach(bt=>bt.c(ue,Bt)),Pn.forEach(bt=>bt.c(ue,Bt)),Pn.length=0,At=!0,Me&&(Be=!0),Me=!0})(),he&&he.animationFinish()))},hn=(ue=!0)=>{Gr();const Fe=(at=>(at.forEach(ye=>{for(const Ce in ye)if(ye.hasOwnProperty(Ce)){const wt=ye[Ce];if("easing"===Ce)ye["animation-timing-function"]=wt,delete ye[Ce];else{const Ve=Le(Ce);Ve!==Ce&&(ye[Ve]=wt,delete ye[Ce])}}}),at))(Ne);Fn.forEach(We=>{if(Fe.length>0){const dt=((at=[])=>at.map(ye=>{const Ce=ye.offset,wt=[];for(const Ve in ye)ye.hasOwnProperty(Ve)&&"offset"!==Ve&&wt.push(`${Ve}: ${ye[Ve]};`);return`${100*Ce}% { ${wt.join(" ")} }`}).join(" "))(Fe);Ot=void 0!==at?at:(at=>{let ye=de.indexOf(at);return ye<0&&(ye=de.push(at)-1),`ion-animation-${ye}`})(dt);const bt=((at,ye,Ce)=>{var wt;const Ve=(at=>{const ye=void 0!==at.getRootNode?at.getRootNode():at;return ye.head||ye})(Ce),tt=He(Ce),Ke=Ve.querySelector("#"+at);if(Ke)return Ke;const Ne=(null!==(wt=Ce.ownerDocument)&&void 0!==wt?wt:document).createElement("style");return Ne.id=at,Ne.textContent=`@${tt}keyframes ${at} { ${ye} } @${tt}keyframes ${at}-alt { ${ye} }`,Ve.appendChild(Ne),Ne})(Ot,dt,We);En.push(bt),we(We,"animation-duration",`${ht()}ms`),we(We,"animation-timing-function",Ze()),we(We,"animation-delay",`${Mt()}ms`),we(We,"animation-fill-mode",hr()),we(We,"animation-direction",ot());const Kt=Pt()===1/0?"infinite":Pt().toString();we(We,"animation-iteration-count",Kt),we(We,"animation-play-state","paused"),ue&&we(We,"animation-name",`${bt.id}-alt`),(0,c.r)(()=>{we(We,"animation-name",bt.id||null)})}})},Dr=(ue=!0)=>{(()=>{zn.forEach(dt=>dt()),Or.forEach(dt=>dt());const ue=rt,Fe=ie,We=B;Fn.forEach(dt=>{const bt=dt.classList;ue.forEach(Kt=>bt.add(Kt)),Fe.forEach(Kt=>bt.remove(Kt));for(const Kt in We)We.hasOwnProperty(Kt)&&we(dt,Kt,We[Kt])})})(),Ne.length>0&&(wr?(Fn.forEach(ue=>{const Fe=ue.animate(Ne,{id:An,delay:Mt(),duration:ht(),easing:Ze(),iterations:Pt(),fill:hr(),direction:ot()});Fe.pause(),fr.push(Fe)}),fr.length>0&&(fr[0].onfinish=()=>{Cn()})):hn(ue)),ut=!0},Yr=ue=>{if(ue=Math.min(Math.max(ue,0),.9999),wr)fr.forEach(Fe=>{Fe.currentTime=Fe.effect.getComputedTiming().delay+ht()*ue,Fe.pause()});else{const Fe=`-${ht()*ue}ms`;Fn.forEach(We=>{Ne.length>0&&(we(We,"animation-delay",Fe),we(We,"animation-play-state","paused"))})}},di=ue=>{fr.forEach(Fe=>{Fe.effect.updateTiming({delay:Mt(),duration:ht(),easing:Ze(),iterations:Pt(),fill:hr(),direction:ot()})}),void 0!==ue&&Yr(ue)},mr=(ue=!0,Fe)=>{(0,c.r)(()=>{Fn.forEach(We=>{we(We,"animation-name",Ot||null),we(We,"animation-duration",`${ht()}ms`),we(We,"animation-timing-function",Ze()),we(We,"animation-delay",void 0!==Fe?`-${Fe*ht()}ms`:`${Mt()}ms`),we(We,"animation-fill-mode",hr()||null),we(We,"animation-direction",ot()||null);const dt=Pt()===1/0?"infinite":Pt().toString();we(We,"animation-iteration-count",dt),ue&&we(We,"animation-name",`${Ot}-alt`),(0,c.r)(()=>{we(We,"animation-name",Ot||null)})})})},Er=(ue=!1,Fe=!0,We)=>(ue&&rn.forEach(dt=>{dt.update(ue,Fe,We)}),wr?di(We):mr(Fe,We),Bt),hi=()=>{ut&&(wr?fr.forEach(ue=>{ue.pause()}):Fn.forEach(ue=>{we(ue,"animation-play-state","paused")}),Ht=!0)},ir=()=>{be=void 0,Cn()},Tr=()=>{be&&clearTimeout(be)},N=ue=>new Promise(Fe=>{null!=ue&&ue.sync&&(qe=!0,Jr(()=>qe=!1,{oneTimeCallback:!0})),ut||Dr(),Be&&(wr?(Yr(0),di()):mr(),Be=!1),At&&(Rt=rn.length+1,At=!1),Jr(()=>Fe(),{oneTimeCallback:!0}),rn.forEach(We=>{We.play()}),wr?(fr.forEach(ue=>{ue.play()}),(0===Ne.length||0===Fn.length)&&Cn()):(()=>{if(Tr(),(0,c.r)(()=>{Fn.forEach(ue=>{Ne.length>0&&we(ue,"animation-play-state","running")})}),0===Ne.length||0===Fn.length)Cn();else{const ue=Mt()||0,Fe=ht()||0,We=Pt()||1;isFinite(We)&&(be=setTimeout(ir,ue+Fe*We+100)),((at,ye)=>{let Ce;const wt={passive:!0},tt=Ke=>{at===Ke.target&&(Ce&&Ce(),Tr(),(0,c.r)(()=>{Fn.forEach(ue=>{Se(ue,"animation-duration"),Se(ue,"animation-delay"),Se(ue,"animation-play-state")}),(0,c.r)(Cn)}))};at&&(at.addEventListener("webkitAnimationEnd",tt,wt),at.addEventListener("animationend",tt,wt),Ce=()=>{at.removeEventListener("webkitAnimationEnd",tt,wt),at.removeEventListener("animationend",tt,wt)})})(Fn[0])}})(),Ht=!1}),me=(ue,Fe)=>{const We=Ne[0];return void 0===We||void 0!==We.offset&&0!==We.offset?Ne=[{offset:0,[ue]:Fe},...Ne]:We[ue]=Fe,Bt};return Bt={parentAnimation:he,elements:Fn,childAnimations:rn,id:An,animationFinish:Cn,from:me,to:(ue,Fe)=>{const We=Ne[Ne.length-1];return void 0===We||void 0!==We.offset&&1!==We.offset?Ne=[...Ne,{offset:1,[ue]:Fe}]:We[ue]=Fe,Bt},fromTo:(ue,Fe,We)=>me(ue,Fe).to(ue,We),parent:ue=>(he=ue,Bt),play:N,pause:()=>(rn.forEach(ue=>{ue.pause()}),hi(),Bt),stop:()=>{rn.forEach(ue=>{ue.stop()}),ut&&(Sr(),ut=!1),qt=!1,qe=!1,At=!0,K=void 0,le=void 0,ve=void 0,Rt=0,Be=!1,Me=!0,Ht=!1},destroy:ue=>(rn.forEach(Fe=>{Fe.destroy(ue)}),(ue=>{Sr(),ue&&Gr()})(ue),Fn.length=0,rn.length=0,Ne.length=0,vn.length=0,Pn.length=0,ut=!1,At=!0,Bt),keyframes:ue=>{const Fe=Ne!==ue;return Ne=ue,Fe&&(ue=>{wr?ci().forEach(Fe=>{if(Fe.effect.setKeyframes)Fe.effect.setKeyframes(ue);else{const We=new KeyframeEffect(Fe.effect.target,ue,Fe.effect.getTiming());Fe.effect=We}}):hn()})(Ne),Bt},addAnimation:ue=>{if(null!=ue)if(Array.isArray(ue))for(const Fe of ue)Fe.parent(Bt),rn.push(Fe);else ue.parent(Bt),rn.push(ue);return Bt},addElement:ue=>{if(null!=ue)if(1===ue.nodeType)Fn.push(ue);else if(ue.length>=0)for(let Fe=0;Fe<ue.length;Fe++)Fn.push(ue[Fe]);else console.error("Invalid addElement value");return Bt},update:Er,fill:ue=>(tt=ue,Er(!0),Bt),direction:ue=>(Ke=ue,Er(!0),Bt),iterations:ue=>(Ve=ue,Er(!0),Bt),duration:ue=>(!wr&&0===ue&&(ue=1),Ce=ue,Er(!0),Bt),easing:ue=>(wt=ue,Er(!0),Bt),delay:ue=>(ye=ue,Er(!0),Bt),getWebAnimations:ci,getKeyframes:()=>Ne,getFill:hr,getDirection:ot,getDelay:Mt,getIterations:Pt,getEasing:Ze,getDuration:ht,afterAddRead:ue=>(Yt.push(ue),Bt),afterAddWrite:ue=>(wn.push(ue),Bt),afterClearStyles:(ue=[])=>{for(const Fe of ue)et[Fe]="";return Bt},afterStyles:(ue={})=>(et=ue,Bt),afterRemoveClass:ue=>(Oe=vt(Oe,ue),Bt),afterAddClass:ue=>(ke=vt(ke,ue),Bt),beforeAddRead:ue=>(zn.push(ue),Bt),beforeAddWrite:ue=>(Or.push(ue),Bt),beforeClearStyles:(ue=[])=>{for(const Fe of ue)B[Fe]="";return Bt},beforeStyles:(ue={})=>(B=ue,Bt),beforeRemoveClass:ue=>(ie=vt(ie,ue),Bt),beforeAddClass:ue=>(rt=vt(rt,ue),Bt),onFinish:Jr,isRunning:()=>0!==Rt&&!Ht,progressStart:(ue=!1,Fe)=>(rn.forEach(We=>{We.progressStart(ue,Fe)}),hi(),qt=ue,ut||Dr(),Er(!1,!0,Fe),Bt),progressStep:ue=>(rn.forEach(Fe=>{Fe.progressStep(ue)}),Yr(ue),Bt),progressEnd:(ue,Fe,We)=>(qt=!1,rn.forEach(dt=>{dt.progressEnd(ue,Fe,We)}),void 0!==We&&(le=We),Be=!1,Me=!0,0===ue?(K="reverse"===ot()?"normal":"reverse","reverse"===K&&(Me=!1),wr?(Er(),Yr(1-Fe)):(ve=(1-Fe)*ht()*-1,Er(!1,!1))):1===ue&&(wr?(Er(),Yr(Fe)):(ve=Fe*ht()*-1,Er(!1,!1))),void 0!==ue&&(Jr(()=>{le=void 0,K=void 0,ve=void 0},{oneTimeCallback:!0}),he||N()),Bt)}}},4349:(gn,_t,$)=>{"use strict";$.d(_t,{G:()=>Le});class ne{constructor(we,Se,$e,xe,de){this.id=Se,this.name=$e,this.disableScroll=de,this.priority=1e6*xe+Se,this.ctrl=we}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const we=this.ctrl.capture(this.name,this.id,this.priority);return we&&this.disableScroll&&this.ctrl.disableScroll(this.id),we}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class W{constructor(we,Se,$e,xe){this.id=Se,this.disable=$e,this.disableScroll=xe,this.ctrl=we}block(){if(this.ctrl){if(this.disable)for(const we of this.disable)this.ctrl.disableGesture(we,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const we of this.disable)this.ctrl.enableGesture(we,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Ue="backdrop-no-scroll",Le=new class c{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(we){var Se;return new ne(this,this.newID(),we.name,null!==(Se=we.priority)&&void 0!==Se?Se:0,!!we.disableScroll)}createBlocker(we={}){return new W(this,this.newID(),we.disable,!!we.disableScroll)}start(we,Se,$e){return this.canStart(we)?(this.requestedStart.set(Se,$e),!0):(this.requestedStart.delete(Se),!1)}capture(we,Se,$e){if(!this.start(we,Se,$e))return!1;const xe=this.requestedStart;let de=-1e4;if(xe.forEach(Te=>{de=Math.max(de,Te)}),de===$e){this.capturedId=Se,xe.clear();const Te=new CustomEvent("ionGestureCaptured",{detail:{gestureName:we}});return document.dispatchEvent(Te),!0}return xe.delete(Se),!1}release(we){this.requestedStart.delete(we),this.capturedId===we&&(this.capturedId=void 0)}disableGesture(we,Se){let $e=this.disabledGestures.get(we);void 0===$e&&($e=new Set,this.disabledGestures.set(we,$e)),$e.add(Se)}enableGesture(we,Se){const $e=this.disabledGestures.get(we);void 0!==$e&&$e.delete(Se)}disableScroll(we){this.disabledScroll.add(we),1===this.disabledScroll.size&&document.body.classList.add(Ue)}enableScroll(we){this.disabledScroll.delete(we),0===this.disabledScroll.size&&document.body.classList.remove(Ue)}canStart(we){return!(void 0!==this.capturedId||this.isDisabled(we))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(we){const Se=this.disabledGestures.get(we);return!!(Se&&Se.size>0)}newID(){return this.gestureId++,this.gestureId}}},7593:(gn,_t,$)=>{"use strict";$.r(_t),$.d(_t,{MENU_BACK_BUTTON_PRIORITY:()=>Le,OVERLAY_BACK_BUTTON_PRIORITY:()=>Ue,blockHardwareBackButton:()=>ne,startHardwareBackButton:()=>W});var c=$(5861);const ne=()=>{document.addEventListener("backbutton",()=>{})},W=()=>{const He=document;let we=!1;He.addEventListener("backbutton",()=>{if(we)return;let Se=0,$e=[];const xe=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(ze,Xe){$e.push({priority:ze,handler:Xe,id:Se++})}}});He.dispatchEvent(xe);const de=function(){var ze=(0,c.Z)(function*(Xe){try{if(null!=Xe&&Xe.handler){const vt=Xe.handler(Te);null!=vt&&(yield vt)}}catch(vt){console.error(vt)}});return function(vt){return ze.apply(this,arguments)}}(),Te=()=>{if($e.length>0){let ze={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};$e.forEach(Xe=>{Xe.priority>=ze.priority&&(ze=Xe)}),we=!0,$e=$e.filter(Xe=>Xe.id!==ze.id),de(ze).then(()=>we=!1)}};Te()})},Ue=100,Le=99},5730:(gn,_t,$)=>{"use strict";$.d(_t,{a:()=>we,b:()=>Se,c:()=>W,d:()=>Xe,e:()=>vt,f:()=>ze,g:()=>$e,h:()=>Ve,i:()=>He,j:()=>Ue,k:()=>Te,l:()=>lt,m:()=>de,n:()=>at,o:()=>wt,p:()=>Ce,q:()=>tt,r:()=>xe,s:()=>Ke,t:()=>c,u:()=>ye});const c=(Ne,rt=0)=>new Promise(ie=>{ne(Ne,rt,ie)}),ne=(Ne,rt=0,ie)=>{let ut,he;const B={passive:!0},Oe=()=>{ut&&ut()},et=Rt=>{(void 0===Rt||Ne===Rt.target)&&(Oe(),ie(Rt))};return Ne&&(Ne.addEventListener("webkitTransitionEnd",et,B),Ne.addEventListener("transitionend",et,B),he=setTimeout(et,rt+500),ut=()=>{he&&(clearTimeout(he),he=void 0),Ne.removeEventListener("webkitTransitionEnd",et,B),Ne.removeEventListener("transitionend",et,B)}),Oe},W=(Ne,rt)=>{Ne.componentOnReady?Ne.componentOnReady().then(ie=>rt(ie)):xe(()=>rt(Ne))},Ue=(Ne,rt=[])=>{const ie={};return rt.forEach(ut=>{Ne.hasAttribute(ut)&&(null!==Ne.getAttribute(ut)&&(ie[ut]=Ne.getAttribute(ut)),Ne.removeAttribute(ut))}),ie},Le=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],He=(Ne,rt)=>{let ie=Le;return rt&&rt.length>0&&(ie=ie.filter(ut=>!rt.includes(ut))),Ue(Ne,ie)},we=(Ne,rt,ie,ut)=>{var he;if(typeof window<"u"){const B=window,ke=null===(he=null==B?void 0:B.Ionic)||void 0===he?void 0:he.config;if(ke){const Oe=ke.get("_ael");if(Oe)return Oe(Ne,rt,ie,ut);if(ke._ael)return ke._ael(Ne,rt,ie,ut)}}return Ne.addEventListener(rt,ie,ut)},Se=(Ne,rt,ie,ut)=>{var he;if(typeof window<"u"){const B=window,ke=null===(he=null==B?void 0:B.Ionic)||void 0===he?void 0:he.config;if(ke){const Oe=ke.get("_rel");if(Oe)return Oe(Ne,rt,ie,ut);if(ke._rel)return ke._rel(Ne,rt,ie,ut)}}return Ne.removeEventListener(rt,ie,ut)},$e=(Ne,rt=Ne)=>Ne.shadowRoot||rt,xe=Ne=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Ne):"function"==typeof requestAnimationFrame?requestAnimationFrame(Ne):setTimeout(Ne),de=Ne=>!!Ne.shadowRoot&&!!Ne.attachShadow,Te=Ne=>{const rt=Ne.closest("ion-item");return rt?rt.querySelector("ion-label"):null},ze=Ne=>{if(Ne.focus(),Ne.classList.contains("ion-focusable")){const rt=Ne.closest("ion-app");rt&&rt.setFocus([Ne])}},Xe=(Ne,rt)=>{let ie;const ut=Ne.getAttribute("aria-labelledby"),he=Ne.id;let B=null!==ut&&""!==ut.trim()?ut:rt+"-lbl",ke=null!==ut&&""!==ut.trim()?document.getElementById(ut):Te(Ne);return ke?(null===ut&&(ke.id=B),ie=ke.textContent,ke.setAttribute("aria-hidden","true")):""!==he.trim()&&(ke=document.querySelector(`label[for="${he}"]`),ke&&(""!==ke.id?B=ke.id:ke.id=B=`${he}-lbl`,ie=ke.textContent)),{label:ke,labelId:B,labelText:ie}},vt=(Ne,rt,ie,ut,he)=>{if(Ne||de(rt)){let B=rt.querySelector("input.aux-input");B||(B=rt.ownerDocument.createElement("input"),B.type="hidden",B.classList.add("aux-input"),rt.appendChild(B)),B.disabled=he,B.name=ie,B.value=ut||""}},lt=(Ne,rt,ie)=>Math.max(Ne,Math.min(rt,ie)),at=(Ne,rt)=>{if(!Ne){const ie="ASSERT: "+rt;throw console.error(ie),new Error(ie)}},ye=Ne=>Ne.timeStamp||Date.now(),Ce=Ne=>{if(Ne){const rt=Ne.changedTouches;if(rt&&rt.length>0){const ie=rt[0];return{x:ie.clientX,y:ie.clientY}}if(void 0!==Ne.pageX)return{x:Ne.pageX,y:Ne.pageY}}return{x:0,y:0}},wt=Ne=>{const rt="rtl"===document.dir;switch(Ne){case"start":return rt;case"end":return!rt;default:throw new Error(`"${Ne}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Ve=(Ne,rt)=>{const ie=Ne._original||Ne;return{_original:Ne,emit:tt(ie.emit.bind(ie),rt)}},tt=(Ne,rt=0)=>{let ie;return(...ut)=>{clearTimeout(ie),ie=setTimeout(Ne,rt,...ut)}},Ke=(Ne,rt)=>{if(null!=Ne||(Ne={}),null!=rt||(rt={}),Ne===rt)return!0;const ie=Object.keys(Ne);if(ie.length!==Object.keys(rt).length)return!1;for(const ut of ie)if(!(ut in rt)||Ne[ut]!==rt[ut])return!1;return!0}},1843:(gn,_t,$)=>{"use strict";$.d(_t,{L:()=>Ue,a:()=>Le,b:()=>He,c:()=>we,d:()=>Se,e:()=>rt,g:()=>he,l:()=>Ke,s:()=>ie,t:()=>de});var c=$(5861),ne=$(1308),W=$(5730);const Ue="ionViewWillEnter",Le="ionViewDidEnter",He="ionViewWillLeave",we="ionViewDidLeave",Se="ionViewWillUnload",de=B=>new Promise((ke,Oe)=>{(0,ne.c)(()=>{Te(B),ze(B).then(et=>{et.animation&&et.animation.destroy(),Xe(B),ke(et)},et=>{Xe(B),Oe(et)})})}),Te=B=>{const ke=B.enteringEl,Oe=B.leavingEl;ut(ke,Oe,B.direction),B.showGoBack?ke.classList.add("can-go-back"):ke.classList.remove("can-go-back"),ie(ke,!1),ke.style.setProperty("pointer-events","none"),Oe&&(ie(Oe,!1),Oe.style.setProperty("pointer-events","none"))},ze=function(){var B=(0,c.Z)(function*(ke){const Oe=yield vt(ke);return Oe&&ne.B.isBrowser?lt(Oe,ke):at(ke)});return function(Oe){return B.apply(this,arguments)}}(),Xe=B=>{const ke=B.enteringEl,Oe=B.leavingEl;ke.classList.remove("ion-page-invisible"),ke.style.removeProperty("pointer-events"),void 0!==Oe&&(Oe.classList.remove("ion-page-invisible"),Oe.style.removeProperty("pointer-events"))},vt=function(){var B=(0,c.Z)(function*(ke){return ke.leavingEl&&ke.animated&&0!==ke.duration?ke.animationBuilder?ke.animationBuilder:"ios"===ke.mode?(yield Promise.resolve().then($.bind($,6439))).iosTransitionAnimation:(yield Promise.resolve().then($.bind($,7838))).mdTransitionAnimation:void 0});return function(Oe){return B.apply(this,arguments)}}(),lt=function(){var B=(0,c.Z)(function*(ke,Oe){yield ye(Oe,!0);const et=ke(Oe.baseEl,Oe);Ve(Oe.enteringEl,Oe.leavingEl);const Rt=yield wt(et,Oe);return Oe.progressCallback&&Oe.progressCallback(void 0),Rt&&tt(Oe.enteringEl,Oe.leavingEl),{hasCompleted:Rt,animation:et}});return function(Oe,et){return B.apply(this,arguments)}}(),at=function(){var B=(0,c.Z)(function*(ke){const Oe=ke.enteringEl,et=ke.leavingEl;return yield ye(ke,!1),Ve(Oe,et),tt(Oe,et),{hasCompleted:!0}});return function(Oe){return B.apply(this,arguments)}}(),ye=function(){var B=(0,c.Z)(function*(ke,Oe){const Rt=(void 0!==ke.deepWait?ke.deepWait:Oe)?[rt(ke.enteringEl),rt(ke.leavingEl)]:[Ne(ke.enteringEl),Ne(ke.leavingEl)];yield Promise.all(Rt),yield Ce(ke.viewIsReady,ke.enteringEl)});return function(Oe,et){return B.apply(this,arguments)}}(),Ce=function(){var B=(0,c.Z)(function*(ke,Oe){ke&&(yield ke(Oe))});return function(Oe,et){return B.apply(this,arguments)}}(),wt=(B,ke)=>{const Oe=ke.progressCallback,et=new Promise(Rt=>{B.onFinish(qt=>Rt(1===qt))});return Oe?(B.progressStart(!0),Oe(B)):B.play(),et},Ve=(B,ke)=>{Ke(ke,He),Ke(B,Ue)},tt=(B,ke)=>{Ke(B,Le),Ke(ke,we)},Ke=(B,ke)=>{if(B){const Oe=new CustomEvent(ke,{bubbles:!1,cancelable:!1});B.dispatchEvent(Oe)}},Ne=B=>B?new Promise(ke=>(0,W.c)(B,ke)):Promise.resolve(),rt=function(){var B=(0,c.Z)(function*(ke){const Oe=ke;if(Oe){if(null!=Oe.componentOnReady){if(null!=(yield Oe.componentOnReady()))return}else if(null!=Oe.__registerHost)return void(yield new Promise(Rt=>(0,W.r)(Rt)));yield Promise.all(Array.from(Oe.children).map(rt))}});return function(Oe){return B.apply(this,arguments)}}(),ie=(B,ke)=>{ke?(B.setAttribute("aria-hidden","true"),B.classList.add("ion-page-hidden")):(B.hidden=!1,B.removeAttribute("aria-hidden"),B.classList.remove("ion-page-hidden"))},ut=(B,ke,Oe)=>{void 0!==B&&(B.style.zIndex="back"===Oe?"99":"101"),void 0!==ke&&(ke.style.zIndex="100")},he=B=>B.classList.contains("ion-page")?B:B.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||B},6369:(gn,_t,$)=>{"use strict";$.d(_t,{m:()=>de});var c=$(5861),ne=$(7593),W=$(5730),Ue=$(5179),Le=$(181);const He=Te=>(0,Le.c)().duration(Te?400:300),we=Te=>{let ze,Xe;const vt=Te.width+8,lt=(0,Le.c)(),at=(0,Le.c)();Te.isEndSide?(ze=vt+"px",Xe="0px"):(ze=-vt+"px",Xe="0px"),lt.addElement(Te.menuInnerEl).fromTo("transform",`translateX(${ze})`,`translateX(${Xe})`);const Ce="ios"===(0,Ue.b)(Te),wt=Ce?.2:.25;return at.addElement(Te.backdropEl).fromTo("opacity",.01,wt),He(Ce).addAnimation([lt,at])},Se=Te=>{let ze,Xe;const vt=(0,Ue.b)(Te),lt=Te.width;Te.isEndSide?(ze=-lt+"px",Xe=lt+"px"):(ze=lt+"px",Xe=-lt+"px");const at=(0,Le.c)().addElement(Te.menuInnerEl).fromTo("transform",`translateX(${Xe})`,"translateX(0px)"),ye=(0,Le.c)().addElement(Te.contentEl).fromTo("transform","translateX(0px)",`translateX(${ze})`),Ce=(0,Le.c)().addElement(Te.backdropEl).fromTo("opacity",.01,.32);return He("ios"===vt).addAnimation([at,ye,Ce])},$e=Te=>{const ze=(0,Ue.b)(Te),Xe=Te.width*(Te.isEndSide?-1:1)+"px",vt=(0,Le.c)().addElement(Te.contentEl).fromTo("transform","translateX(0px)",`translateX(${Xe})`);return He("ios"===ze).addAnimation(vt)},de=(()=>{const Te=new Map,ze=[],Xe=function(){var be=(0,c.Z)(function*(K){const le=yield Ve(K);return!!le&&le.open()});return function(le){return be.apply(this,arguments)}}(),vt=function(){var be=(0,c.Z)(function*(K){const le=yield void 0!==K?Ve(K):tt();return void 0!==le&&le.close()});return function(le){return be.apply(this,arguments)}}(),lt=function(){var be=(0,c.Z)(function*(K){const le=yield Ve(K);return!!le&&le.toggle()});return function(le){return be.apply(this,arguments)}}(),at=function(){var be=(0,c.Z)(function*(K,le){const ve=yield Ve(le);return ve&&(ve.disabled=!K),ve});return function(le,ve){return be.apply(this,arguments)}}(),ye=function(){var be=(0,c.Z)(function*(K,le){const ve=yield Ve(le);return ve&&(ve.swipeGesture=K),ve});return function(le,ve){return be.apply(this,arguments)}}(),Ce=function(){var be=(0,c.Z)(function*(K){if(null!=K){const le=yield Ve(K);return void 0!==le&&le.isOpen()}return void 0!==(yield tt())});return function(le){return be.apply(this,arguments)}}(),wt=function(){var be=(0,c.Z)(function*(K){const le=yield Ve(K);return!!le&&!le.disabled});return function(le){return be.apply(this,arguments)}}(),Ve=function(){var be=(0,c.Z)(function*(K){return yield qe(),"start"===K||"end"===K?qt(Me=>Me.side===K&&!Me.disabled)||qt(Me=>Me.side===K):null!=K?qt(ve=>ve.menuId===K):qt(ve=>!ve.disabled)||(ze.length>0?ze[0].el:void 0)});return function(le){return be.apply(this,arguments)}}(),tt=function(){var be=(0,c.Z)(function*(){return yield qe(),Oe()});return function(){return be.apply(this,arguments)}}(),Ke=function(){var be=(0,c.Z)(function*(){return yield qe(),et()});return function(){return be.apply(this,arguments)}}(),Ne=function(){var be=(0,c.Z)(function*(){return yield qe(),Rt()});return function(){return be.apply(this,arguments)}}(),rt=(be,K)=>{Te.set(be,K)},he=be=>{const K=be.side;ze.filter(le=>le.side===K&&le!==be).forEach(le=>le.disabled=!0)},B=function(){var be=(0,c.Z)(function*(K,le,ve){if(Rt())return!1;if(le){const Me=yield tt();Me&&K.el!==Me&&(yield Me.setOpen(!1,!1))}return K._setOpen(le,ve)});return function(le,ve,Me){return be.apply(this,arguments)}}(),Oe=()=>qt(be=>be._isOpen),et=()=>ze.map(be=>be.el),Rt=()=>ze.some(be=>be.isAnimating),qt=be=>{const K=ze.find(be);if(void 0!==K)return K.el},qe=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(be=>new Promise(K=>(0,W.c)(be,K))));return rt("reveal",$e),rt("push",Se),rt("overlay",we),typeof document<"u"&&document.addEventListener("ionBackButton",be=>{const K=Oe();K&&be.detail.register(ne.MENU_BACK_BUTTON_PRIORITY,()=>K.close())}),{registerAnimation:rt,get:Ve,getMenus:Ke,getOpen:tt,isEnabled:wt,swipeGesture:ye,isAnimating:Ne,isOpen:Ce,enable:at,toggle:lt,close:vt,open:Xe,_getOpenSync:Oe,_createAnimation:(be,K)=>{const le=Te.get(be);if(!le)throw new Error("animation not registered");return le(K)},_register:be=>{ze.indexOf(be)<0&&(be.disabled||he(be),ze.push(be))},_unregister:be=>{const K=ze.indexOf(be);K>-1&&ze.splice(K,1)},_setOpen:B,_setActiveMenu:he}})()},3457:(gn,_t,$)=>{"use strict";$.d(_t,{w:()=>c});const c=typeof window<"u"?window:void 0},1898:(gn,_t,$)=>{"use strict";$.r(_t),$.d(_t,{GESTURE_CONTROLLER:()=>c.G,createGesture:()=>$e});var c=$(4349);const ne=(ze,Xe,vt,lt)=>{const at=W(ze)?{capture:!!lt.capture,passive:!!lt.passive}:!!lt.capture;let ye,Ce;return ze.__zone_symbol__addEventListener?(ye="__zone_symbol__addEventListener",Ce="__zone_symbol__removeEventListener"):(ye="addEventListener",Ce="removeEventListener"),ze[ye](Xe,vt,at),()=>{ze[Ce](Xe,vt,at)}},W=ze=>{if(void 0===Ue)try{const Xe=Object.defineProperty({},"passive",{get:()=>{Ue=!0}});ze.addEventListener("optsTest",()=>{},Xe)}catch(Xe){Ue=!1}return!!Ue};let Ue;const we=ze=>ze instanceof Document?ze:ze.ownerDocument,$e=ze=>{let Xe=!1,vt=!1,lt=!0,at=!1;const ye=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},ze),Ce=ye.canStart,wt=ye.onWillStart,Ve=ye.onStart,tt=ye.onEnd,Ke=ye.notCaptured,Ne=ye.onMove,rt=ye.threshold,ie=ye.passive,ut=ye.blurOnStart,he={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},B=((ze,Xe,vt)=>{const lt=vt*(Math.PI/180),at="x"===ze,ye=Math.cos(lt),Ce=Xe*Xe;let wt=0,Ve=0,tt=!1,Ke=0;return{start(Ne,rt){wt=Ne,Ve=rt,Ke=0,tt=!0},detect(Ne,rt){if(!tt)return!1;const ie=Ne-wt,ut=rt-Ve,he=ie*ie+ut*ut;if(he<Ce)return!1;const B=Math.sqrt(he),ke=(at?ie:ut)/B;return Ke=ke>ye?1:ke<-ye?-1:0,tt=!1,!0},isGesture:()=>0!==Ke,getDirection:()=>Ke}})(ye.direction,ye.threshold,ye.maxAngle),ke=c.G.createGesture({name:ze.gestureName,priority:ze.gesturePriority,disableScroll:ze.disableScroll}),Rt=()=>{!Xe||(at=!1,Ne&&Ne(he))},qt=()=>!!ke.capture()&&(Xe=!0,lt=!1,he.startX=he.currentX,he.startY=he.currentY,he.startTime=he.currentTime,wt?wt(he).then(be):be(),!0),be=()=>{ut&&(()=>{if(typeof document<"u"){const Be=document.activeElement;null!=Be&&Be.blur&&Be.blur()}})(),Ve&&Ve(he),lt=!0},K=()=>{Xe=!1,vt=!1,at=!1,lt=!0,ke.release()},le=Be=>{const At=Xe,Ot=lt;if(K(),Ot){if(xe(he,Be),At)return void(tt&&tt(he));Ke&&Ke(he)}},ve=((ze,Xe,vt,lt,at)=>{let ye,Ce,wt,Ve,tt,Ke,Ne,rt=0;const ie=qe=>{rt=Date.now()+2e3,Xe(qe)&&(!Ce&&vt&&(Ce=ne(ze,"touchmove",vt,at)),wt||(wt=ne(qe.target,"touchend",he,at)),Ve||(Ve=ne(qe.target,"touchcancel",he,at)))},ut=qe=>{rt>Date.now()||!Xe(qe)||(!Ke&&vt&&(Ke=ne(we(ze),"mousemove",vt,at)),Ne||(Ne=ne(we(ze),"mouseup",B,at)))},he=qe=>{ke(),lt&&lt(qe)},B=qe=>{Oe(),lt&&lt(qe)},ke=()=>{Ce&&Ce(),wt&&wt(),Ve&&Ve(),Ce=wt=Ve=void 0},Oe=()=>{Ke&&Ke(),Ne&&Ne(),Ke=Ne=void 0},et=()=>{ke(),Oe()},Rt=(qe=!0)=>{qe?(ye||(ye=ne(ze,"touchstart",ie,at)),tt||(tt=ne(ze,"mousedown",ut,at))):(ye&&ye(),tt&&tt(),ye=tt=void 0,et())};return{enable:Rt,stop:et,destroy:()=>{Rt(!1),lt=vt=Xe=void 0}}})(ye.el,Be=>{const At=Te(Be);return!(vt||!lt||(de(Be,he),he.startX=he.currentX,he.startY=he.currentY,he.startTime=he.currentTime=At,he.velocityX=he.velocityY=he.deltaX=he.deltaY=0,he.event=Be,Ce&&!1===Ce(he))||(ke.release(),!ke.start()))&&(vt=!0,0===rt?qt():(B.start(he.startX,he.startY),!0))},Be=>{Xe?!at&&lt&&(at=!0,xe(he,Be),requestAnimationFrame(Rt)):(xe(he,Be),B.detect(he.currentX,he.currentY)&&(!B.isGesture()||!qt())&&Me())},le,{capture:!1,passive:ie}),Me=()=>{K(),ve.stop(),Ke&&Ke(he)};return{enable(Be=!0){Be||(Xe&&le(void 0),K()),ve.enable(Be)},destroy(){ke.destroy(),ve.destroy()}}},xe=(ze,Xe)=>{if(!Xe)return;const vt=ze.currentX,lt=ze.currentY,at=ze.currentTime;de(Xe,ze);const ye=ze.currentX,Ce=ze.currentY,Ve=(ze.currentTime=Te(Xe))-at;if(Ve>0&&Ve<100){const Ke=(Ce-lt)/Ve;ze.velocityX=(ye-vt)/Ve*.7+.3*ze.velocityX,ze.velocityY=.7*Ke+.3*ze.velocityY}ze.deltaX=ye-ze.startX,ze.deltaY=Ce-ze.startY,ze.event=Xe},de=(ze,Xe)=>{let vt=0,lt=0;if(ze){const at=ze.changedTouches;if(at&&at.length>0){const ye=at[0];vt=ye.clientX,lt=ye.clientY}else void 0!==ze.pageX&&(vt=ze.pageX,lt=ze.pageY)}Xe.currentX=vt,Xe.currentY=lt},Te=ze=>ze.timeStamp||Date.now()},1308:(gn,_t,$)=>{"use strict";$.d(_t,{B:()=>ct,H:()=>Fn,a:()=>Me,b:()=>en,c:()=>Ie,e:()=>er,f:()=>Li,g:()=>Be,h:()=>vn,i:()=>ar,j:()=>ot,k:()=>tn,p:()=>lt,r:()=>Rn,s:()=>Xe});var c=$(5861);let W,Ue,Le,He=!1,we=!1,Se=!1,$e=!1,xe=!1;const de=typeof window<"u"?window:{},Te=de.document||{head:{}},ze={$flags$:0,$resourcesUrl$:"",jmp:N=>N(),raf:N=>requestAnimationFrame(N),ael:(N,J,me,ae)=>N.addEventListener(J,me,ae),rel:(N,J,me,ae)=>N.removeEventListener(J,me,ae),ce:(N,J)=>new CustomEvent(N,J)},Xe=N=>{Object.assign(ze,N)},lt=N=>Promise.resolve(N),at=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch(N){}return!1})(),ye=(N,J,me,ae)=>{me&&me.map(([Je,ue,Fe])=>{const We=wt(N,Je),dt=Ce(J,Fe),bt=Ve(Je);ze.ael(We,ue,dt,bt),(J.$rmListeners$=J.$rmListeners$||[]).push(()=>ze.rel(We,ue,dt,bt))})},Ce=(N,J)=>me=>{try{256&N.$flags$?N.$lazyInstance$[J](me):(N.$queuedListeners$=N.$queuedListeners$||[]).push([J,me])}catch(ae){di(ae)}},wt=(N,J)=>4&J?Te:8&J?de:16&J?Te.body:N,Ve=N=>0!=(2&N),ie="s-id",ut="sty-id",ke="http://www.w3.org/1999/xlink",Rt=new WeakMap,qt=(N,J,me)=>{let ae=Fr.get(N);at&&me?(ae=ae||new CSSStyleSheet,"string"==typeof ae?ae=J:ae.replaceSync(J)):ae=J,Fr.set(N,ae)},qe=(N,J,me,ae)=>{let Je=K(J,me);const ue=Fr.get(Je);if(N=11===N.nodeType?N:Te,ue)if("string"==typeof ue){let We,Fe=Rt.get(N=N.head||N);Fe||Rt.set(N,Fe=new Set),Fe.has(Je)||(N.host&&(We=N.querySelector(`[${ut}="${Je}"]`))?We.innerHTML=ue:(We=Te.createElement("style"),We.innerHTML=ue,N.insertBefore(We,N.querySelector("link"))),Fe&&Fe.add(Je))}else N.adoptedStyleSheets.includes(ue)||(N.adoptedStyleSheets=[...N.adoptedStyleSheets,ue]);return Je},K=(N,J)=>"sc-"+(J&&32&N.$flags$?N.$tagName$+"-"+J:N.$tagName$),le=N=>N.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Me=N=>Si.push(N),Be=N=>hn(N).$modeName$,At={},An=N=>"object"==(N=typeof N)||"function"===N,vn=(N,J,...me)=>{let ae=null,Je=null,ue=null,Fe=!1,We=!1;const dt=[],bt=sn=>{for(let mn=0;mn<sn.length;mn++)ae=sn[mn],Array.isArray(ae)?bt(ae):null!=ae&&"boolean"!=typeof ae&&((Fe="function"!=typeof N&&!An(ae))&&(ae=String(ae)),Fe&&We?dt[dt.length-1].$text$+=ae:dt.push(Fe?Pn(null,ae):ae),We=Fe)};if(bt(me),J){J.key&&(Je=J.key),J.name&&(ue=J.name);{const sn=J.className||J.class;sn&&(J.class="object"!=typeof sn?sn:Object.keys(sn).filter(mn=>sn[mn]).join(" "))}}if("function"==typeof N)return N(null===J?{}:J,dt,En);const Kt=Pn(N,null);return Kt.$attrs$=J,dt.length>0&&(Kt.$children$=dt),Kt.$key$=Je,Kt.$name$=ue,Kt},Pn=(N,J)=>({$flags$:0,$tag$:N,$text$:J,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Fn={},En={forEach:(N,J)=>N.map(zn).forEach(J),map:(N,J)=>N.map(zn).map(J).map(Or)},zn=N=>({vattrs:N.$attrs$,vchildren:N.$children$,vkey:N.$key$,vname:N.$name$,vtag:N.$tag$,vtext:N.$text$}),Or=N=>{if("function"==typeof N.vtag){const me=Object.assign({},N.vattrs);return N.vkey&&(me.key=N.vkey),N.vname&&(me.name=N.vname),vn(N.vtag,me,...N.vchildren||[])}const J=Pn(N.vtag,N.vtext);return J.$attrs$=N.vattrs,J.$children$=N.vchildren,J.$key$=N.vkey,J.$name$=N.vname,J},Yt=(N,J,me,ae,Je,ue)=>{if(me!==ae){let Fe=Yr(N,J),We=J.toLowerCase();if("class"===J){const dt=N.classList,bt=fr(me),Kt=fr(ae);dt.remove(...bt.filter(sn=>sn&&!Kt.includes(sn))),dt.add(...Kt.filter(sn=>sn&&!bt.includes(sn)))}else if("style"===J){for(const dt in me)(!ae||null==ae[dt])&&(dt.includes("-")?N.style.removeProperty(dt):N.style[dt]="");for(const dt in ae)(!me||ae[dt]!==me[dt])&&(dt.includes("-")?N.style.setProperty(dt,ae[dt]):N.style[dt]=ae[dt])}else if("key"!==J)if("ref"===J)ae&&ae(N);else if(Fe||"o"!==J[0]||"n"!==J[1]){const dt=An(ae);if((Fe||dt&&null!==ae)&&!Je)try{if(N.tagName.includes("-"))N[J]=ae;else{const Kt=ae??"";"list"===J?Fe=!1:(null==me||N[J]!=Kt)&&(N[J]=Kt)}}catch(Kt){}let bt=!1;We!==(We=We.replace(/^xlink\:?/,""))&&(J=We,bt=!0),null==ae||!1===ae?(!1!==ae||""===N.getAttribute(J))&&(bt?N.removeAttributeNS(ke,J):N.removeAttribute(J)):(!Fe||4&ue||Je)&&!dt&&(ae=!0===ae?"":ae,bt?N.setAttributeNS(ke,J,ae):N.setAttribute(J,ae))}else J="-"===J[2]?J.slice(3):Yr(de,We)?We.slice(2):We[2]+J.slice(3),me&&ze.rel(N,J,me,!1),ae&&ze.ael(N,J,ae,!1)}},wn=/\s/,fr=N=>N?N.split(wn):[],ni=(N,J,me,ae)=>{const Je=11===J.$elm$.nodeType&&J.$elm$.host?J.$elm$.host:J.$elm$,ue=N&&N.$attrs$||At,Fe=J.$attrs$||At;for(ae in ue)ae in Fe||Yt(Je,ae,ue[ae],void 0,me,J.$flags$);for(ae in Fe)Yt(Je,ae,ue[ae],Fe[ae],me,J.$flags$)},wr=(N,J,me,ae)=>{const Je=J.$children$[me];let Fe,We,dt,ue=0;if(He||(Se=!0,"slot"===Je.$tag$&&(W&&ae.classList.add(W+"-s"),Je.$flags$|=Je.$children$?2:1)),null!==Je.$text$)Fe=Je.$elm$=Te.createTextNode(Je.$text$);else if(1&Je.$flags$)Fe=Je.$elm$=Te.createTextNode("");else{if($e||($e="svg"===Je.$tag$),Fe=Je.$elm$=Te.createElementNS($e?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Je.$flags$?"slot-fb":Je.$tag$),$e&&"foreignObject"===Je.$tag$&&($e=!1),ni(null,Je,$e),(N=>null!=N)(W)&&Fe["s-si"]!==W&&Fe.classList.add(Fe["s-si"]=W),Je.$children$)for(ue=0;ue<Je.$children$.length;++ue)We=wr(N,Je,ue,Fe),We&&Fe.appendChild(We);"svg"===Je.$tag$?$e=!1:"foreignObject"===Fe.tagName&&($e=!0)}return Fe["s-hn"]=Le,3&Je.$flags$&&(Fe["s-sr"]=!0,Fe["s-cr"]=Ue,Fe["s-sn"]=Je.$name$||"",dt=N&&N.$children$&&N.$children$[me],dt&&dt.$tag$===Je.$tag$&&N.$elm$&&Kr(N.$elm$,!1)),Fe},Kr=(N,J)=>{ze.$flags$|=1;const me=N.childNodes;for(let ae=me.length-1;ae>=0;ae--){const Je=me[ae];Je["s-hn"]!==Le&&Je["s-ol"]&&(Jr(Je).insertBefore(Je,Zn(Je)),Je["s-ol"].remove(),Je["s-ol"]=void 0,Se=!0),J&&Kr(Je,J)}ze.$flags$&=-2},ci=(N,J,me,ae,Je,ue)=>{let We,Fe=N["s-cr"]&&N["s-cr"].parentNode||N;for(Fe.shadowRoot&&Fe.tagName===Le&&(Fe=Fe.shadowRoot);Je<=ue;++Je)ae[Je]&&(We=wr(null,me,Je,N),We&&(ae[Je].$elm$=We,Fe.insertBefore(We,Zn(J))))},rr=(N,J,me,ae,Je)=>{for(;J<=me;++J)(ae=N[J])&&(Je=ae.$elm$,Ir(ae),we=!0,Je["s-ol"]?Je["s-ol"].remove():Kr(Je,!0),Je.remove())},Hn=(N,J)=>N.$tag$===J.$tag$&&("slot"===N.$tag$?N.$name$===J.$name$:N.$key$===J.$key$),Zn=N=>N&&N["s-ol"]||N,Jr=N=>(N["s-ol"]?N["s-ol"]:N).parentNode,Pr=(N,J)=>{const me=J.$elm$=N.$elm$,ae=N.$children$,Je=J.$children$,ue=J.$tag$,Fe=J.$text$;let We;null===Fe?($e="svg"===ue||"foreignObject"!==ue&&$e,"slot"===ue||ni(N,J,$e),null!==ae&&null!==Je?((N,J,me,ae)=>{let kn,yt,Je=0,ue=0,Fe=0,We=0,dt=J.length-1,bt=J[0],Kt=J[dt],sn=ae.length-1,mn=ae[0],vr=ae[sn];for(;Je<=dt&&ue<=sn;)if(null==bt)bt=J[++Je];else if(null==Kt)Kt=J[--dt];else if(null==mn)mn=ae[++ue];else if(null==vr)vr=ae[--sn];else if(Hn(bt,mn))Pr(bt,mn),bt=J[++Je],mn=ae[++ue];else if(Hn(Kt,vr))Pr(Kt,vr),Kt=J[--dt],vr=ae[--sn];else if(Hn(bt,vr))("slot"===bt.$tag$||"slot"===vr.$tag$)&&Kr(bt.$elm$.parentNode,!1),Pr(bt,vr),N.insertBefore(bt.$elm$,Kt.$elm$.nextSibling),bt=J[++Je],vr=ae[--sn];else if(Hn(Kt,mn))("slot"===bt.$tag$||"slot"===vr.$tag$)&&Kr(Kt.$elm$.parentNode,!1),Pr(Kt,mn),N.insertBefore(Kt.$elm$,bt.$elm$),Kt=J[--dt],mn=ae[++ue];else{for(Fe=-1,We=Je;We<=dt;++We)if(J[We]&&null!==J[We].$key$&&J[We].$key$===mn.$key$){Fe=We;break}Fe>=0?(yt=J[Fe],yt.$tag$!==mn.$tag$?kn=wr(J&&J[ue],me,Fe,N):(Pr(yt,mn),J[Fe]=void 0,kn=yt.$elm$),mn=ae[++ue]):(kn=wr(J&&J[ue],me,ue,N),mn=ae[++ue]),kn&&Jr(bt.$elm$).insertBefore(kn,Zn(bt.$elm$))}Je>dt?ci(N,null==ae[sn+1]?null:ae[sn+1].$elm$,me,ae,ue,sn):ue>sn&&rr(J,Je,dt)})(me,ae,J,Je):null!==Je?(null!==N.$text$&&(me.textContent=""),ci(me,null,J,Je,0,Je.length-1)):null!==ae&&rr(ae,0,ae.length-1),$e&&"svg"===ue&&($e=!1)):(We=me["s-cr"])?We.parentNode.textContent=Fe:N.$text$!==Fe&&(me.data=Fe)},Sr=N=>{const J=N.childNodes;let me,ae,Je,ue,Fe,We;for(ae=0,Je=J.length;ae<Je;ae++)if(me=J[ae],1===me.nodeType){if(me["s-sr"])for(Fe=me["s-sn"],me.hidden=!1,ue=0;ue<Je;ue++)if(We=J[ue].nodeType,J[ue]["s-hn"]!==me["s-hn"]||""!==Fe){if(1===We&&Fe===J[ue].getAttribute("slot")){me.hidden=!0;break}}else if(1===We||3===We&&""!==J[ue].textContent.trim()){me.hidden=!0;break}Sr(me)}},Gr=[],qr=N=>{let J,me,ae,Je,ue,Fe,We=0;const dt=N.childNodes,bt=dt.length;for(;We<bt;We++){if(J=dt[We],J["s-sr"]&&(me=J["s-cr"])&&me.parentNode)for(ae=me.parentNode.childNodes,Je=J["s-sn"],Fe=ae.length-1;Fe>=0;Fe--)me=ae[Fe],!me["s-cn"]&&!me["s-nr"]&&me["s-hn"]!==J["s-hn"]&&(vi(me,Je)?(ue=Gr.find(Kt=>Kt.$nodeToRelocate$===me),we=!0,me["s-sn"]=me["s-sn"]||Je,ue?ue.$slotRefNode$=J:Gr.push({$slotRefNode$:J,$nodeToRelocate$:me}),me["s-sr"]&&Gr.map(Kt=>{vi(Kt.$nodeToRelocate$,me["s-sn"])&&(ue=Gr.find(sn=>sn.$nodeToRelocate$===me),ue&&!Kt.$slotRefNode$&&(Kt.$slotRefNode$=ue.$slotRefNode$))})):Gr.some(Kt=>Kt.$nodeToRelocate$===me)||Gr.push({$nodeToRelocate$:me}));1===J.nodeType&&qr(J)}},vi=(N,J)=>1===N.nodeType?null===N.getAttribute("slot")&&""===J||N.getAttribute("slot")===J:N["s-sn"]===J||""===J,Ir=N=>{N.$attrs$&&N.$attrs$.ref&&N.$attrs$.ref(null),N.$children$&&N.$children$.map(Ir)},ar=N=>hn(N).$hostElement$,er=(N,J,me)=>{const ae=ar(N);return{emit:Je=>gr(ae,J,{bubbles:!!(4&me),composed:!!(2&me),cancelable:!!(1&me),detail:Je})}},gr=(N,J,me)=>{const ae=ze.ce(J,me);return N.dispatchEvent(ae),ae},yn=(N,J)=>{J&&!N.$onRenderResolve$&&J["s-p"]&&J["s-p"].push(new Promise(me=>N.$onRenderResolve$=me))},zt=(N,J)=>{if(N.$flags$|=16,!(4&N.$flags$))return yn(N,N.$ancestorComponent$),Ie(()=>Sn(N,J));N.$flags$|=512},Sn=(N,J)=>{const ae=N.$lazyInstance$;let Je;return J&&(N.$flags$|=256,N.$queuedListeners$&&(N.$queuedListeners$.map(([ue,Fe])=>ht(ae,ue,Fe)),N.$queuedListeners$=null),Je=ht(ae,"componentWillLoad")),Je=Pt(Je,()=>ht(ae,"componentWillRender")),Pt(Je,()=>nr(N,ae,J))},nr=function(){var N=(0,c.Z)(function*(J,me,ae){const Je=J.$hostElement$,Fe=Je["s-rc"];ae&&(N=>{const J=N.$cmpMeta$,me=N.$hostElement$,ae=J.$flags$,ue=qe(me.shadowRoot?me.shadowRoot:me.getRootNode(),J,N.$modeName$);10&ae&&(me["s-sc"]=ue,me.classList.add(ue+"-h"),2&ae&&me.classList.add(ue+"-s"))})(J);Xn(J,me),Fe&&(Fe.map(dt=>dt()),Je["s-rc"]=void 0);{const dt=Je["s-p"],bt=()=>hr(J);0===dt.length?bt():(Promise.all(dt).then(bt),J.$flags$|=4,dt.length=0)}});return function(me,ae,Je){return N.apply(this,arguments)}}(),Xn=(N,J,me)=>{try{J=J.render&&J.render(),N.$flags$&=-17,N.$flags$|=2,((N,J)=>{const me=N.$hostElement$,ae=N.$cmpMeta$,Je=N.$vnode$||Pn(null,null),ue=(N=>N&&N.$tag$===Fn)(J)?J:vn(null,null,J);if(Le=me.tagName,ae.$attrsToReflect$&&(ue.$attrs$=ue.$attrs$||{},ae.$attrsToReflect$.map(([Fe,We])=>ue.$attrs$[We]=me[Fe])),ue.$tag$=null,ue.$flags$|=4,N.$vnode$=ue,ue.$elm$=Je.$elm$=me.shadowRoot||me,W=me["s-sc"],Ue=me["s-cr"],He=0!=(1&ae.$flags$),we=!1,Pr(Je,ue),ze.$flags$|=1,Se){qr(ue.$elm$);let Fe,We,dt,bt,Kt,sn,mn=0;for(;mn<Gr.length;mn++)Fe=Gr[mn],We=Fe.$nodeToRelocate$,We["s-ol"]||(dt=Te.createTextNode(""),dt["s-nr"]=We,We.parentNode.insertBefore(We["s-ol"]=dt,We));for(mn=0;mn<Gr.length;mn++)if(Fe=Gr[mn],We=Fe.$nodeToRelocate$,Fe.$slotRefNode$){for(bt=Fe.$slotRefNode$.parentNode,Kt=Fe.$slotRefNode$.nextSibling,dt=We["s-ol"];dt=dt.previousSibling;)if(sn=dt["s-nr"],sn&&sn["s-sn"]===We["s-sn"]&&bt===sn.parentNode&&(sn=sn.nextSibling,!sn||!sn["s-nr"])){Kt=sn;break}(!Kt&&bt!==We.parentNode||We.nextSibling!==Kt)&&We!==Kt&&(!We["s-hn"]&&We["s-ol"]&&(We["s-hn"]=We["s-ol"].parentNode.nodeName),bt.insertBefore(We,Kt))}else 1===We.nodeType&&(We.hidden=!0)}we&&Sr(ue.$elm$),ze.$flags$&=-2,Gr.length=0})(N,J)}catch(ae){di(ae,N.$hostElement$)}return null},hr=N=>{const me=N.$hostElement$,Je=N.$lazyInstance$,ue=N.$ancestorComponent$;ht(Je,"componentDidRender"),64&N.$flags$?ht(Je,"componentDidUpdate"):(N.$flags$|=64,Mt(me),ht(Je,"componentDidLoad"),N.$onReadyResolve$(me),ue||Ze()),N.$onInstanceResolve$(me),N.$onRenderResolve$&&(N.$onRenderResolve$(),N.$onRenderResolve$=void 0),512&N.$flags$&&mi(()=>zt(N,!1)),N.$flags$&=-517},ot=N=>{{const J=hn(N),me=J.$hostElement$.isConnected;return me&&2==(18&J.$flags$)&&zt(J,!1),me}},Ze=N=>{Mt(Te.documentElement),mi(()=>gr(de,"appload",{detail:{namespace:"ionic"}}))},ht=(N,J,me)=>{if(N&&N[J])try{return N[J](me)}catch(ae){di(ae)}},Pt=(N,J)=>N&&N.then?N.then(J):J(),Mt=N=>N.classList.add("hydrated"),Qn=(N,J,me,ae,Je,ue,Fe)=>{let We,dt,bt,Kt;if(1===ue.nodeType){for(We=ue.getAttribute("c-id"),We&&(dt=We.split("."),(dt[0]===Fe||"0"===dt[0])&&(bt={$flags$:0,$hostId$:dt[0],$nodeId$:dt[1],$depth$:dt[2],$index$:dt[3],$tag$:ue.tagName.toLowerCase(),$elm$:ue,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},J.push(bt),ue.removeAttribute("c-id"),N.$children$||(N.$children$=[]),N.$children$[bt.$index$]=bt,N=bt,ae&&"0"===bt.$depth$&&(ae[bt.$index$]=bt.$elm$))),Kt=ue.childNodes.length-1;Kt>=0;Kt--)Qn(N,J,me,ae,Je,ue.childNodes[Kt],Fe);if(ue.shadowRoot)for(Kt=ue.shadowRoot.childNodes.length-1;Kt>=0;Kt--)Qn(N,J,me,ae,Je,ue.shadowRoot.childNodes[Kt],Fe)}else if(8===ue.nodeType)dt=ue.nodeValue.split("."),(dt[1]===Fe||"0"===dt[1])&&(We=dt[0],bt={$flags$:0,$hostId$:dt[1],$nodeId$:dt[2],$depth$:dt[3],$index$:dt[4],$elm$:ue,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===We?(bt.$elm$=ue.nextSibling,bt.$elm$&&3===bt.$elm$.nodeType&&(bt.$text$=bt.$elm$.textContent,J.push(bt),ue.remove(),N.$children$||(N.$children$=[]),N.$children$[bt.$index$]=bt,ae&&"0"===bt.$depth$&&(ae[bt.$index$]=bt.$elm$))):bt.$hostId$===Fe&&("s"===We?(bt.$tag$="slot",ue["s-sn"]=dt[5]?bt.$name$=dt[5]:"",ue["s-sr"]=!0,ae&&(bt.$elm$=Te.createElement(bt.$tag$),bt.$name$&&bt.$elm$.setAttribute("name",bt.$name$),ue.parentNode.insertBefore(bt.$elm$,ue),ue.remove(),"0"===bt.$depth$&&(ae[bt.$index$]=bt.$elm$)),me.push(bt),N.$children$||(N.$children$=[]),N.$children$[bt.$index$]=bt):"r"===We&&(ae?ue.remove():(Je["s-cr"]=ue,ue["s-cn"]=!0))));else if(N&&"style"===N.$tag$){const sn=Pn(null,ue.textContent);sn.$elm$=ue,sn.$index$="0",N.$children$=[sn]}},br=(N,J)=>{if(1===N.nodeType){let me=0;for(;me<N.childNodes.length;me++)br(N.childNodes[me],J);if(N.shadowRoot)for(me=0;me<N.shadowRoot.childNodes.length;me++)br(N.shadowRoot.childNodes[me],J)}else if(8===N.nodeType){const me=N.nodeValue.split(".");"o"===me[0]&&(J.set(me[1]+"."+me[2],N),N.nodeValue="",N["s-en"]=me[3])}},it=(N,J,me)=>{if(J.$members$){N.watchers&&(J.$watchers$=N.watchers);const ae=Object.entries(J.$members$),Je=N.prototype;if(ae.map(([ue,[Fe]])=>{31&Fe||2&me&&32&Fe?Object.defineProperty(Je,ue,{get(){return((N,J)=>hn(this).$instanceValues$.get(J))(0,ue)},set(We){((N,J,me,ae)=>{const Je=hn(N),ue=Je.$hostElement$,Fe=Je.$instanceValues$.get(J),We=Je.$flags$,dt=Je.$lazyInstance$;me=((N,J)=>null==N||An(N)?N:4&J?"false"!==N&&(""===N||!!N):2&J?parseFloat(N):1&J?String(N):N)(me,ae.$members$[J][0]);const bt=Number.isNaN(Fe)&&Number.isNaN(me);if((!(8&We)||void 0===Fe)&&me!==Fe&&!bt&&(Je.$instanceValues$.set(J,me),dt)){if(ae.$watchers$&&128&We){const sn=ae.$watchers$[J];sn&&sn.map(mn=>{try{dt[mn](me,Fe,J)}catch(vr){di(vr,ue)}})}2==(18&We)&&zt(Je,!1)}})(this,ue,We,J)},configurable:!0,enumerable:!0}):1&me&&64&Fe&&Object.defineProperty(Je,ue,{value(...We){const dt=hn(this);return dt.$onInstancePromise$.then(()=>dt.$lazyInstance$[ue](...We))}})}),1&me){const ue=new Map;Je.attributeChangedCallback=function(Fe,We,dt){ze.jmp(()=>{const bt=ue.get(Fe);if(this.hasOwnProperty(bt))dt=this[bt],delete this[bt];else if(Je.hasOwnProperty(bt)&&"number"==typeof this[bt]&&this[bt]==dt)return;this[bt]=(null!==dt||"boolean"!=typeof this[bt])&&dt})},N.observedAttributes=ae.filter(([Fe,We])=>15&We[0]).map(([Fe,We])=>{const dt=We[1]||Fe;return ue.set(dt,Fe),512&We[0]&&J.$attrsToReflect$.push([Fe,dt]),dt})}}return N},Z=function(){var N=(0,c.Z)(function*(J,me,ae,Je,ue){if(0==(32&me.$flags$)){{if(me.$flags$|=32,(ue=Er(ae)).then){const bt=()=>{};ue=yield ue,bt()}ue.isProxied||(ae.$watchers$=ue.watchers,it(ue,ae,2),ue.isProxied=!0);const dt=()=>{};me.$flags$|=8;try{new ue(me)}catch(bt){di(bt)}me.$flags$&=-9,me.$flags$|=128,dt(),pe(me.$lazyInstance$)}if(ue.style){let dt=ue.style;"string"!=typeof dt&&(dt=dt[me.$modeName$=(N=>Si.map(J=>J(N)).find(J=>!!J))(J)]);const bt=K(ae,me.$modeName$);if(!Fr.has(bt)){const Kt=()=>{};qt(bt,dt,!!(1&ae.$flags$)),Kt()}}}const Fe=me.$ancestorComponent$,We=()=>zt(me,!0);Fe&&Fe["s-rc"]?Fe["s-rc"].push(We):We()});return function(me,ae,Je,ue,Fe){return N.apply(this,arguments)}}(),pe=N=>{ht(N,"connectedCallback")},pt=N=>{const J=N["s-cr"]=Te.createComment("");J["s-cn"]=!0,N.insertBefore(J,N.firstChild)},en=(N,J={})=>{const ae=[],Je=J.exclude||[],ue=de.customElements,Fe=Te.head,We=Fe.querySelector("meta[charset]"),dt=Te.createElement("style"),bt=[],Kt=Te.querySelectorAll(`[${ut}]`);let sn,mn=!0,vr=0;for(Object.assign(ze,J),ze.$resourcesUrl$=new URL(J.resourcesUrl||"./",Te.baseURI).href,ze.$flags$|=2;vr<Kt.length;vr++)qt(Kt[vr].getAttribute(ut),le(Kt[vr].innerHTML),!0);N.map(kn=>{kn[1].map(yt=>{const gt={$flags$:yt[0],$tagName$:yt[1],$members$:yt[2],$listeners$:yt[3]};gt.$members$=yt[2],gt.$listeners$=yt[3],gt.$attrsToReflect$=[],gt.$watchers$={};const St=gt.$tagName$,Xt=class extends HTMLElement{constructor(un){super(un),Dr(un=this,gt),1&gt.$flags$&&un.attachShadow({mode:"open",delegatesFocus:!!(16&gt.$flags$)})}connectedCallback(){sn&&(clearTimeout(sn),sn=null),mn?bt.push(this):ze.jmp(()=>(N=>{if(0==(1&ze.$flags$)){const J=hn(N),me=J.$cmpMeta$,ae=()=>{};if(1&J.$flags$)ye(N,J,me.$listeners$),pe(J.$lazyInstance$);else{let Je;if(J.$flags$|=1,Je=N.getAttribute(ie),Je){if(1&me.$flags$){const ue=qe(N.shadowRoot,me,N.getAttribute("s-mode"));N.classList.remove(ue+"-h",ue+"-s")}((N,J,me,ae)=>{const ue=N.shadowRoot,Fe=[],dt=ue?[]:null,bt=ae.$vnode$=Pn(J,null);ze.$orgLocNodes$||br(Te.body,ze.$orgLocNodes$=new Map),N[ie]=me,N.removeAttribute(ie),Qn(bt,Fe,[],dt,N,N,me),Fe.map(Kt=>{const sn=Kt.$hostId$+"."+Kt.$nodeId$,mn=ze.$orgLocNodes$.get(sn),vr=Kt.$elm$;mn&&""===mn["s-en"]&&mn.parentNode.insertBefore(vr,mn.nextSibling),ue||(vr["s-hn"]=J,mn&&(vr["s-ol"]=mn,vr["s-ol"]["s-nr"]=vr)),ze.$orgLocNodes$.delete(sn)}),ue&&dt.map(Kt=>{Kt&&ue.appendChild(Kt)})})(N,me.$tagName$,Je,J)}Je||12&me.$flags$&&pt(N);{let ue=N;for(;ue=ue.parentNode||ue.host;)if(1===ue.nodeType&&ue.hasAttribute("s-id")&&ue["s-p"]||ue["s-p"]){yn(J,J.$ancestorComponent$=ue);break}}me.$members$&&Object.entries(me.$members$).map(([ue,[Fe]])=>{if(31&Fe&&N.hasOwnProperty(ue)){const We=N[ue];delete N[ue],N[ue]=We}}),mi(()=>Z(N,J,me))}ae()}})(this))}disconnectedCallback(){ze.jmp(()=>(N=>{if(0==(1&ze.$flags$)){const J=hn(this),me=J.$lazyInstance$;J.$rmListeners$&&(J.$rmListeners$.map(ae=>ae()),J.$rmListeners$=void 0),ht(me,"disconnectedCallback")}})())}componentOnReady(){return hn(this).$onReadyPromise$}};gt.$lazyBundleId$=kn[0],!Je.includes(St)&&!ue.get(St)&&(ae.push(St),ue.define(St,it(Xt,gt,1)))})}),dt.innerHTML=ae+"{visibility:hidden}.hydrated{visibility:inherit}",dt.setAttribute("data-styles",""),Fe.insertBefore(dt,We?We.nextSibling:Fe.firstChild),mn=!1,bt.length?bt.map(kn=>kn.connectedCallback()):ze.jmp(()=>sn=setTimeout(Ze,30))},tn=N=>{const J=new URL(N,ze.$resourcesUrl$);return J.origin!==de.location.origin?J.href:J.pathname},Cn=new WeakMap,hn=N=>Cn.get(N),Rn=(N,J)=>Cn.set(J.$lazyInstance$=N,J),Dr=(N,J)=>{const me={$flags$:0,$hostElement$:N,$cmpMeta$:J,$instanceValues$:new Map};return me.$onInstancePromise$=new Promise(ae=>me.$onInstanceResolve$=ae),me.$onReadyPromise$=new Promise(ae=>me.$onReadyResolve$=ae),N["s-p"]=[],N["s-rc"]=[],ye(N,me,J.$listeners$),Cn.set(N,me)},Yr=(N,J)=>J in N,di=(N,J)=>(0,console.error)(N,J),mr=new Map,Er=(N,J,me)=>{const ae=N.$tagName$.replace(/-/g,"_"),Je=N.$lazyBundleId$,ue=mr.get(Je);return ue?ue[ae]:$(863)(`./${Je}.entry.js`).then(Fe=>(mr.set(Je,Fe),Fe[ae]),di)},Fr=new Map,Si=[],pr=[],hi=[],Dn=(N,J)=>me=>{N.push(me),xe||(xe=!0,J&&4&ze.$flags$?mi(Tr):ze.raf(Tr))},ir=N=>{for(let J=0;J<N.length;J++)try{N[J](performance.now())}catch(me){di(me)}N.length=0},Tr=()=>{ir(pr),ir(hi),(xe=pr.length>0)&&ze.raf(Tr)},mi=N=>lt().then(N),Li=Dn(pr,!1),Ie=Dn(hi,!0),ct={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},4464:(gn,_t,$)=>{"use strict";$.d(_t,{AK:()=>Le.g,Cl:()=>$e.a,EQ:()=>we.b,F8:()=>we.d,Fy:()=>$e.m,G0:()=>$e.l,Jd:()=>we.c,L$:()=>at,Mn:()=>$e.t,hh:()=>He.c,kx:()=>we.L,n$:()=>Le.a,oq:()=>$e.c,qc:()=>ze,re:()=>we.a}),$(181),$(6439),$(7838),$(1898);var Le=$(5179),He=$(5730),we=$(1843),$e=($(6369),$(7996));$(3457),$(4349),$(1308);const ze=ye=>{const Ce=window,wt=Ce.Ionic;if(!wt||!wt.config||"Object"===wt.config.constructor.name)return Ce.Ionic=Ce.Ionic||{},Ce.Ionic.config=Object.assign(Object.assign({},Ce.Ionic.config),ye),Ce.Ionic.config},at=ye=>{const{swiper:Ce,extendParams:wt}=ye,Ve={effect:void 0,direction:"horizontal",initialSlide:0,loop:!1,parallax:!1,slidesPerView:1,spaceBetween:0,speed:300,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,touchEventsTarget:"container",autoplay:!1,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,zoom:{maxRatio:3,minRatio:1,toggle:!1},touchRatio:1,touchAngle:45,simulateTouch:!0,touchStartPreventDefault:!1,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,threshold:0,touchMoveStopPropagation:!0,touchReleaseOnEdges:!1,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,watchSlidesVisibility:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loopAdditionalSlides:0,noSwiping:!0,runCallbacksOnInit:!0,coverflowEffect:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},flipEffect:{slideShadows:!0,limitRotation:!0},cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fadeEffect:{crossFade:!1},a11y:{prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide"}};Ce.pagination&&(Ve.pagination={type:"bullets",clickable:!1,hideOnClick:!1}),Ce.scrollbar&&(Ve.scrollbar={hide:!0}),wt(Ve)}},5179:(gn,_t,$)=>{"use strict";$.d(_t,{a:()=>de,b:()=>Rt,c:()=>W,g:()=>xe,i:()=>qt});var c=$(1308);class ne{constructor(){this.m=new Map}reset(be){this.m=new Map(Object.entries(be))}get(be,K){const le=this.m.get(be);return void 0!==le?le:K}getBoolean(be,K=!1){const le=this.m.get(be);return void 0===le?K:"string"==typeof le?"true"===le:!!le}getNumber(be,K){const le=parseFloat(this.m.get(be));return isNaN(le)?void 0!==K?K:NaN:le}set(be,K){this.m.set(be,K)}}const W=new ne,$e="ionic-persist-config",xe=qe=>Te(qe),de=(qe,be)=>("string"==typeof qe&&(be=qe,qe=void 0),xe(qe).includes(be)),Te=(qe=window)=>{if(typeof qe>"u")return[];qe.Ionic=qe.Ionic||{};let be=qe.Ionic.platforms;return null==be&&(be=qe.Ionic.platforms=ze(qe),be.forEach(K=>qe.document.documentElement.classList.add(`plt-${K}`))),be},ze=qe=>{const be=W.get("platform");return Object.keys(Oe).filter(K=>{const le=null==be?void 0:be[K];return"function"==typeof le?le(qe):Oe[K](qe)})},vt=qe=>!!(B(qe,/iPad/i)||B(qe,/Macintosh/i)&&tt(qe)),ye=qe=>B(qe,/android|sink/i),tt=qe=>ke(qe,"(any-pointer:coarse)"),Ne=qe=>rt(qe)||ie(qe),rt=qe=>!!(qe.cordova||qe.phonegap||qe.PhoneGap),ie=qe=>{const be=qe.Capacitor;return!(null==be||!be.isNative)},B=(qe,be)=>be.test(qe.navigator.userAgent),ke=(qe,be)=>{var K;return null===(K=qe.matchMedia)||void 0===K?void 0:K.call(qe,be).matches},Oe={ipad:vt,iphone:qe=>B(qe,/iPhone/i),ios:qe=>B(qe,/iPhone|iPod/i)||vt(qe),android:ye,phablet:qe=>{const be=qe.innerWidth,K=qe.innerHeight,le=Math.min(be,K),ve=Math.max(be,K);return le>390&&le<520&&ve>620&&ve<800},tablet:qe=>{const be=qe.innerWidth,K=qe.innerHeight,le=Math.min(be,K),ve=Math.max(be,K);return vt(qe)||(qe=>ye(qe)&&!B(qe,/mobile/i))(qe)||le>460&&le<820&&ve>780&&ve<1400},cordova:rt,capacitor:ie,electron:qe=>B(qe,/electron/i),pwa:qe=>{var be;return!(!(null===(be=qe.matchMedia)||void 0===be?void 0:be.call(qe,"(display-mode: standalone)").matches)&&!qe.navigator.standalone)},mobile:tt,mobileweb:qe=>tt(qe)&&!Ne(qe),desktop:qe=>!tt(qe),hybrid:Ne};let et;const Rt=qe=>qe&&(0,c.g)(qe)||et,qt=(qe={})=>{if(typeof window>"u")return;const be=window.document,K=window,le=K.Ionic=K.Ionic||{},ve={};qe._ael&&(ve.ael=qe._ael),qe._rel&&(ve.rel=qe._rel),qe._ce&&(ve.ce=qe._ce),(0,c.s)(ve);const Me=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(qe=>{try{const be=qe.sessionStorage.getItem($e);return null!==be?JSON.parse(be):{}}catch(be){return{}}})(K)),{persistConfig:!1}),le.config),(qe=>{const be={};return qe.location.search.slice(1).split("&").map(K=>K.split("=")).map(([K,le])=>[decodeURIComponent(K),decodeURIComponent(le)]).filter(([K])=>((qe,be)=>qe.substr(0,be.length)===be)(K,"ionic:")).map(([K,le])=>[K.slice("ionic:".length),le]).forEach(([K,le])=>{be[K]=le}),be})(K)),qe);W.reset(Me),W.getBoolean("persistConfig")&&((qe,be)=>{try{qe.sessionStorage.setItem($e,JSON.stringify(be))}catch(K){return}})(K,Me),Te(K),le.config=W,le.mode=et=W.get("mode",be.documentElement.getAttribute("mode")||(de(K,"ios")?"ios":"md")),W.set("mode",et),be.documentElement.setAttribute("mode",et),be.documentElement.classList.add(et),W.getBoolean("_testing")&&W.set("animated",!1);const Be=Ot=>{var Bt;return null===(Bt=Ot.tagName)||void 0===Bt?void 0:Bt.startsWith("ION-")},At=Ot=>["ios","md"].includes(Ot);(0,c.a)(Ot=>{for(;Ot;){const Bt=Ot.mode||Ot.getAttribute("mode");if(Bt){if(At(Bt))return Bt;Be(Ot)&&console.warn('Invalid ionic mode: "'+Bt+'", expected: "ios" or "md"')}Ot=Ot.parentElement}return et})}},6439:(gn,_t,$)=>{"use strict";$.r(_t),$.d(_t,{iosTransitionAnimation:()=>ze,shadow:()=>we});var c=$(181),ne=$(1843);$(3457),$(1308);const He=Xe=>document.querySelector(`${Xe}.ion-cloned-element`),we=Xe=>Xe.shadowRoot||Xe,Se=Xe=>{const vt="ION-TABS"===Xe.tagName?Xe:Xe.querySelector("ion-tabs"),lt="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=vt){const at=vt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=at?at.querySelector(lt):null}return Xe.querySelector(lt)},$e=(Xe,vt)=>{const lt="ION-TABS"===Xe.tagName?Xe:Xe.querySelector("ion-tabs");let at=[];if(null!=lt){const ye=lt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=ye&&(at=ye.querySelectorAll("ion-buttons"))}else at=Xe.querySelectorAll("ion-buttons");for(const ye of at){const Ce=ye.closest("ion-header"),wt=Ce&&!Ce.classList.contains("header-collapse-condense-inactive"),Ve=ye.querySelector("ion-back-button"),tt=ye.classList.contains("buttons-collapse"),Ke="start"===ye.slot||""===ye.slot;if(null!==Ve&&Ke&&(tt&&wt&&vt||!tt))return Ve}return null},de=(Xe,vt,lt,at,ye,Ce)=>{const wt=vt?`calc(100% - ${Ce.right+4}px)`:Ce.left-4+"px",Ve=vt?"7px":"-7px",tt=vt?"-4px":"4px",Ke=vt?"-4px":"4px",Ne=vt?"right":"left",rt=vt?"left":"right",he=lt?[{offset:0,opacity:1,transform:`translate3d(${tt}, ${Ce.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Ve}, ${ye.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${Ve}, ${ye.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${tt}, ${Ce.top-46}px, 0) scale(1)`}],Oe=lt?[{offset:0,opacity:1,transform:`translate3d(${Ke}, ${Ce.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${Ke}, ${Ce.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${Ke}, ${Ce.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${Ke}, ${Ce.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${Ke}, ${Ce.top-46}px, 0) scale(1)`}],et=(0,c.c)(),Rt=(0,c.c)(),qt=He("ion-back-button"),qe=we(qt).querySelector(".button-text"),be=we(qt).querySelector("ion-icon");qt.text=at.text,qt.mode=at.mode,qt.icon=at.icon,qt.color=at.color,qt.disabled=at.disabled,qt.style.setProperty("display","block"),qt.style.setProperty("position","fixed"),Rt.addElement(be),et.addElement(qe),et.beforeStyles({"transform-origin":`${Ne} center`}).beforeAddWrite(()=>{at.style.setProperty("display","none"),qt.style.setProperty(Ne,wt)}).afterAddWrite(()=>{at.style.setProperty("display",""),qt.style.setProperty("display","none"),qt.style.removeProperty(Ne)}).keyframes(he),Rt.beforeStyles({"transform-origin":`${rt} center`}).keyframes(Oe),Xe.addAnimation([et,Rt])},Te=(Xe,vt,lt,at,ye,Ce)=>{const wt=vt?`calc(100% - ${ye.right}px)`:`${ye.left}px`,Ve=vt?"-18px":"18px",tt=vt?"right":"left",rt=lt?[{offset:0,opacity:0,transform:`translate3d(${Ve}, ${Ce.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${ye.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${ye.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Ve}, ${Ce.top-4}px, 0) scale(0.5)`}],ie=He("ion-title"),ut=(0,c.c)();ie.innerText=at.innerText,ie.size=at.size,ie.color=at.color,ut.addElement(ie),ut.beforeStyles({"transform-origin":`${tt} center`,height:"46px",display:"",position:"relative",[tt]:wt}).beforeAddWrite(()=>{at.style.setProperty("display","none")}).afterAddWrite(()=>{at.style.setProperty("display",""),ie.style.setProperty("display","none")}).keyframes(rt),Xe.addAnimation(ut)},ze=(Xe,vt)=>{var lt;try{const at="cubic-bezier(0.32,0.72,0,1)",ye="opacity",Ce="transform",wt="0%",tt="rtl"===Xe.ownerDocument.dir,Ke=tt?"-99.5%":"99.5%",Ne=tt?"33%":"-33%",rt=vt.enteringEl,ie=vt.leavingEl,ut="back"===vt.direction,he=rt.querySelector(":scope > ion-content"),B=rt.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),ke=rt.querySelectorAll(":scope > ion-header > ion-toolbar"),Oe=(0,c.c)(),et=(0,c.c)();if(Oe.addElement(rt).duration((null!==(lt=vt.duration)&&void 0!==lt?lt:0)||540).easing(vt.easing||at).fill("both").beforeRemoveClass("ion-page-invisible"),ie&&null!=Xe){const be=(0,c.c)();be.addElement(Xe),Oe.addAnimation(be)}if(he||0!==ke.length||0!==B.length?(et.addElement(he),et.addElement(B)):et.addElement(rt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Oe.addAnimation(et),ut?et.beforeClearStyles([ye]).fromTo("transform",`translateX(${Ne})`,`translateX(${wt})`).fromTo(ye,.8,1):et.beforeClearStyles([ye]).fromTo("transform",`translateX(${Ke})`,`translateX(${wt})`),he){const be=we(he).querySelector(".transition-effect");if(be){const K=be.querySelector(".transition-cover"),le=be.querySelector(".transition-shadow"),ve=(0,c.c)(),Me=(0,c.c)(),Be=(0,c.c)();ve.addElement(be).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Me.addElement(K).beforeClearStyles([ye]).fromTo(ye,0,.1),Be.addElement(le).beforeClearStyles([ye]).fromTo(ye,.03,.7),ve.addAnimation([Me,Be]),et.addAnimation([ve])}}const Rt=rt.querySelector("ion-header.header-collapse-condense"),{forward:qt,backward:qe}=((Xe,vt,lt,at,ye)=>{const Ce=$e(at,lt),wt=Se(ye),Ve=Se(at),tt=$e(ye,lt),Ke=null!==Ce&&null!==wt&&!lt,Ne=null!==Ve&&null!==tt&&lt;if(Ke){const rt=wt.getBoundingClientRect(),ie=Ce.getBoundingClientRect();Te(Xe,vt,lt,wt,rt,ie),de(Xe,vt,lt,Ce,rt,ie)}else if(Ne){const rt=Ve.getBoundingClientRect(),ie=tt.getBoundingClientRect();Te(Xe,vt,lt,Ve,rt,ie),de(Xe,vt,lt,tt,rt,ie)}return{forward:Ke,backward:Ne}})(Oe,tt,ut,rt,ie);if(ke.forEach(be=>{const K=(0,c.c)();K.addElement(be),Oe.addAnimation(K);const le=(0,c.c)();le.addElement(be.querySelector("ion-title"));const ve=(0,c.c)(),Me=Array.from(be.querySelectorAll("ion-buttons,[menuToggle]")),Be=be.closest("ion-header"),At=null==Be?void 0:Be.classList.contains("header-collapse-condense-inactive");let Ot;Ot=Me.filter(ut?Pn=>{const Fn=Pn.classList.contains("buttons-collapse");return Fn&&!At||!Fn}:Pn=>!Pn.classList.contains("buttons-collapse")),ve.addElement(Ot);const Bt=(0,c.c)();Bt.addElement(be.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Ht=(0,c.c)();Ht.addElement(we(be).querySelector(".toolbar-background"));const An=(0,c.c)(),vn=be.querySelector("ion-back-button");if(vn&&An.addElement(vn),K.addAnimation([le,ve,Bt,Ht,An]),ve.fromTo(ye,.01,1),Bt.fromTo(ye,.01,1),ut)At||le.fromTo("transform",`translateX(${Ne})`,`translateX(${wt})`).fromTo(ye,.01,1),Bt.fromTo("transform",`translateX(${Ne})`,`translateX(${wt})`),An.fromTo(ye,.01,1);else if(Rt||le.fromTo("transform",`translateX(${Ke})`,`translateX(${wt})`).fromTo(ye,.01,1),Bt.fromTo("transform",`translateX(${Ke})`,`translateX(${wt})`),Ht.beforeClearStyles([ye,"transform"]),(null==Be?void 0:Be.translucent)?Ht.fromTo("transform",tt?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Ht.fromTo(ye,.01,"var(--opacity)"),qt||An.fromTo(ye,.01,1),vn&&!qt){const Fn=(0,c.c)();Fn.addElement(we(vn).querySelector(".button-text")).fromTo("transform",tt?"translateX(-100px)":"translateX(100px)","translateX(0px)"),K.addAnimation(Fn)}}),ie){const be=(0,c.c)(),K=ie.querySelector(":scope > ion-content"),le=ie.querySelectorAll(":scope > ion-header > ion-toolbar"),ve=ie.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(K||0!==le.length||0!==ve.length?(be.addElement(K),be.addElement(ve)):be.addElement(ie.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Oe.addAnimation(be),ut){be.beforeClearStyles([ye]).fromTo("transform",`translateX(${wt})`,tt?"translateX(-100%)":"translateX(100%)");const Me=(0,ne.g)(ie);Oe.afterAddWrite(()=>{"normal"===Oe.getDirection()&&Me.style.setProperty("display","none")})}else be.fromTo("transform",`translateX(${wt})`,`translateX(${Ne})`).fromTo(ye,1,.8);if(K){const Me=we(K).querySelector(".transition-effect");if(Me){const Be=Me.querySelector(".transition-cover"),At=Me.querySelector(".transition-shadow"),Ot=(0,c.c)(),Bt=(0,c.c)(),Ht=(0,c.c)();Ot.addElement(Me).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Bt.addElement(Be).beforeClearStyles([ye]).fromTo(ye,.1,0),Ht.addElement(At).beforeClearStyles([ye]).fromTo(ye,.7,.03),Ot.addAnimation([Bt,Ht]),be.addAnimation([Ot])}}le.forEach(Me=>{const Be=(0,c.c)();Be.addElement(Me);const At=(0,c.c)();At.addElement(Me.querySelector("ion-title"));const Ot=(0,c.c)(),Bt=Me.querySelectorAll("ion-buttons,[menuToggle]"),Ht=Me.closest("ion-header"),An=null==Ht?void 0:Ht.classList.contains("header-collapse-condense-inactive"),vn=Array.from(Bt).filter(Or=>{const Yt=Or.classList.contains("buttons-collapse");return Yt&&!An||!Yt});Ot.addElement(vn);const Pn=(0,c.c)(),Fn=Me.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Fn.length>0&&Pn.addElement(Fn);const rn=(0,c.c)();rn.addElement(we(Me).querySelector(".toolbar-background"));const En=(0,c.c)(),zn=Me.querySelector("ion-back-button");if(zn&&En.addElement(zn),Be.addAnimation([At,Ot,Pn,En,rn]),Oe.addAnimation(Be),En.fromTo(ye,.99,0),Ot.fromTo(ye,.99,0),Pn.fromTo(ye,.99,0),ut){if(An||At.fromTo("transform",`translateX(${wt})`,tt?"translateX(-100%)":"translateX(100%)").fromTo(ye,.99,0),Pn.fromTo("transform",`translateX(${wt})`,tt?"translateX(-100%)":"translateX(100%)"),rn.beforeClearStyles([ye,"transform"]),(null==Ht?void 0:Ht.translucent)?rn.fromTo("transform","translateX(0px)",tt?"translateX(-100%)":"translateX(100%)"):rn.fromTo(ye,"var(--opacity)",0),zn&&!qe){const Yt=(0,c.c)();Yt.addElement(we(zn).querySelector(".button-text")).fromTo("transform",`translateX(${wt})`,`translateX(${(tt?-124:124)+"px"})`),Be.addAnimation(Yt)}}else An||At.fromTo("transform",`translateX(${wt})`,`translateX(${Ne})`).fromTo(ye,.99,0).afterClearStyles([Ce,ye]),Pn.fromTo("transform",`translateX(${wt})`,`translateX(${Ne})`).afterClearStyles([Ce,ye]),En.afterClearStyles([ye]),At.afterClearStyles([ye]),Ot.afterClearStyles([ye])})}return Oe}catch(at){throw at}}},7838:(gn,_t,$)=>{"use strict";$.r(_t),$.d(_t,{mdTransitionAnimation:()=>Le});var c=$(181),ne=$(1843);$(3457),$(1308);const Le=(He,we)=>{var Se,$e,xe;const ze="back"===we.direction,vt=we.leavingEl,lt=(0,ne.g)(we.enteringEl),at=lt.querySelector("ion-toolbar"),ye=(0,c.c)();if(ye.addElement(lt).fill("both").beforeRemoveClass("ion-page-invisible"),ze?ye.duration((null!==(Se=we.duration)&&void 0!==Se?Se:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):ye.duration((null!==($e=we.duration)&&void 0!==$e?$e:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),at){const Ce=(0,c.c)();Ce.addElement(at),ye.addAnimation(Ce)}if(vt&&ze){ye.duration((null!==(xe=we.duration)&&void 0!==xe?xe:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Ce=(0,c.c)();Ce.addElement((0,ne.g)(vt)).onFinish(wt=>{1===wt&&Ce.elements.length>0&&Ce.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),ye.addAnimation(Ce)}return ye}},7996:(gn,_t,$)=>{"use strict";$.d(_t,{B:()=>K,G:()=>le,a:()=>Se,b:()=>$e,c:()=>ze,d:()=>ut,e:()=>vt,f:()=>B,g:()=>et,h:()=>He,i:()=>qt,j:()=>ye,k:()=>rt,l:()=>xe,m:()=>de,s:()=>be,t:()=>Xe});var c=$(5861),ne=$(5179),W=$(7593),Ue=$(5730);let Le=0;const He=new WeakMap,we=ve=>({create:Me=>lt(ve,Me),dismiss:(Me,Be,At)=>Ke(document,Me,Be,ve,At),getTop:()=>(0,c.Z)(function*(){return rt(document,ve)})()}),Se=we("ion-alert"),$e=we("ion-action-sheet"),xe=we("ion-loading"),de=we("ion-modal"),ze=we("ion-popover"),Xe=we("ion-toast"),vt=ve=>{typeof document<"u"&&tt(document);const Me=Le++;ve.overlayIndex=Me,ve.hasAttribute("id")||(ve.id=`ion-overlay-${Me}`)},lt=(ve,Me)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(ve).then(()=>{const Be=document.createElement(ve);return Be.classList.add("overlay-hidden"),Object.assign(Be,Object.assign(Object.assign({},Me),{hasController:!0})),ke(document).appendChild(Be),new Promise(At=>(0,Ue.c)(Be,At))}):Promise.resolve(),at='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',ye=(ve,Me)=>{let Be=ve.querySelector(at);const At=null==Be?void 0:Be.shadowRoot;At&&(Be=At.querySelector(at)||Be),Be?(0,Ue.f)(Be):Me.focus()},wt=(ve,Me)=>{const Be=Array.from(ve.querySelectorAll(at));let At=Be.length>0?Be[Be.length-1]:null;const Ot=null==At?void 0:At.shadowRoot;Ot&&(At=Ot.querySelector(at)||At),At?At.focus():Me.focus()},tt=ve=>{0===Le&&(Le=1,ve.addEventListener("focus",Me=>{((ve,Me)=>{const Be=rt(Me,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),At=ve.target;Be&&At&&!Be.classList.contains("ion-disable-focus-trap")&&(Be.shadowRoot?(()=>{if(Be.contains(At))Be.lastFocus=At;else{const Ht=Be.lastFocus;ye(Be,Be),Ht===Me.activeElement&&wt(Be,Be),Be.lastFocus=Me.activeElement}})():(()=>{if(Be===At)Be.lastFocus=void 0;else{const Ht=(0,Ue.g)(Be);if(!Ht.contains(At))return;const An=Ht.querySelector(".ion-overlay-wrapper");if(!An)return;if(An.contains(At))Be.lastFocus=At;else{const vn=Be.lastFocus;ye(An,Be),vn===Me.activeElement&&wt(An,Be),Be.lastFocus=Me.activeElement}}})())})(Me,ve)},!0),ve.addEventListener("ionBackButton",Me=>{const Be=rt(ve);null!=Be&&Be.backdropDismiss&&Me.detail.register(W.OVERLAY_BACK_BUTTON_PRIORITY,()=>Be.dismiss(void 0,K))}),ve.addEventListener("keyup",Me=>{if("Escape"===Me.key){const Be=rt(ve);null!=Be&&Be.backdropDismiss&&Be.dismiss(void 0,K)}}))},Ke=(ve,Me,Be,At,Ot)=>{const Bt=rt(ve,At,Ot);return Bt?Bt.dismiss(Me,Be):Promise.reject("overlay does not exist")},rt=(ve,Me,Be)=>{const At=((ve,Me)=>(void 0===Me&&(Me="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(ve.querySelectorAll(Me)).filter(Be=>Be.overlayIndex>0)))(ve,Me).filter(Ot=>!(ve=>ve.classList.contains("overlay-hidden"))(Ot));return void 0===Be?At[At.length-1]:At.find(Ot=>Ot.id===Be)},ie=(ve=!1)=>{const Be=ke(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");!Be||(ve?Be.setAttribute("aria-hidden","true"):Be.removeAttribute("aria-hidden"))},ut=function(){var ve=(0,c.Z)(function*(Me,Be,At,Ot,Bt){var Ht,An;if(Me.presented)return;ie(!0),Me.presented=!0,Me.willPresent.emit(),null===(Ht=Me.willPresentShorthand)||void 0===Ht||Ht.emit();const vn=(0,ne.b)(Me),Pn=Me.enterAnimation?Me.enterAnimation:ne.c.get(Be,"ios"===vn?At:Ot);(yield Oe(Me,Pn,Me.el,Bt))&&(Me.didPresent.emit(),null===(An=Me.didPresentShorthand)||void 0===An||An.emit()),"ION-TOAST"!==Me.el.tagName&&he(Me.el),Me.keyboardClose&&(null===document.activeElement||!Me.el.contains(document.activeElement))&&Me.el.focus()});return function(Be,At,Ot,Bt,Ht){return ve.apply(this,arguments)}}(),he=function(){var ve=(0,c.Z)(function*(Me){let Be=document.activeElement;if(!Be)return;const At=null==Be?void 0:Be.shadowRoot;At&&(Be=At.querySelector(at)||Be),yield Me.onDidDismiss(),Be.focus()});return function(Be){return ve.apply(this,arguments)}}(),B=function(){var ve=(0,c.Z)(function*(Me,Be,At,Ot,Bt,Ht,An){var vn,Pn;if(!Me.presented)return!1;ie(!1),Me.presented=!1;try{Me.el.style.setProperty("pointer-events","none"),Me.willDismiss.emit({data:Be,role:At}),null===(vn=Me.willDismissShorthand)||void 0===vn||vn.emit({data:Be,role:At});const Fn=(0,ne.b)(Me),rn=Me.leaveAnimation?Me.leaveAnimation:ne.c.get(Ot,"ios"===Fn?Bt:Ht);At!==le&&(yield Oe(Me,rn,Me.el,An)),Me.didDismiss.emit({data:Be,role:At}),null===(Pn=Me.didDismissShorthand)||void 0===Pn||Pn.emit({data:Be,role:At}),He.delete(Me),Me.el.classList.add("overlay-hidden"),Me.el.style.removeProperty("pointer-events")}catch(Fn){console.error(Fn)}return Me.el.remove(),!0});return function(Be,At,Ot,Bt,Ht,An,vn){return ve.apply(this,arguments)}}(),ke=ve=>ve.querySelector("ion-app")||ve.body,Oe=function(){var ve=(0,c.Z)(function*(Me,Be,At,Ot){At.classList.remove("overlay-hidden");const Ht=Be(Me.el,Ot);(!Me.animated||!ne.c.getBoolean("animated",!0))&&Ht.duration(0),Me.keyboardClose&&Ht.beforeAddWrite(()=>{const vn=At.ownerDocument.activeElement;null!=vn&&vn.matches("input,ion-input, ion-textarea")&&vn.blur()});const An=He.get(Me)||[];return He.set(Me,[...An,Ht]),yield Ht.play(),!0});return function(Be,At,Ot,Bt){return ve.apply(this,arguments)}}(),et=(ve,Me)=>{let Be;const At=new Promise(Ot=>Be=Ot);return Rt(ve,Me,Ot=>{Be(Ot.detail)}),At},Rt=(ve,Me,Be)=>{const At=Ot=>{(0,Ue.b)(ve,Me,At),Be(Ot)};(0,Ue.a)(ve,Me,At)},qt=ve=>"cancel"===ve||ve===K,qe=ve=>ve(),be=(ve,Me)=>{if("function"==typeof ve)return ne.c.get("_zoneGate",qe)(()=>{try{return ve(Me)}catch(At){throw At}})},K="backdrop",le="gesture"},6738:(gn,_t,$)=>{"use strict";$.d(_t,{H:()=>Yt,a:()=>Be,b:()=>br,c:()=>ur,d:()=>Tt,g:()=>it,h:()=>zn,r:()=>ye});var c=$(5861);let Le,He,W=0,Ue=!1,we=!1;const Se=typeof window<"u"?window:{},$e=Se.CSS,xe=Se.document||{head:{}},de={$flags$:0,$resourcesUrl$:"",jmp:Z=>Z(),raf:Z=>requestAnimationFrame(Z),ael:(Z,pe,Ye,pt)=>Z.addEventListener(pe,Ye,pt),rel:(Z,pe,Ye,pt)=>Z.removeEventListener(pe,Ye,pt)},Te=(()=>(xe.head.attachShadow+"").indexOf("[native")>-1)(),ze=Z=>Promise.resolve(Z),Xe=(()=>{try{return new CSSStyleSheet,!0}catch(Z){}return!1})(),vt={},lt=new WeakMap,at=Z=>lt.get(Z),ye=(Z,pe)=>lt.set(pe.$lazyInstance$=Z,pe),wt=(Z,pe)=>pe in Z,Ve=Z=>console.error(Z),tt=new Map,Ne=new Map,rt=[],ie=[],ut=[],he=(Z,pe)=>Ye=>{Z.push(Ye),Ue||(Ue=!0,pe&&4&de.$flags$?et(Oe):de.raf(Oe))},ke=(Z,pe)=>{let Ye=0,pt=0;for(;Ye<Z.length&&(pt=performance.now())<pe;)try{Z[Ye++](pt)}catch(Lt){Ve(Lt)}Ye===Z.length?Z.length=0:0!==Ye&&Z.splice(0,Ye)},Oe=()=>{W++,(Z=>{for(let pe=0;pe<Z.length;pe++)try{Z[pe](performance.now())}catch(Ye){Ve(Ye)}Z.length=0})(rt);const Z=2==(6&de.$flags$)?performance.now()+10*Math.ceil(W*(1/22)):1/0;ke(ie,Z),ke(ut,Z),ie.length>0&&(ut.push(...ie),ie.length=0),(Ue=rt.length+ie.length+ut.length>0)?de.raf(Oe):W=0},et=Z=>ze().then(Z),Rt=he(rt,!1),qt=he(ie,!0),qe={},ve=Z=>"object"==(Z=typeof Z)||"function"===Z,Be=()=>$e&&$e.supports&&$e.supports("color","var(--c)")?ze():$.e(4952).then($.t.bind($,9723,23)).then(()=>(de.$cssShim$=Se.__cssshim)?de.$cssShim$.i():0),vn=new WeakMap,En=(Z,pe)=>"sc-"+Z,zn=(Z,pe,...Ye)=>{let pt=null,Lt=!1,en=!1,tn=[];const Cn=Rn=>{for(let Dr=0;Dr<Rn.length;Dr++)pt=Rn[Dr],Array.isArray(pt)?Cn(pt):null!=pt&&"boolean"!=typeof pt&&((Lt="function"!=typeof Z&&!ve(pt))&&(pt=String(pt)),Lt&&en?tn[tn.length-1].$text$+=pt:tn.push(Lt?Or(null,pt):pt),en=Lt)};if(Cn(Ye),pe){const Rn=pe.className||pe.class;Rn&&(pe.class="object"!=typeof Rn?Rn:Object.keys(Rn).filter(Dr=>Rn[Dr]).join(" "))}const hn=Or(Z,null);return hn.$attrs$=pe,tn.length>0&&(hn.$children$=tn),hn},Or=(Z,pe)=>({$flags$:0,$tag$:Z,$text$:pe,$elm$:null,$children$:null,$attrs$:null}),Yt={},fr=(Z,pe,Ye,pt,Lt,en)=>{if(Ye!==pt){let tn=wt(Z,pe),Cn=pe.toLowerCase();if("class"===pe){const hn=Z.classList,Rn=wr(Ye),Dr=wr(pt);hn.remove(...Rn.filter(Yr=>Yr&&!Dr.includes(Yr))),hn.add(...Dr.filter(Yr=>Yr&&!Rn.includes(Yr)))}else if("style"===pe){for(const hn in Ye)(!pt||null==pt[hn])&&(hn.includes("-")?Z.style.removeProperty(hn):Z.style[hn]="");for(const hn in pt)(!Ye||pt[hn]!==Ye[hn])&&(hn.includes("-")?Z.style.setProperty(hn,pt[hn]):Z.style[hn]=pt[hn])}else if("ref"===pe)pt&&pt(Z);else if(tn||"o"!==pe[0]||"n"!==pe[1]){const hn=ve(pt);if((tn||hn&&null!==pt)&&!Lt)try{if(Z.tagName.includes("-"))Z[pe]=pt;else{let Rn=pt??"";"list"===pe?tn=!1:(null==Ye||Z[pe]!=Rn)&&(Z[pe]=Rn)}}catch(Rn){}null==pt||!1===pt?Z.removeAttribute(pe):(!tn||4&en||Lt)&&!hn&&Z.setAttribute(pe,pt=!0===pt?"":pt)}else pe="-"===pe[2]?pe.slice(3):wt(Se,Cn)?Cn.slice(2):Cn[2]+pe.slice(3),Ye&&de.rel(Z,pe,Ye,!1),pt&&de.ael(Z,pe,pt,!1)}},ni=/\s/,wr=Z=>Z?Z.split(ni):[],Kr=(Z,pe,Ye,pt)=>{const Lt=11===pe.$elm$.nodeType&&pe.$elm$.host?pe.$elm$.host:pe.$elm$,en=Z&&Z.$attrs$||qe,tn=pe.$attrs$||qe;for(pt in en)pt in tn||fr(Lt,pt,en[pt],void 0,Ye,pe.$flags$);for(pt in tn)fr(Lt,pt,en[pt],tn[pt],Ye,pe.$flags$)},ci=(Z,pe,Ye,pt)=>{let tn,Cn,Lt=pe.$children$[Ye],en=0;if(null!==Lt.$text$)tn=Lt.$elm$=xe.createTextNode(Lt.$text$);else{if(we||(we="svg"===Lt.$tag$),tn=Lt.$elm$=xe.createElementNS(we?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",Lt.$tag$),we&&"foreignObject"===Lt.$tag$&&(we=!1),Kr(null,Lt,we),(Z=>null!=Z)(Le)&&tn["s-si"]!==Le&&tn.classList.add(tn["s-si"]=Le),Lt.$children$)for(en=0;en<Lt.$children$.length;++en)Cn=ci(Z,Lt,en),Cn&&tn.appendChild(Cn);"svg"===Lt.$tag$?we=!1:"foreignObject"===tn.tagName&&(we=!0)}return tn},rr=(Z,pe,Ye,pt,Lt,en)=>{let Cn,tn=Z;for(tn.shadowRoot&&tn.tagName===He&&(tn=tn.shadowRoot);Lt<=en;++Lt)pt[Lt]&&(Cn=ci(null,Ye,Lt),Cn&&(pt[Lt].$elm$=Cn,tn.insertBefore(Cn,pe)))},tr=(Z,pe,Ye,pt,Lt)=>{for(;pe<=Ye;++pe)(pt=Z[pe])&&(Lt=pt.$elm$,Pr(pt),Lt.remove())},Zn=(Z,pe)=>Z.$tag$===pe.$tag$,Jr=(Z,pe)=>{const Ye=pe.$elm$=Z.$elm$,pt=Z.$children$,Lt=pe.$children$,en=pe.$tag$,tn=pe.$text$;null===tn?(we="svg"===en||"foreignObject"!==en&&we,Kr(Z,pe,we),null!==pt&&null!==Lt?((Z,pe,Ye,pt)=>{let di,Lt=0,en=0,tn=pe.length-1,Cn=pe[0],hn=pe[tn],Rn=pt.length-1,Dr=pt[0],Yr=pt[Rn];for(;Lt<=tn&&en<=Rn;)null==Cn?Cn=pe[++Lt]:null==hn?hn=pe[--tn]:null==Dr?Dr=pt[++en]:null==Yr?Yr=pt[--Rn]:Zn(Cn,Dr)?(Jr(Cn,Dr),Cn=pe[++Lt],Dr=pt[++en]):Zn(hn,Yr)?(Jr(hn,Yr),hn=pe[--tn],Yr=pt[--Rn]):Zn(Cn,Yr)?(Jr(Cn,Yr),Z.insertBefore(Cn.$elm$,hn.$elm$.nextSibling),Cn=pe[++Lt],Yr=pt[--Rn]):Zn(hn,Dr)?(Jr(hn,Dr),Z.insertBefore(hn.$elm$,Cn.$elm$),hn=pe[--tn],Dr=pt[++en]):(di=ci(pe&&pe[en],Ye,en),Dr=pt[++en],di&&Cn.$elm$.parentNode.insertBefore(di,Cn.$elm$));Lt>tn?rr(Z,null==pt[Rn+1]?null:pt[Rn+1].$elm$,Ye,pt,en,Rn):en>Rn&&tr(pe,Lt,tn)})(Ye,pt,pe,Lt):null!==Lt?(null!==Z.$text$&&(Ye.textContent=""),rr(Ye,null,pe,Lt,0,Lt.length-1)):null!==pt&&tr(pt,0,pt.length-1),we&&"svg"===en&&(we=!1)):Z.$text$!==tn&&(Ye.data=tn)},Pr=Z=>{Z.$attrs$&&Z.$attrs$.ref&&Z.$attrs$.ref(null),Z.$children$&&Z.$children$.forEach(Pr)},Gr=(Z,pe)=>{pe&&!Z.$onRenderResolve$&&pe["s-p"].push(new Promise(Ye=>Z.$onRenderResolve$=Ye))},qr=(Z,pe,Ye,pt)=>{if(pe.$flags$|=16,4&pe.$flags$)return void(pe.$flags$|=512);const tn=pe.$lazyInstance$,Cn=()=>vi(Z,pe,Ye,tn,pt);return Gr(pe,pe.$ancestorComponent$),pt&&(pe.$flags$|=256,pe.$queuedListeners$&&(pe.$queuedListeners$.forEach(([Rn,Dr])=>gr(tn,Rn,Dr)),pe.$queuedListeners$=null)),yn(void 0,()=>qt(Cn))},vi=(Z,pe,Ye,pt,Lt)=>{const tn=Z["s-rc"];Lt&&((Z,pe,Ye)=>{const Lt=((Z,pe,Ye,pt)=>{let Lt=En(pe.$tagName$),en=Ne.get(Lt);if(Z=11===Z.nodeType?Z:xe,en)if("string"==typeof en){let Cn,tn=vn.get(Z=Z.head||Z);if(tn||vn.set(Z,tn=new Set),!tn.has(Lt)){if(de.$cssShim$){Cn=de.$cssShim$.createHostStyle(pt,Lt,en,!!(10&pe.$flags$));const hn=Cn["s-sc"];hn&&(Lt=hn,tn=null)}else Cn=xe.createElement("style"),Cn.innerHTML=en;Z.insertBefore(Cn,Z.querySelector("link")),tn&&tn.add(Lt)}}else Z.adoptedStyleSheets.includes(en)||(Z.adoptedStyleSheets=[...Z.adoptedStyleSheets,en]);return Lt})(Te&&Z.shadowRoot?Z.shadowRoot:Z.getRootNode(),pe,0,Z);10&pe.$flags$&&(Z["s-sc"]=Lt,Z.classList.add(Lt+"-h"))})(Z,Ye);((Z,pe,Ye,pt)=>{He=Z.tagName;const Lt=pe.$vnode$||Or(null,null),en=(Z=>Z&&Z.$tag$===Yt)(pt)?pt:zn(null,null,pt);en.$tag$=null,en.$flags$|=4,pe.$vnode$=en,en.$elm$=Lt.$elm$=Z.shadowRoot||Z,Le=Z["s-sc"],Jr(Lt,en)})(Z,pe,0,Ir(pt)),de.$cssShim$&&de.$cssShim$.updateHost(Z),pe.$flags$&=-17,pe.$flags$|=2,tn&&(tn.forEach(hn=>hn()),Z["s-rc"]=void 0);{const hn=Z["s-p"],Rn=()=>oi(Z,pe,Ye);0===hn.length?Rn():(Promise.all(hn).then(Rn),pe.$flags$|=4,hn.length=0)}},Ir=(Z,pe)=>{try{Z=Z.render()}catch(Ye){Ve(Ye)}return Z},oi=(Z,pe,Ye)=>{const Lt=pe.$lazyInstance$,en=pe.$ancestorComponent$;64&pe.$flags$||(pe.$flags$|=64,zt(Z),gr(Lt,"componentDidLoad"),pe.$onReadyResolve$(Z),en||er()),pe.$onInstanceResolve$(Z),pe.$onRenderResolve$&&(pe.$onRenderResolve$(),pe.$onRenderResolve$=void 0),512&pe.$flags$&&et(()=>qr(Z,pe,Ye,!1)),pe.$flags$&=-517},er=Z=>{zt(xe.documentElement),de.$flags$|=2},gr=(Z,pe,Ye)=>{if(Z&&Z[pe])try{return Z[pe](Ye)}catch(pt){Ve(pt)}},yn=(Z,pe)=>Z&&Z.then?Z.then(pe):pe(),zt=Z=>Z.classList.add("hydrated"),Pt=(Z,pe,Ye)=>{if(pe.$members$){const pt=Object.entries(pe.$members$),Lt=Z.prototype;if(pt.forEach(([en,[tn]])=>{31&tn||2&Ye&&32&tn?Object.defineProperty(Lt,en,{get(){return((Z,pe)=>at(this).$instanceValues$.get(pe))(0,en)},set(Cn){((Z,pe,Ye,pt)=>{const Lt=at(Z),en=Lt.$hostElement$,tn=Lt.$instanceValues$.get(pe),Cn=Lt.$flags$,hn=Lt.$lazyInstance$;Ye=((Z,pe)=>null==Z||ve(Z)?Z:4&pe?"false"!==Z&&(""===Z||!!Z):2&pe?parseFloat(Z):1&pe?String(Z):Z)(Ye,pt.$members$[pe][0]),Ye!==tn&&(!(8&Cn)||void 0===tn)&&(Lt.$instanceValues$.set(pe,Ye),hn&&2==(18&Cn)&&qr(en,Lt,pt,!1))})(this,en,Cn,pe)},configurable:!0,enumerable:!0}):1&Ye&&64&tn&&Object.defineProperty(Lt,en,{value(...Cn){const hn=at(this);return hn.$onInstancePromise$.then(()=>hn.$lazyInstance$[en](...Cn))}})}),1&Ye){const en=new Map;Lt.attributeChangedCallback=function(tn,Cn,hn){de.jmp(()=>{const Rn=en.get(tn);this[Rn]=(null!==hn||"boolean"!=typeof this[Rn])&&hn})},Z.observedAttributes=pt.filter(([tn,Cn])=>15&Cn[0]).map(([tn,Cn])=>{const hn=Cn[1]||tn;return en.set(hn,tn),hn})}}return Z},Mt=function(){var Z=(0,c.Z)(function*(pe,Ye,pt,Lt,en){if(0==(32&Ye.$flags$)){Ye.$flags$|=32;{if(en=((Z,pe,Ye)=>{const pt=Z.$tagName$.replace(/-/g,"_"),Lt=Z.$lazyBundleIds$,en=tt.get(Lt);return en?en[pt]:$(5899)(`./${Lt}.entry.js`).then(tn=>(tt.set(Lt,tn),tn[pt]),Ve)})(pt),en.then){const Dr=()=>{};en=yield en,Dr()}en.isProxied||(Pt(en,pt,2),en.isProxied=!0);const Rn=()=>{};Ye.$flags$|=8;try{new en(Ye)}catch(Dr){Ve(Dr)}Ye.$flags$&=-9,Rn()}const hn=En(pt.$tagName$);if(!Ne.has(hn)&&en.style){const Rn=()=>{};let Dr=en.style;8&pt.$flags$&&(Dr=yield $.e(5487).then($.bind($,5487)).then(Yr=>Yr.scopeCss(Dr,hn,!1))),((Z,pe,Ye)=>{let pt=Ne.get(Z);Xe&&Ye?(pt=pt||new CSSStyleSheet,pt.replace(pe)):pt=pe,Ne.set(Z,pt)})(hn,Dr,!!(1&pt.$flags$)),Rn()}}const tn=Ye.$ancestorComponent$,Cn=()=>qr(pe,Ye,pt,!0);tn&&tn["s-rc"]?tn["s-rc"].push(Cn):Cn()});return function(Ye,pt,Lt,en,tn){return Z.apply(this,arguments)}}(),Vn=(Z,pe)=>{if(0==(1&de.$flags$)){const Ye=()=>{},pt=at(Z);if(pe.$listeners$&&(pt.$rmListeners$=((Z,pe,Ye)=>{pe.$queuedListeners$=pe.$queuedListeners$||[];const pt=Ye.map(([Lt,en,tn])=>{const Cn=((Z,pe)=>32&pe?xe.body:Z)(Z,Lt),hn=((Z,pe)=>Ye=>{256&Z.$flags$?Z.$lazyInstance$[pe](Ye):Z.$queuedListeners$.push([pe,Ye])})(pe,tn),Rn=(Z=>0!=(2&Z))(Lt);return de.ael(Cn,en,hn,Rn),()=>de.rel(Cn,en,hn,Rn)});return()=>pt.forEach(Lt=>Lt())})(Z,pt,pe.$listeners$)),!(1&pt.$flags$)){pt.$flags$|=1;{let Lt=Z;for(;Lt=Lt.parentNode||Lt.host;)if(Lt["s-p"]){Gr(pt,pt.$ancestorComponent$=Lt);break}}pe.$members$&&Object.entries(pe.$members$).forEach(([Lt,[en]])=>{if(31&en&&Z.hasOwnProperty(Lt)){const tn=Z[Lt];delete Z[Lt],Z[Lt]=tn}}),et(()=>Mt(Z,pt,pe))}Ye()}},br=(Z,pe={})=>{const pt=[],Lt=pe.exclude||[],en=Se.customElements,tn=xe.head,Cn=tn.querySelector("meta[charset]"),hn=xe.createElement("style"),Rn=[];let Dr,Yr=!0;Object.assign(de,pe),de.$resourcesUrl$=new URL(pe.resourcesUrl||"./",xe.baseURI).href,pe.syncQueue&&(de.$flags$|=4),Z.forEach(di=>di[1].forEach(mr=>{const Er={$flags$:mr[0],$tagName$:mr[1],$members$:mr[2],$listeners$:mr[3]};Er.$members$=mr[2],Er.$listeners$=mr[3],!Te&&1&Er.$flags$&&(Er.$flags$|=8);const Fr=Er.$tagName$,Si=class extends HTMLElement{constructor(pr){super(pr),(Z=>{const pe={$flags$:0,$hostElement$:Z,$instanceValues$:new Map};pe.$onInstancePromise$=new Promise(Ye=>pe.$onInstanceResolve$=Ye),pe.$onReadyPromise$=new Promise(Ye=>pe.$onReadyResolve$=Ye),Z["s-p"]=[],Z["s-rc"]=[],lt.set(Z,pe)})(pr=this),1&Er.$flags$&&(Te?pr.attachShadow({mode:"open"}):"shadowRoot"in pr||(pr.shadowRoot=pr))}connectedCallback(){Dr&&(clearTimeout(Dr),Dr=null),Yr?Rn.push(this):de.jmp(()=>Vn(this,Er))}disconnectedCallback(){de.jmp(()=>(Z=>{if(0==(1&de.$flags$)){const pe=at(Z),Ye=pe.$lazyInstance$;pe.$rmListeners$&&(pe.$rmListeners$(),pe.$rmListeners$=void 0),de.$cssShim$&&de.$cssShim$.removeHost(Z),gr(Ye,"componentDidUnload")}})(this))}forceUpdate(){((Z,pe)=>{{const Ye=at(Z);Ye.$hostElement$.isConnected&&2==(18&Ye.$flags$)&&qr(Z,Ye,pe,!1)}})(this,Er)}componentOnReady(){return at(this).$onReadyPromise$}};Er.$lazyBundleIds$=di[0],!Lt.includes(Fr)&&!en.get(Fr)&&(pt.push(Fr),en.define(Fr,Pt(Si,Er,1)))})),hn.innerHTML=pt+"{visibility:hidden}.hydrated{visibility:inherit}",hn.setAttribute("data-styles",""),tn.insertBefore(hn,Cn?Cn.nextSibling:tn.firstChild),Yr=!1,Rn.length>0?Rn.forEach(di=>di.connectedCallback()):de.jmp(()=>Dr=setTimeout(er,30))},ur=(Z,pe,Ye)=>{const pt=it(Z);return{emit:Lt=>{const en=new CustomEvent(pe,{bubbles:!!(4&Ye),composed:!!(2&Ye),cancelable:!!(1&Ye),detail:Lt});return pt.dispatchEvent(en),en}}},Tt=(Z,pe)=>pe in vt?vt[pe]:"window"===pe?Se:"document"===pe?xe:"isServer"!==pe&&"isPrerender"!==pe&&("isClient"===pe||("resourcesUrl"===pe||"publicPath"===pe?(Z=>{const pe=new URL(".",de.$resourcesUrl$);return pe.origin!==Se.location.origin?pe.href:pe.pathname})():"queue"===pe?{write:qt,read:Rt,tick:{then:Ye=>et(Ye)}}:void 0)),it=Z=>at(Z).$hostElement$},849:(gn,_t,$)=>{"use strict";$.d(_t,{K:()=>He});var c=$(5861),ne=$(4424),W=$.n(ne);const Ue={SecureStorage:"ionicSecureStorage",IndexedDB:W().INDEXEDDB,LocalStorage:W().LOCALSTORAGE},Le={name:"_ionicstorage",storeName:"_ionickv",dbKey:"_ionickey",driverOrder:[Ue.SecureStorage,Ue.IndexedDB,Ue.LocalStorage]};class He{constructor(Se=Le){this._db=null,this._secureStorageDriver=null;const $e=Object.assign({},Le,Se||{});this._config=$e}create(){var Se=this;return(0,c.Z)(function*(){const $e=W().createInstance(Se._config);return Se._db=$e,yield $e.setDriver(Se._config.driverOrder||[]),Se})()}defineDriver(Se){var $e=this;return(0,c.Z)(function*(){return Se._driver===Ue.SecureStorage&&($e._secureStorageDriver=Se),W().defineDriver(Se)})()}get driver(){var Se;return(null===(Se=this._db)||void 0===Se?void 0:Se.driver())||null}assertDb(){if(!this._db)throw new Error("Database not created. Must call create() first");return this._db}get(Se){return this.assertDb().getItem(Se)}set(Se,$e){return this.assertDb().setItem(Se,$e)}remove(Se){return this.assertDb().removeItem(Se)}clear(){return this.assertDb().clear()}length(){return this.assertDb().length()}keys(){return this.assertDb().keys()}forEach(Se){return this.assertDb().iterate(Se)}setEncryptionKey(Se){var $e;if(!this._secureStorageDriver)throw new Error("@ionic-enterprise/secure-storage not installed. Encryption support not available");null===($e=this._secureStorageDriver)||void 0===$e||$e.setEncryptionKey(Se)}}},1172:(gn,_t,$)=>{"use strict";var c=$(1481),ne=$(4650),W=$(4074),Ue=$(1082),Le=$(2011),He=$(4986),we=$(9751),Se=$(9646),$e=$(6451),xe=$(4004),de=$(3099),Te=$(3900),ze=$(5026),Xe=$(1884),vt=$(4482),lt=$(5403),at=$(8421),ye=$(4671),Ce=$(5032),wt=$(7669),Ke=$(2122),rt=($(9169),$(3942)),ie=$(4859),ut=$(5861),he=$(9681),B=$(2090),ke=$(1877);const Oe="@firebase/database";let Rt="";function qt(u){Rt=u}class qe{constructor(o){this.domStorage_=o,this.prefix_="firebase:"}set(o,l){null==l?this.domStorage_.removeItem(this.prefixedName_(o)):this.domStorage_.setItem(this.prefixedName_(o),(0,B.Wl)(l))}get(o){const l=this.domStorage_.getItem(this.prefixedName_(o));return null==l?null:(0,B.cI)(l)}remove(o){this.domStorage_.removeItem(this.prefixedName_(o))}prefixedName_(o){return this.prefix_+o}toString(){return this.domStorage_.toString()}}class be{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(o,l){null==l?delete this.cache_[o]:this.cache_[o]=l}get(o){return(0,B.r3)(this.cache_,o)?this.cache_[o]:null}remove(o){delete this.cache_[o]}}const K=function(u){try{if(typeof window<"u"&&typeof window[u]<"u"){const o=window[u];return o.setItem("firebase:sentinel","cache"),o.removeItem("firebase:sentinel"),new qe(o)}}catch(o){}return new be},le=K("localStorage"),ve=K("sessionStorage"),Me=new ke.Yd("@firebase/database"),Be=function(){let u=1;return function(){return u++}}(),At=function(u){const o=(0,B.dS)(u),l=new B.gQ;l.update(o);const f=l.digest();return B.US.encodeByteArray(f)},Ot=function(...u){let o="";for(let l=0;l<u.length;l++){const f=u[l];Array.isArray(f)||f&&"object"==typeof f&&"number"==typeof f.length?o+=Ot.apply(null,f):o+="object"==typeof f?(0,B.Wl)(f):f,o+=" "}return o};let Bt=null,Ht=!0;const An=function(u,o){(0,B.hu)(!o||!0===u||!1===u,"Can't turn on custom loggers persistently."),!0===u?(Me.logLevel=ke.in.VERBOSE,Bt=Me.log.bind(Me),o&&ve.set("logging_enabled",!0)):"function"==typeof u?Bt=u:(Bt=null,ve.remove("logging_enabled"))},vn=function(...u){if(!0===Ht&&(Ht=!1,null===Bt&&!0===ve.get("logging_enabled")&&An(!0)),Bt){const o=Ot.apply(null,u);Bt(o)}},Pn=function(u){return function(...o){vn(u,...o)}},Fn=function(...u){const o="FIREBASE INTERNAL ERROR: "+Ot(...u);Me.error(o)},rn=function(...u){const o=`FIREBASE FATAL ERROR: ${Ot(...u)}`;throw Me.error(o),new Error(o)},En=function(...u){const o="FIREBASE WARNING: "+Ot(...u);Me.warn(o)},Or=function(u){return"number"==typeof u&&(u!=u||u===Number.POSITIVE_INFINITY||u===Number.NEGATIVE_INFINITY)},wn="[MIN_NAME]",fr="[MAX_NAME]",ni=function(u,o){if(u===o)return 0;if(u===wn||o===fr)return-1;if(o===wn||u===fr)return 1;{const l=vi(u),f=vi(o);return null!==l?null!==f?l-f==0?u.length-o.length:l-f:-1:null!==f?1:u<o?-1:1}},wr=function(u,o){return u===o?0:u<o?-1:1},Kr=function(u,o){if(o&&u in o)return o[u];throw new Error("Missing required key ("+u+") in object: "+(0,B.Wl)(o))},ci=function(u){if("object"!=typeof u||null===u)return(0,B.Wl)(u);const o=[];for(const f in u)o.push(f);o.sort();let l="{";for(let f=0;f<o.length;f++)0!==f&&(l+=","),l+=(0,B.Wl)(o[f]),l+=":",l+=ci(u[o[f]]);return l+="}",l},rr=function(u,o){const l=u.length;if(l<=o)return[u];const f=[];for(let v=0;v<l;v+=o)f.push(u.substring(v,v+o>l?l:v+o));return f};function tr(u,o){for(const l in u)u.hasOwnProperty(l)&&o(l,u[l])}const Hn=function(u){(0,B.hu)(!Or(u),"Invalid JSON number");const f=1023;let v,D,k,te,ge;0===u?(D=0,k=0,v=1/u==-1/0?1:0):(v=u<0,(u=Math.abs(u))>=Math.pow(2,1-f)?(te=Math.min(Math.floor(Math.log(u)/Math.LN2),f),D=te+f,k=Math.round(u*Math.pow(2,52-te)-Math.pow(2,52))):(D=0,k=Math.round(u/Math.pow(2,-1074))));const Ae=[];for(ge=52;ge;ge-=1)Ae.push(k%2?1:0),k=Math.floor(k/2);for(ge=11;ge;ge-=1)Ae.push(D%2?1:0),D=Math.floor(D/2);Ae.push(v?1:0),Ae.reverse();const Dt=Ae.join("");let Ft="";for(ge=0;ge<64;ge+=8){let Nt=parseInt(Dt.substr(ge,8),2).toString(16);1===Nt.length&&(Nt="0"+Nt),Ft+=Nt}return Ft.toLowerCase()},Sr=new RegExp("^-?(0*)\\d{1,10}$"),vi=function(u){if(Sr.test(u)){const o=Number(u);if(o>=-2147483648&&o<=2147483647)return o}return null},Ir=function(u){try{u()}catch(o){setTimeout(()=>{throw En("Exception was thrown by user callback.",o.stack||""),o},Math.floor(0))}},ar=function(u,o){const l=setTimeout(u,o);return"number"==typeof l&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(l):"object"==typeof l&&l.unref&&l.unref(),l};class er{constructor(o,l){this.appName_=o,this.appCheckProvider=l,this.appCheck=null==l?void 0:l.getImmediate({optional:!0}),this.appCheck||null==l||l.get().then(f=>this.appCheck=f)}getToken(o){return this.appCheck?this.appCheck.getToken(o):new Promise((l,f)=>{setTimeout(()=>{this.appCheck?this.getToken(o).then(l,f):l(null)},0)})}addTokenChangeListener(o){var l;null===(l=this.appCheckProvider)||void 0===l||l.get().then(f=>f.addTokenListener(o))}notifyForInvalidToken(){En(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class gr{constructor(o,l,f){this.appName_=o,this.firebaseOptions_=l,this.authProvider_=f,this.auth_=null,this.auth_=f.getImmediate({optional:!0}),this.auth_||f.onInit(v=>this.auth_=v)}getToken(o){return this.auth_?this.auth_.getToken(o).catch(l=>l&&"auth/token-not-initialized"===l.code?(vn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(l)):new Promise((l,f)=>{setTimeout(()=>{this.auth_?this.getToken(o).then(l,f):l(null)},0)})}addTokenChangeListener(o){this.auth_?this.auth_.addAuthTokenListener(o):this.authProvider_.get().then(l=>l.addAuthTokenListener(o))}removeTokenChangeListener(o){this.authProvider_.get().then(l=>l.removeAuthTokenListener(o))}notifyForInvalidToken(){let o='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';o+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',En(o)}}let yn=(()=>{class u{constructor(l){this.accessToken=l}getToken(l){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(l){l(this.accessToken)}removeTokenChangeListener(l){}notifyForInvalidToken(){}}return u.OWNER="owner",u})();const ot=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Mt="websocket",Vn="long_polling";class Qn{constructor(o,l,f,v,D=!1,k="",te=!1){this.secure=l,this.namespace=f,this.webSocketOnly=v,this.nodeAdmin=D,this.persistenceKey=k,this.includeNamespaceInQueryParams=te,this._host=o.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=le.get("host:"+o)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(o){o!==this.internalHost&&(this.internalHost=o,this.isCacheableHost()&&le.set("host:"+this._host,this.internalHost))}toString(){let o=this.toURLString();return this.persistenceKey&&(o+="<"+this.persistenceKey+">"),o}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function ur(u,o,l){let f;if((0,B.hu)("string"==typeof o,"typeof type must == string"),(0,B.hu)("object"==typeof l,"typeof params must == object"),o===Mt)f=(u.secure?"wss://":"ws://")+u.internalHost+"/.ws?";else{if(o!==Vn)throw new Error("Unknown connection type: "+o);f=(u.secure?"https://":"http://")+u.internalHost+"/.lp?"}(function br(u){return u.host!==u.internalHost||u.isCustomHost()||u.includeNamespaceInQueryParams})(u)&&(l.ns=u.namespace);const v=[];return tr(l,(D,k)=>{v.push(D+"="+k)}),f+v.join("&")}class $r{constructor(){this.counters_={}}incrementCounter(o,l=1){(0,B.r3)(this.counters_,o)||(this.counters_[o]=0),this.counters_[o]+=l}get(){return(0,B.p$)(this.counters_)}}const Tt={},it={};function Z(u){const o=u.toString();return Tt[o]||(Tt[o]=new $r),Tt[o]}class Ye{constructor(o){this.onMessage_=o,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(o,l){this.closeAfterResponse=o,this.onClose=l,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(o,l){for(this.pendingResponses[o]=l;this.pendingResponses[this.currentResponseNum];){const f=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let v=0;v<f.length;++v)f[v]&&Ir(()=>{this.onMessage_(f[v])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class ir{constructor(o,l,f,v,D,k,te){this.connId=o,this.repoInfo=l,this.applicationId=f,this.appCheckToken=v,this.authToken=D,this.transportSessionId=k,this.lastSessionId=te,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Pn(o),this.stats_=Z(l),this.urlFn=ge=>(this.appCheckToken&&(ge.ac=this.appCheckToken),ur(l,Vn,ge))}open(o,l){this.curSegmentNum=0,this.onDisconnect_=l,this.myPacketOrderer=new Ye(o),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(u){if((0,B.Yr)()||"complete"===document.readyState)u();else{let o=!1;const l=function(){document.body?o||(o=!0,u()):setTimeout(l,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",l,!1),window.addEventListener("load",l,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&l()}),window.attachEvent("onload",l))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Tr((...D)=>{const[k,te,ge,Ae,Dt]=D;if(this.incrementIncomingBytes_(D),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===k)this.id=te,this.password=ge;else{if("close"!==k)throw new Error("Unrecognized command received: "+k);te?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(te,()=>{this.onClosed_()})):this.onClosed_()}},(...D)=>{const[k,te]=D;this.incrementIncomingBytes_(D),this.myPacketOrderer.handleResponse(k,te)},()=>{this.onClosed_()},this.urlFn);const f={start:"t"};f.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(f.cb=this.scriptTagHolder.uniqueCallbackIdentifier),f.v="5",this.transportSessionId&&(f.s=this.transportSessionId),this.lastSessionId&&(f.ls=this.lastSessionId),this.applicationId&&(f.p=this.applicationId),this.appCheckToken&&(f.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&ot.test(location.hostname)&&(f.r="f");const v=this.urlFn(f);this.log_("Connecting via long-poll to "+v),this.scriptTagHolder.addTag(v,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ir.forceAllow_=!0}static forceDisallow(){ir.forceDisallow_=!0}static isAvailable(){return!((0,B.Yr)()||!ir.forceAllow_&&(ir.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(o){const l=(0,B.Wl)(o);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const f=(0,B.h$)(l),v=rr(f,1840);for(let D=0;D<v.length;D++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,v.length,v[D]),this.curSegmentNum++}addDisconnectPingFrame(o,l){if((0,B.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const f={dframe:"t"};f.id=o,f.pw=l,this.myDisconnFrame.src=this.urlFn(f),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(o){const l=(0,B.Wl)(o).length;this.bytesReceived+=l,this.stats_.incrementCounter("bytes_received",l)}}class Tr{constructor(o,l,f,v){if(this.onDisconnect=f,this.urlFn=v,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,B.Yr)())this.commandCB=o,this.onMessageCB=l;else{this.uniqueCallbackIdentifier=Be(),window["pLPCommand"+this.uniqueCallbackIdentifier]=o,window["pRTLPCB"+this.uniqueCallbackIdentifier]=l,this.myIFrame=Tr.createIFrame_();let D="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(D='<script>document.domain="'+document.domain+'";<\/script>');const k="<html><body>"+D+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(k),this.myIFrame.doc.close()}catch(te){vn("frame writing exception"),te.stack&&vn(te.stack),vn(te)}}}static createIFrame_(){const o=document.createElement("iframe");if(o.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(o);try{o.contentWindow.document||vn("No IE domain setting required")}catch(l){const f=document.domain;o.src="javascript:void((function(){document.open();document.domain='"+f+"';document.close();})())"}return o.contentDocument?o.doc=o.contentDocument:o.contentWindow?o.doc=o.contentWindow.document:o.document&&(o.doc=o.document),o}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const o=this.onDisconnect;o&&(this.onDisconnect=null,o())}startLongPoll(o,l){for(this.myID=o,this.myPW=l,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const o={};o.id=this.myID,o.pw=this.myPW,o.ser=this.currentSerial;let l=this.urlFn(o),f="",v=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+f.length<=1870;){const k=this.pendingSegs.shift();f=f+"&seg"+v+"="+k.seg+"&ts"+v+"="+k.ts+"&d"+v+"="+k.d,v++}return l+=f,this.addLongPollTag_(l,this.currentSerial),!0}return!1}enqueueSegment(o,l,f){this.pendingSegs.push({seg:o,ts:l,d:f}),this.alive&&this.newRequest_()}addLongPollTag_(o,l){this.outstandingRequests.add(l);const f=()=>{this.outstandingRequests.delete(l),this.newRequest_()},v=setTimeout(f,Math.floor(25e3));this.addTag(o,()=>{clearTimeout(v),f()})}addTag(o,l){(0,B.Yr)()?this.doNodeLongPoll(o,l):setTimeout(()=>{try{if(!this.sendNewPolls)return;const f=this.myIFrame.doc.createElement("script");f.type="text/javascript",f.async=!0,f.src=o,f.onload=f.onreadystatechange=function(){const v=f.readyState;(!v||"loaded"===v||"complete"===v)&&(f.onload=f.onreadystatechange=null,f.parentNode&&f.parentNode.removeChild(f),l())},f.onerror=()=>{vn("Long-poll script failed to load: "+o),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(f)}catch(f){}},Math.floor(1))}}let Ie=null;typeof MozWebSocket<"u"?Ie=MozWebSocket:typeof WebSocket<"u"&&(Ie=WebSocket);let ct=(()=>{class u{constructor(l,f,v,D,k,te,ge){this.connId=l,this.applicationId=v,this.appCheckToken=D,this.authToken=k,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Pn(this.connId),this.stats_=Z(f),this.connURL=u.connectionURL_(f,te,ge,D,v),this.nodeAdmin=f.nodeAdmin}static connectionURL_(l,f,v,D,k){const te={v:"5"};return!(0,B.Yr)()&&typeof location<"u"&&location.hostname&&ot.test(location.hostname)&&(te.r="f"),f&&(te.s=f),v&&(te.ls=v),D&&(te.ac=D),k&&(te.p=k),ur(l,Mt,te)}open(l,f){this.onDisconnect=f,this.onMessage=l,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,le.set("previous_websocket_failure",!0);try{let v;if((0,B.Yr)()){v={headers:{"User-Agent":`Firebase/5/${Rt}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(v.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(v.headers["X-Firebase-AppCheck"]=this.appCheckToken);const k=process.env,te=0===this.connURL.indexOf("wss://")?k.HTTPS_PROXY||k.https_proxy:k.HTTP_PROXY||k.http_proxy;te&&(v.proxy={origin:te})}this.mySock=new Ie(this.connURL,[],v)}catch(v){this.log_("Error instantiating WebSocket.");const D=v.message||v.data;return D&&this.log_(D),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=v=>{this.handleIncomingFrame(v)},this.mySock.onerror=v=>{this.log_("WebSocket error.  Closing connection.");const D=v.message||v.data;D&&this.log_(D),this.onClosed_()}}start(){}static forceDisallow(){u.forceDisallow_=!0}static isAvailable(){let l=!1;if(typeof navigator<"u"&&navigator.userAgent){const v=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);v&&v.length>1&&parseFloat(v[1])<4.4&&(l=!0)}return!l&&null!==Ie&&!u.forceDisallow_}static previouslyFailed(){return le.isInMemoryStorage||!0===le.get("previous_websocket_failure")}markConnectionHealthy(){le.remove("previous_websocket_failure")}appendFrame_(l){if(this.frames.push(l),this.frames.length===this.totalFrames){const f=this.frames.join("");this.frames=null;const v=(0,B.cI)(f);this.onMessage(v)}}handleNewFrameCount_(l){this.totalFrames=l,this.frames=[]}extractFrameCount_(l){if((0,B.hu)(null===this.frames,"We already have a frame buffer"),l.length<=6){const f=Number(l);if(!isNaN(f))return this.handleNewFrameCount_(f),null}return this.handleNewFrameCount_(1),l}handleIncomingFrame(l){if(null===this.mySock)return;const f=l.data;if(this.bytesReceived+=f.length,this.stats_.incrementCounter("bytes_received",f.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(f);else{const v=this.extractFrameCount_(f);null!==v&&this.appendFrame_(v)}}send(l){this.resetKeepAlive();const f=(0,B.Wl)(l);this.bytesSent+=f.length,this.stats_.incrementCounter("bytes_sent",f.length);const v=rr(f,16384);v.length>1&&this.sendString_(String(v.length));for(let D=0;D<v.length;D++)this.sendString_(v[D])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(l){try{this.mySock.send(l)}catch(f){this.log_("Exception thrown from WebSocket.send():",f.message||f.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return u.responsesRequiredToBeHealthy=2,u.healthyTimeout=3e4,u})(),N=(()=>{class u{constructor(l){this.initTransports_(l)}static get ALL_TRANSPORTS(){return[ir,ct]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(l){const f=ct&&ct.isAvailable();let v=f&&!ct.previouslyFailed();if(l.webSocketOnly&&(f||En("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),v=!0),v)this.transports_=[ct];else{const D=this.transports_=[];for(const k of u.ALL_TRANSPORTS)k&&k.isAvailable()&&D.push(k);u.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return u.globalTransportInitialized_=!1,u})();class yt{constructor(o,l,f,v,D,k,te,ge,Ae,Dt){this.id=o,this.repoInfo_=l,this.applicationId_=f,this.appCheckToken_=v,this.authToken_=D,this.onMessage_=k,this.onReady_=te,this.onDisconnect_=ge,this.onKill_=Ae,this.lastSessionId=Dt,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Pn("c:"+this.id+":"),this.transportManager_=new N(l),this.log_("Connection created"),this.start_()}start_(){const o=this.transportManager_.initialTransport();this.conn_=new o(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=o.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.conn_),f=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(l,f)},Math.floor(0));const v=o.healthyTimeout||0;v>0&&(this.healthyTimeout_=ar(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(v)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(o){return l=>{o===this.conn_?this.onConnectionLost_(l):o===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(o){return l=>{2!==this.state_&&(o===this.rx_?this.onPrimaryMessageReceived_(l):o===this.secondaryConn_?this.onSecondaryMessageReceived_(l):this.log_("message on old connection"))}}sendRequest(o){this.sendData_({t:"d",d:o})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(o){if("t"in o){const l=o.t;"a"===l?this.upgradeIfSecondaryHealthy_():"r"===l?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===l&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(o){const l=Kr("t",o),f=Kr("d",o);if("c"===l)this.onSecondaryControl_(f);else{if("d"!==l)throw new Error("Unknown protocol layer: "+l);this.pendingDataMessages.push(f)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(o){const l=Kr("t",o),f=Kr("d",o);"c"===l?this.onControl_(f):"d"===l&&this.onDataMessage_(f)}onDataMessage_(o){this.onPrimaryResponse_(),this.onMessage_(o)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(o){const l=Kr("t",o);if("d"in o){const f=o.d;if("h"===l)this.onHandshake_(f);else if("n"===l){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let v=0;v<this.pendingDataMessages.length;++v)this.onDataMessage_(this.pendingDataMessages[v]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===l?this.onConnectionShutdown_(f):"r"===l?this.onReset_(f):"e"===l?Fn("Server Error: "+f):"o"===l?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Fn("Unknown control packet command: "+l)}}onHandshake_(o){const l=o.ts,f=o.v,v=o.h;this.sessionId=o.s,this.repoInfo_.host=v,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,l),"5"!==f&&En("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const o=this.transportManager_.upgradeTransport();o&&this.startUpgrade_(o)}startUpgrade_(o){this.secondaryConn_=new o(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=o.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.secondaryConn_),f=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(l,f),ar(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(o){this.log_("Reset packet received.  New host: "+o),this.repoInfo_.host=o,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(o,l){this.log_("Realtime connection established."),this.conn_=o,this.state_=1,this.onReady_&&(this.onReady_(l,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ar(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const o=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===o||this.rx_===o)&&this.close()}onConnectionLost_(o){this.conn_=null,o||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(le.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(o){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(o),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(o){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(o)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class gt{put(o,l,f,v){}merge(o,l,f,v){}refreshAuthToken(o){}refreshAppCheckToken(o){}onDisconnectPut(o,l,f){}onDisconnectMerge(o,l,f){}onDisconnectCancel(o,l){}reportStats(o){}}class St{constructor(o){this.allowedEvents_=o,this.listeners_={},(0,B.hu)(Array.isArray(o)&&o.length>0,"Requires a non-empty array")}trigger(o,...l){if(Array.isArray(this.listeners_[o])){const f=[...this.listeners_[o]];for(let v=0;v<f.length;v++)f[v].callback.apply(f[v].context,l)}}on(o,l,f){this.validateEventType_(o),this.listeners_[o]=this.listeners_[o]||[],this.listeners_[o].push({callback:l,context:f});const v=this.getInitialEvent(o);v&&l.apply(f,v)}off(o,l,f){this.validateEventType_(o);const v=this.listeners_[o]||[];for(let D=0;D<v.length;D++)if(v[D].callback===l&&(!f||f===v[D].context))return void v.splice(D,1)}validateEventType_(o){(0,B.hu)(this.allowedEvents_.find(l=>l===o),"Unknown event: "+o)}}class Xt extends St{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,B.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Xt}getInitialEvent(o){return(0,B.hu)("online"===o,"Unknown event type: "+o),[this.online_]}currentlyOnline(){return this.online_}}class xn{constructor(o,l){if(void 0===l){this.pieces_=o.split("/");let f=0;for(let v=0;v<this.pieces_.length;v++)this.pieces_[v].length>0&&(this.pieces_[f]=this.pieces_[v],f++);this.pieces_.length=f,this.pieceNum_=0}else this.pieces_=o,this.pieceNum_=l}toString(){let o="";for(let l=this.pieceNum_;l<this.pieces_.length;l++)""!==this.pieces_[l]&&(o+="/"+this.pieces_[l]);return o||"/"}}function Kn(){return new xn("")}function Un(u){return u.pieceNum_>=u.pieces_.length?null:u.pieces_[u.pieceNum_]}function ai(u){return u.pieces_.length-u.pieceNum_}function xr(u){let o=u.pieceNum_;return o<u.pieces_.length&&o++,new xn(u.pieces_,o)}function ki(u){return u.pieceNum_<u.pieces_.length?u.pieces_[u.pieces_.length-1]:null}function Zi(u,o=0){return u.pieces_.slice(u.pieceNum_+o)}function Ai(u){if(u.pieceNum_>=u.pieces_.length)return null;const o=[];for(let l=u.pieceNum_;l<u.pieces_.length-1;l++)o.push(u.pieces_[l]);return new xn(o,0)}function yi(u,o){const l=[];for(let f=u.pieceNum_;f<u.pieces_.length;f++)l.push(u.pieces_[f]);if(o instanceof xn)for(let f=o.pieceNum_;f<o.pieces_.length;f++)l.push(o.pieces_[f]);else{const f=o.split("/");for(let v=0;v<f.length;v++)f[v].length>0&&l.push(f[v])}return new xn(l,0)}function Nr(u){return u.pieceNum_>=u.pieces_.length}function Hi(u,o){const l=Un(u),f=Un(o);if(null===l)return o;if(l===f)return Hi(xr(u),xr(o));throw new Error("INTERNAL ERROR: innerPath ("+o+") is not within outerPath ("+u+")")}function Gi(u,o){const l=Zi(u,0),f=Zi(o,0);for(let v=0;v<l.length&&v<f.length;v++){const D=ni(l[v],f[v]);if(0!==D)return D}return l.length===f.length?0:l.length<f.length?-1:1}function Ss(u,o){if(ai(u)!==ai(o))return!1;for(let l=u.pieceNum_,f=o.pieceNum_;l<=u.pieces_.length;l++,f++)if(u.pieces_[l]!==o.pieces_[f])return!1;return!0}function Ni(u,o){let l=u.pieceNum_,f=o.pieceNum_;if(ai(u)>ai(o))return!1;for(;l<u.pieces_.length;){if(u.pieces_[l]!==o.pieces_[f])return!1;++l,++f}return!0}class ho{constructor(o,l){this.errorPrefix_=l,this.parts_=Zi(o,0),this.byteLength_=Math.max(1,this.parts_.length);for(let f=0;f<this.parts_.length;f++)this.byteLength_+=(0,B.ug)(this.parts_[f]);Ws(this)}}function Ws(u){if(u.byteLength_>768)throw new Error(u.errorPrefix_+"has a key path longer than 768 bytes ("+u.byteLength_+").");if(u.parts_.length>32)throw new Error(u.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+rs(u))}function rs(u){return 0===u.parts_.length?"":"in property '"+u.parts_.join(".")+"'"}class lo extends St{constructor(){let o,l;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(l="visibilitychange",o="hidden"):typeof document.mozHidden<"u"?(l="mozvisibilitychange",o="mozHidden"):typeof document.msHidden<"u"?(l="msvisibilitychange",o="msHidden"):typeof document.webkitHidden<"u"&&(l="webkitvisibilitychange",o="webkitHidden")),this.visible_=!0,l&&document.addEventListener(l,()=>{const f=!document[o];f!==this.visible_&&(this.visible_=f,this.trigger("visible",f))},!1)}static getInstance(){return new lo}getInitialEvent(o){return(0,B.hu)("visible"===o,"Unknown event type: "+o),[this.visible_]}}const zi=1e3;let Wi,ds=(()=>{class u extends gt{constructor(l,f,v,D,k,te,ge,Ae){if(super(),this.repoInfo_=l,this.applicationId_=f,this.onDataUpdate_=v,this.onConnectStatus_=D,this.onServerInfoUpdate_=k,this.authTokenProvider_=te,this.appCheckTokenProvider_=ge,this.authOverride_=Ae,this.id=u.nextPersistentConnectionId_++,this.log_=Pn("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=zi,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,Ae&&!(0,B.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");lo.getInstance().on("visible",this.onVisible_,this),-1===l.host.indexOf("fblocal")&&Xt.getInstance().on("online",this.onOnline_,this)}sendRequest(l,f,v){const D=++this.requestNumber_,k={r:D,a:l,b:f};this.log_((0,B.Wl)(k)),(0,B.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(k),v&&(this.requestCBHash_[D]=v)}get(l){this.initConnection_();const f=new B.BH,D={action:"g",request:{p:l._path.toString(),q:l._queryObject},onComplete:te=>{const ge=te.d;"ok"===te.s?f.resolve(ge):f.reject(ge)}};return this.outstandingGets_.push(D),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),f.promise}listen(l,f,v,D){this.initConnection_();const k=l._queryIdentifier,te=l._path.toString();this.log_("Listen called for "+te+" "+k),this.listens.has(te)||this.listens.set(te,new Map),(0,B.hu)(l._queryParams.isDefault()||!l._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,B.hu)(!this.listens.get(te).has(k),"listen() called twice for same path/queryId.");const ge={onComplete:D,hashFn:f,query:l,tag:v};this.listens.get(te).set(k,ge),this.connected_&&this.sendListen_(ge)}sendGet_(l){const f=this.outstandingGets_[l];this.sendRequest("g",f.request,v=>{delete this.outstandingGets_[l],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),f.onComplete&&f.onComplete(v)})}sendListen_(l){const f=l.query,v=f._path.toString(),D=f._queryIdentifier;this.log_("Listen on "+v+" for "+D);const k={p:v};l.tag&&(k.q=f._queryObject,k.t=l.tag),k.h=l.hashFn(),this.sendRequest("q",k,ge=>{const Ae=ge.d,Dt=ge.s;u.warnOnListenWarnings_(Ae,f),(this.listens.get(v)&&this.listens.get(v).get(D))===l&&(this.log_("listen response",ge),"ok"!==Dt&&this.removeListen_(v,D),l.onComplete&&l.onComplete(Dt,Ae))})}static warnOnListenWarnings_(l,f){if(l&&"object"==typeof l&&(0,B.r3)(l,"w")){const v=(0,B.DV)(l,"w");if(Array.isArray(v)&&~v.indexOf("no_index")){const D='".indexOn": "'+f._queryParams.getIndex().toString()+'"',k=f._path.toString();En(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${D} at ${k} to your security rules for better performance.`)}}}refreshAuthToken(l){this.authToken_=l,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(l)}reduceReconnectDelayIfAdminCredential_(l){(l&&40===l.length||(0,B.GJ)(l))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(l){this.appCheckToken_=l,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const l=this.authToken_,f=(0,B.w9)(l)?"auth":"gauth",v={cred:l};null===this.authOverride_?v.noauth=!0:"object"==typeof this.authOverride_&&(v.authvar=this.authOverride_),this.sendRequest(f,v,D=>{const k=D.s,te=D.d||"error";this.authToken_===l&&("ok"===k?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(k,te))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},l=>{const f=l.s,v=l.d||"error";"ok"===f?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(f,v)})}unlisten(l,f){const v=l._path.toString(),D=l._queryIdentifier;this.log_("Unlisten called for "+v+" "+D),(0,B.hu)(l._queryParams.isDefault()||!l._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(v,D)&&this.connected_&&this.sendUnlisten_(v,D,l._queryObject,f)}sendUnlisten_(l,f,v,D){this.log_("Unlisten on "+l+" for "+f);const k={p:l};D&&(k.q=v,k.t=D),this.sendRequest("n",k)}onDisconnectPut(l,f,v){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",l,f,v):this.onDisconnectRequestQueue_.push({pathString:l,action:"o",data:f,onComplete:v})}onDisconnectMerge(l,f,v){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",l,f,v):this.onDisconnectRequestQueue_.push({pathString:l,action:"om",data:f,onComplete:v})}onDisconnectCancel(l,f){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",l,null,f):this.onDisconnectRequestQueue_.push({pathString:l,action:"oc",data:null,onComplete:f})}sendOnDisconnect_(l,f,v,D){const k={p:f,d:v};this.log_("onDisconnect "+l,k),this.sendRequest(l,k,te=>{D&&setTimeout(()=>{D(te.s,te.d)},Math.floor(0))})}put(l,f,v,D){this.putInternal("p",l,f,v,D)}merge(l,f,v,D){this.putInternal("m",l,f,v,D)}putInternal(l,f,v,D,k){this.initConnection_();const te={p:f,d:v};void 0!==k&&(te.h=k),this.outstandingPuts_.push({action:l,request:te,onComplete:D}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+f)}sendPut_(l){const f=this.outstandingPuts_[l].action,v=this.outstandingPuts_[l].request,D=this.outstandingPuts_[l].onComplete;this.outstandingPuts_[l].queued=this.connected_,this.sendRequest(f,v,k=>{this.log_(f+" response",k),delete this.outstandingPuts_[l],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),D&&D(k.s,k.d)})}reportStats(l){if(this.connected_){const f={c:l};this.log_("reportStats",f),this.sendRequest("s",f,v=>{"ok"!==v.s&&this.log_("reportStats","Error sending stats: "+v.d)})}}onDataMessage_(l){if("r"in l){this.log_("from server: "+(0,B.Wl)(l));const f=l.r,v=this.requestCBHash_[f];v&&(delete this.requestCBHash_[f],v(l.b))}else{if("error"in l)throw"A server-side error has occurred: "+l.error;"a"in l&&this.onDataPush_(l.a,l.b)}}onDataPush_(l,f){this.log_("handleServerMessage",l,f),"d"===l?this.onDataUpdate_(f.p,f.d,!1,f.t):"m"===l?this.onDataUpdate_(f.p,f.d,!0,f.t):"c"===l?this.onListenRevoked_(f.p,f.q):"ac"===l?this.onAuthRevoked_(f.s,f.d):"apc"===l?this.onAppCheckRevoked_(f.s,f.d):"sd"===l?this.onSecurityDebugPacket_(f):Fn("Unrecognized action received from server: "+(0,B.Wl)(l)+"\nAre you using the latest client?")}onReady_(l,f){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(l),this.lastSessionId=f,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(l){(0,B.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(l))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(l){l&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=zi,this.realtime_||this.scheduleConnect_(0)),this.visible_=l}onOnline_(l){l?(this.log_("Browser went online."),this.reconnectDelay_=zi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=zi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const l=(new Date).getTime()-this.lastConnectionAttemptTime_;let f=Math.max(0,this.reconnectDelay_-l);f=Math.random()*f,this.log_("Trying to reconnect in "+f+"ms"),this.scheduleConnect_(f),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var l=this;return(0,ut.Z)(function*(){if(l.shouldReconnect_()){l.log_("Making a connection attempt"),l.lastConnectionAttemptTime_=(new Date).getTime(),l.lastConnectionEstablishedTime_=null;const f=l.onDataMessage_.bind(l),v=l.onReady_.bind(l),D=l.onRealtimeDisconnect_.bind(l),k=l.id+":"+u.nextConnectionId_++,te=l.lastSessionId;let ge=!1,Ae=null;const Dt=function(){Ae?Ae.close():(ge=!0,D())};l.realtime_={close:Dt,sendRequest:function(Jt){(0,B.hu)(Ae,"sendRequest call when we're not connected not allowed."),Ae.sendRequest(Jt)}};const Nt=l.forceTokenRefresh_;l.forceTokenRefresh_=!1;try{const[Jt,_n]=yield Promise.all([l.authTokenProvider_.getToken(Nt),l.appCheckTokenProvider_.getToken(Nt)]);ge?vn("getToken() completed but was canceled"):(vn("getToken() completed. Creating connection."),l.authToken_=Jt&&Jt.accessToken,l.appCheckToken_=_n&&_n.token,Ae=new yt(k,l.repoInfo_,l.applicationId_,l.appCheckToken_,l.authToken_,f,v,D,Rr=>{En(Rr+" ("+l.repoInfo_.toString()+")"),l.interrupt("server_kill")},te))}catch(Jt){l.log_("Failed to get token: "+Jt),ge||(l.repoInfo_.nodeAdmin&&En(Jt),Dt())}}})()}interrupt(l){vn("Interrupting connection for reason: "+l),this.interruptReasons_[l]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(l){vn("Resuming connection for reason: "+l),delete this.interruptReasons_[l],(0,B.xb)(this.interruptReasons_)&&(this.reconnectDelay_=zi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(l){const f=l-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:f})}cancelSentTransactions_(){for(let l=0;l<this.outstandingPuts_.length;l++){const f=this.outstandingPuts_[l];f&&"h"in f.request&&f.queued&&(f.onComplete&&f.onComplete("disconnect"),delete this.outstandingPuts_[l],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(l,f){let v;v=f?f.map(k=>ci(k)).join("$"):"default";const D=this.removeListen_(l,v);D&&D.onComplete&&D.onComplete("permission_denied")}removeListen_(l,f){const v=new xn(l).toString();let D;if(this.listens.has(v)){const k=this.listens.get(v);D=k.get(f),k.delete(f),0===k.size&&this.listens.delete(v)}else D=void 0;return D}onAuthRevoked_(l,f){vn("Auth token revoked: "+l+"/"+f),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===l||"permission_denied"===l)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(l,f){vn("App check token revoked: "+l+"/"+f),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===l||"permission_denied"===l)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(l){this.securityDebugCallback_?this.securityDebugCallback_(l):"msg"in l&&console.log("FIREBASE: "+l.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const l of this.listens.values())for(const f of l.values())this.sendListen_(f);for(let l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){const l=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(l.action,l.pathString,l.data,l.onComplete)}for(let l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)}sendConnectStats_(){const l={};let f="js";(0,B.Yr)()&&(f=this.repoInfo_.nodeAdmin?"admin_node":"node"),l["sdk."+f+"."+Rt.replace(/\./g,"-")]=1,(0,B.uI)()?l["framework.cordova"]=1:(0,B.b$)()&&(l["framework.reactnative"]=1),this.reportStats(l)}shouldReconnect_(){const l=Xt.getInstance().currentlyOnline();return(0,B.xb)(this.interruptReasons_)&&l}}return u.nextPersistentConnectionId_=0,u.nextConnectionId_=0,u})();class Ar{constructor(o,l){this.name=o,this.node=l}static Wrap(o,l){return new Ar(o,l)}}class bi{getCompare(){return this.compare.bind(this)}indexedValueChanged(o,l){const f=new Ar(wn,o),v=new Ar(wn,l);return 0!==this.compare(f,v)}minPost(){return Ar.MIN}}class is extends bi{static get __EMPTY_NODE(){return Wi}static set __EMPTY_NODE(o){Wi=o}compare(o,l){return ni(o.name,l.name)}isDefinedOn(o){throw(0,B.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(o,l){return!1}minPost(){return Ar.MIN}maxPost(){return new Ar(fr,Wi)}makePost(o,l){return(0,B.hu)("string"==typeof o,"KeyIndex indexValue must always be a string."),new Ar(o,Wi)}toString(){return".key"}}const Oi=new is;class qs{constructor(o,l,f,v,D=null){this.isReverse_=v,this.resultGenerator_=D,this.nodeStack_=[];let k=1;for(;!o.isEmpty();)if(k=l?f(o.key,l):1,v&&(k*=-1),k<0)o=this.isReverse_?o.left:o.right;else{if(0===k){this.nodeStack_.push(o);break}this.nodeStack_.push(o),o=this.isReverse_?o.right:o.left}}getNext(){if(0===this.nodeStack_.length)return null;let l,o=this.nodeStack_.pop();if(l=this.resultGenerator_?this.resultGenerator_(o.key,o.value):{key:o.key,value:o.value},this.isReverse_)for(o=o.left;!o.isEmpty();)this.nodeStack_.push(o),o=o.right;else for(o=o.right;!o.isEmpty();)this.nodeStack_.push(o),o=o.left;return l}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const o=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(o.key,o.value):{key:o.key,value:o.value}}}let po,$i=(()=>{class u{constructor(l,f,v,D,k){this.key=l,this.value=f,this.color=null!=v?v:u.RED,this.left=null!=D?D:Ki.EMPTY_NODE,this.right=null!=k?k:Ki.EMPTY_NODE}copy(l,f,v,D,k){return new u(null!=l?l:this.key,null!=f?f:this.value,null!=v?v:this.color,null!=D?D:this.left,null!=k?k:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(l){return this.left.inorderTraversal(l)||!!l(this.key,this.value)||this.right.inorderTraversal(l)}reverseTraversal(l){return this.right.reverseTraversal(l)||l(this.key,this.value)||this.left.reverseTraversal(l)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(l,f,v){let D=this;const k=v(l,D.key);return D=k<0?D.copy(null,null,null,D.left.insert(l,f,v),null):0===k?D.copy(null,f,null,null,null):D.copy(null,null,null,null,D.right.insert(l,f,v)),D.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ki.EMPTY_NODE;let l=this;return!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),l=l.copy(null,null,null,l.left.removeMin_(),null),l.fixUp_()}remove(l,f){let v,D;if(v=this,f(l,v.key)<0)!v.left.isEmpty()&&!v.left.isRed_()&&!v.left.left.isRed_()&&(v=v.moveRedLeft_()),v=v.copy(null,null,null,v.left.remove(l,f),null);else{if(v.left.isRed_()&&(v=v.rotateRight_()),!v.right.isEmpty()&&!v.right.isRed_()&&!v.right.left.isRed_()&&(v=v.moveRedRight_()),0===f(l,v.key)){if(v.right.isEmpty())return Ki.EMPTY_NODE;D=v.right.min_(),v=v.copy(D.key,D.value,null,null,v.right.removeMin_())}v=v.copy(null,null,null,null,v.right.remove(l,f))}return v.fixUp_()}isRed_(){return this.color}fixUp_(){let l=this;return l.right.isRed_()&&!l.left.isRed_()&&(l=l.rotateLeft_()),l.left.isRed_()&&l.left.left.isRed_()&&(l=l.rotateRight_()),l.left.isRed_()&&l.right.isRed_()&&(l=l.colorFlip_()),l}moveRedLeft_(){let l=this.colorFlip_();return l.right.left.isRed_()&&(l=l.copy(null,null,null,null,l.right.rotateRight_()),l=l.rotateLeft_(),l=l.colorFlip_()),l}moveRedRight_(){let l=this.colorFlip_();return l.left.left.isRed_()&&(l=l.rotateRight_(),l=l.colorFlip_()),l}rotateLeft_(){const l=this.copy(null,null,u.RED,null,this.right.left);return this.right.copy(null,null,this.color,l,null)}rotateRight_(){const l=this.copy(null,null,u.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,l)}colorFlip_(){const l=this.left.copy(null,null,!this.left.color,null,null),f=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,l,f)}checkMaxDepth_(){const l=this.check_();return Math.pow(2,l)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const l=this.left.check_();if(l!==this.right.check_())throw new Error("Black depths differ");return l+(this.isRed_()?0:1)}}return u.RED=!0,u.BLACK=!1,u})();class Ki{constructor(o,l=Ki.EMPTY_NODE){this.comparator_=o,this.root_=l}insert(o,l){return new Ki(this.comparator_,this.root_.insert(o,l,this.comparator_).copy(null,null,$i.BLACK,null,null))}remove(o){return new Ki(this.comparator_,this.root_.remove(o,this.comparator_).copy(null,null,$i.BLACK,null,null))}get(o){let l,f=this.root_;for(;!f.isEmpty();){if(l=this.comparator_(o,f.key),0===l)return f.value;l<0?f=f.left:l>0&&(f=f.right)}return null}getPredecessorKey(o){let l,f=this.root_,v=null;for(;!f.isEmpty();){if(l=this.comparator_(o,f.key),0===l){if(f.left.isEmpty())return v?v.key:null;for(f=f.left;!f.right.isEmpty();)f=f.right;return f.key}l<0?f=f.left:l>0&&(v=f,f=f.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(o){return this.root_.inorderTraversal(o)}reverseTraversal(o){return this.root_.reverseTraversal(o)}getIterator(o){return new qs(this.root_,null,this.comparator_,!1,o)}getIteratorFrom(o,l){return new qs(this.root_,o,this.comparator_,!1,l)}getReverseIteratorFrom(o,l){return new qs(this.root_,o,this.comparator_,!0,l)}getReverseIterator(o){return new qs(this.root_,null,this.comparator_,!0,o)}}function la(u,o){return ni(u.name,o.name)}function ko(u,o){return ni(u,o)}Ki.EMPTY_NODE=new class Ys{copy(o,l,f,v,D){return this}insert(o,l,f){return new $i(o,l,null)}remove(o,l){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(o){return!1}reverseTraversal(o){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const xi=function(u){return"number"==typeof u?"number:"+Hn(u):"string:"+u},Xi=function(u){if(u.isLeafNode()){const o=u.val();(0,B.hu)("string"==typeof o||"number"==typeof o||"object"==typeof o&&(0,B.r3)(o,".sv"),"Priority must be a string or number.")}else(0,B.hu)(u===po||u.isEmpty(),"priority of unexpected type.");(0,B.hu)(u===po||u.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let go,Do,bs,hs=(()=>{class u{constructor(l,f=u.__childrenNodeConstructor.EMPTY_NODE){this.value_=l,this.priorityNode_=f,this.lazyHash_=null,(0,B.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Xi(this.priorityNode_)}static set __childrenNodeConstructor(l){go=l}static get __childrenNodeConstructor(){return go}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(l){return new u(this.value_,l)}getImmediateChild(l){return".priority"===l?this.priorityNode_:u.__childrenNodeConstructor.EMPTY_NODE}getChild(l){return Nr(l)?this:".priority"===Un(l)?this.priorityNode_:u.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(l,f){return null}updateImmediateChild(l,f){return".priority"===l?this.updatePriority(f):f.isEmpty()&&".priority"!==l?this:u.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(l,f).updatePriority(this.priorityNode_)}updateChild(l,f){const v=Un(l);return null===v?f:f.isEmpty()&&".priority"!==v?this:((0,B.hu)(".priority"!==v||1===ai(l),".priority must be the last token in a path"),this.updateImmediateChild(v,u.__childrenNodeConstructor.EMPTY_NODE.updateChild(xr(l),f)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(l,f){return!1}val(l){return l&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let l="";this.priorityNode_.isEmpty()||(l+="priority:"+xi(this.priorityNode_.val())+":");const f=typeof this.value_;l+=f+":",l+="number"===f?Hn(this.value_):this.value_,this.lazyHash_=At(l)}return this.lazyHash_}getValue(){return this.value_}compareTo(l){return l===u.__childrenNodeConstructor.EMPTY_NODE?1:l instanceof u.__childrenNodeConstructor?-1:((0,B.hu)(l.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(l))}compareToLeafNode_(l){const f=typeof l.value_,v=typeof this.value_,D=u.VALUE_TYPE_ORDER.indexOf(f),k=u.VALUE_TYPE_ORDER.indexOf(v);return(0,B.hu)(D>=0,"Unknown leaf type: "+f),(0,B.hu)(k>=0,"Unknown leaf type: "+v),D===k?"object"===v?0:this.value_<l.value_?-1:this.value_===l.value_?0:1:k-D}withIndex(){return this}isIndexed(){return!0}equals(l){if(l===this)return!0;if(l.isLeafNode()){const f=l;return this.value_===f.value_&&this.priorityNode_.equals(f.priorityNode_)}return!1}}return u.VALUE_TYPE_ORDER=["object","boolean","number","string"],u})();const _i=new class ua extends bi{compare(o,l){const f=o.node.getPriority(),v=l.node.getPriority(),D=f.compareTo(v);return 0===D?ni(o.name,l.name):D}isDefinedOn(o){return!o.getPriority().isEmpty()}indexedValueChanged(o,l){return!o.getPriority().equals(l.getPriority())}minPost(){return Ar.MIN}maxPost(){return new Ar(fr,new hs("[PRIORITY-POST]",bs))}makePost(o,l){const f=Do(o);return new Ar(l,new hs("[PRIORITY-POST]",f))}toString(){return".priority"}},js=Math.log(2);class Qi{constructor(o){this.count=parseInt(Math.log(o+1)/js,10),this.current_=this.count-1;const v=(D=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=o+1&v}nextBitIsOne(){const o=!(this.bits_&1<<this.current_);return this.current_--,o}}const I=function(u,o,l,f){u.sort(o);const v=function(ge,Ae){const Dt=Ae-ge;let Ft,Nt;if(0===Dt)return null;if(1===Dt)return Ft=u[ge],Nt=l?l(Ft):Ft,new $i(Nt,Ft.node,$i.BLACK,null,null);{const Jt=parseInt(Dt/2,10)+ge,_n=v(ge,Jt),Rr=v(Jt+1,Ae);return Ft=u[Jt],Nt=l?l(Ft):Ft,new $i(Nt,Ft.node,$i.BLACK,_n,Rr)}},te=function(ge){let Ae=null,Dt=null,Ft=u.length;const Nt=function(_n,Rr){const Hr=Ft-_n,Ii=Ft;Ft-=_n;const gs=v(Hr+1,Ii),ms=u[Hr],Bs=l?l(ms):ms;Jt(new $i(Bs,ms.node,Rr,null,gs))},Jt=function(_n){Ae?(Ae.left=_n,Ae=_n):(Dt=_n,Ae=_n)};for(let _n=0;_n<ge.count;++_n){const Rr=ge.nextBitIsOne(),Hr=Math.pow(2,ge.count-(_n+1));Rr?Nt(Hr,$i.BLACK):(Nt(Hr,$i.BLACK),Nt(Hr,$i.RED))}return Dt}(new Qi(u.length));return new Ki(f||o,te)};let X;const w={};class G{constructor(o,l){this.indexes_=o,this.indexSet_=l}static get Default(){return(0,B.hu)(w&&_i,"ChildrenNode.ts has not been loaded"),X=X||new G({".priority":w},{".priority":_i}),X}get(o){const l=(0,B.DV)(this.indexes_,o);if(!l)throw new Error("No index defined for "+o);return l instanceof Ki?l:null}hasIndex(o){return(0,B.r3)(this.indexSet_,o.toString())}addIndex(o,l){(0,B.hu)(o!==Oi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const f=[];let v=!1;const D=l.getIterator(Ar.Wrap);let te,k=D.getNext();for(;k;)v=v||o.isDefinedOn(k.node),f.push(k),k=D.getNext();te=v?I(f,o.getCompare()):w;const ge=o.toString(),Ae=Object.assign({},this.indexSet_);Ae[ge]=o;const Dt=Object.assign({},this.indexes_);return Dt[ge]=te,new G(Dt,Ae)}addToIndexes(o,l){const f=(0,B.UI)(this.indexes_,(v,D)=>{const k=(0,B.DV)(this.indexSet_,D);if((0,B.hu)(k,"Missing index implementation for "+D),v===w){if(k.isDefinedOn(o.node)){const te=[],ge=l.getIterator(Ar.Wrap);let Ae=ge.getNext();for(;Ae;)Ae.name!==o.name&&te.push(Ae),Ae=ge.getNext();return te.push(o),I(te,k.getCompare())}return w}{const te=l.get(o.name);let ge=v;return te&&(ge=ge.remove(new Ar(o.name,te))),ge.insert(o,o.node)}});return new G(f,this.indexSet_)}removeFromIndexes(o,l){const f=(0,B.UI)(this.indexes_,v=>{if(v===w)return v;{const D=l.get(o.name);return D?v.remove(new Ar(o.name,D)):v}});return new G(f,this.indexSet_)}}let Re,Ct=(()=>{class u{constructor(l,f,v){this.children_=l,this.priorityNode_=f,this.indexMap_=v,this.lazyHash_=null,this.priorityNode_&&Xi(this.priorityNode_),this.children_.isEmpty()&&(0,B.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Re||(Re=new u(new Ki(ko),null,G.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Re}updatePriority(l){return this.children_.isEmpty()?this:new u(this.children_,l,this.indexMap_)}getImmediateChild(l){if(".priority"===l)return this.getPriority();{const f=this.children_.get(l);return null===f?Re:f}}getChild(l){const f=Un(l);return null===f?this:this.getImmediateChild(f).getChild(xr(l))}hasChild(l){return null!==this.children_.get(l)}updateImmediateChild(l,f){if((0,B.hu)(f,"We should always be passing snapshot nodes"),".priority"===l)return this.updatePriority(f);{const v=new Ar(l,f);let D,k;f.isEmpty()?(D=this.children_.remove(l),k=this.indexMap_.removeFromIndexes(v,this.children_)):(D=this.children_.insert(l,f),k=this.indexMap_.addToIndexes(v,this.children_));const te=D.isEmpty()?Re:this.priorityNode_;return new u(D,te,k)}}updateChild(l,f){const v=Un(l);if(null===v)return f;{(0,B.hu)(".priority"!==Un(l)||1===ai(l),".priority must be the last token in a path");const D=this.getImmediateChild(v).updateChild(xr(l),f);return this.updateImmediateChild(v,D)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(l){if(this.isEmpty())return null;const f={};let v=0,D=0,k=!0;if(this.forEachChild(_i,(te,ge)=>{f[te]=ge.val(l),v++,k&&u.INTEGER_REGEXP_.test(te)?D=Math.max(D,Number(te)):k=!1}),!l&&k&&D<2*v){const te=[];for(const ge in f)te[ge]=f[ge];return te}return l&&!this.getPriority().isEmpty()&&(f[".priority"]=this.getPriority().val()),f}hash(){if(null===this.lazyHash_){let l="";this.getPriority().isEmpty()||(l+="priority:"+xi(this.getPriority().val())+":"),this.forEachChild(_i,(f,v)=>{const D=v.hash();""!==D&&(l+=":"+f+":"+D)}),this.lazyHash_=""===l?"":At(l)}return this.lazyHash_}getPredecessorChildName(l,f,v){const D=this.resolveIndex_(v);if(D){const k=D.getPredecessorKey(new Ar(l,f));return k?k.name:null}return this.children_.getPredecessorKey(l)}getFirstChildName(l){const f=this.resolveIndex_(l);if(f){const v=f.minKey();return v&&v.name}return this.children_.minKey()}getFirstChild(l){const f=this.getFirstChildName(l);return f?new Ar(f,this.children_.get(f)):null}getLastChildName(l){const f=this.resolveIndex_(l);if(f){const v=f.maxKey();return v&&v.name}return this.children_.maxKey()}getLastChild(l){const f=this.getLastChildName(l);return f?new Ar(f,this.children_.get(f)):null}forEachChild(l,f){const v=this.resolveIndex_(l);return v?v.inorderTraversal(D=>f(D.name,D.node)):this.children_.inorderTraversal(f)}getIterator(l){return this.getIteratorFrom(l.minPost(),l)}getIteratorFrom(l,f){const v=this.resolveIndex_(f);if(v)return v.getIteratorFrom(l,D=>D);{const D=this.children_.getIteratorFrom(l.name,Ar.Wrap);let k=D.peek();for(;null!=k&&f.compare(k,l)<0;)D.getNext(),k=D.peek();return D}}getReverseIterator(l){return this.getReverseIteratorFrom(l.maxPost(),l)}getReverseIteratorFrom(l,f){const v=this.resolveIndex_(f);if(v)return v.getReverseIteratorFrom(l,D=>D);{const D=this.children_.getReverseIteratorFrom(l.name,Ar.Wrap);let k=D.peek();for(;null!=k&&f.compare(k,l)>0;)D.getNext(),k=D.peek();return D}}compareTo(l){return this.isEmpty()?l.isEmpty()?0:-1:l.isLeafNode()||l.isEmpty()?1:l===F?-1:0}withIndex(l){if(l===Oi||this.indexMap_.hasIndex(l))return this;{const f=this.indexMap_.addIndex(l,this.children_);return new u(this.children_,this.priorityNode_,f)}}isIndexed(l){return l===Oi||this.indexMap_.hasIndex(l)}equals(l){if(l===this)return!0;if(l.isLeafNode())return!1;{const f=l;if(this.getPriority().equals(f.getPriority())){if(this.children_.count()===f.children_.count()){const v=this.getIterator(_i),D=f.getIterator(_i);let k=v.getNext(),te=D.getNext();for(;k&&te;){if(k.name!==te.name||!k.node.equals(te.node))return!1;k=v.getNext(),te=D.getNext()}return null===k&&null===te}return!1}return!1}}resolveIndex_(l){return l===Oi?null:this.indexMap_.get(l.toString())}}return u.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,u})();const F=new class j extends Ct{constructor(){super(new Ki(ko),Ct.EMPTY_NODE,G.Default)}compareTo(o){return o===this?0:1}equals(o){return o===this}getPriority(){return this}getImmediateChild(o){return Ct.EMPTY_NODE}isEmpty(){return!1}};function oe(u,o=null){if(null===u)return Ct.EMPTY_NODE;if("object"==typeof u&&".priority"in u&&(o=u[".priority"]),(0,B.hu)(null===o||"string"==typeof o||"number"==typeof o||"object"==typeof o&&".sv"in o,"Invalid priority type found: "+typeof o),"object"==typeof u&&".value"in u&&null!==u[".value"]&&(u=u[".value"]),"object"!=typeof u||".sv"in u)return new hs(u,oe(o));if(u instanceof Array){let l=Ct.EMPTY_NODE;return tr(u,(f,v)=>{if((0,B.r3)(u,f)&&"."!==f.substring(0,1)){const D=oe(v);(D.isLeafNode()||!D.isEmpty())&&(l=l.updateImmediateChild(f,D))}}),l.updatePriority(oe(o))}{const l=[];let f=!1;if(tr(u,(k,te)=>{if("."!==k.substring(0,1)){const ge=oe(te);ge.isEmpty()||(f=f||!ge.getPriority().isEmpty(),l.push(new Ar(k,ge)))}}),0===l.length)return Ct.EMPTY_NODE;const D=I(l,la,k=>k.name,ko);if(f){const k=I(l,_i.getCompare());return new Ct(D,oe(o),new G({".priority":k},{".priority":_i}))}return new Ct(D,oe(o),G.Default)}}Object.defineProperties(Ar,{MIN:{value:new Ar(wn,Ct.EMPTY_NODE)},MAX:{value:new Ar(fr,F)}}),is.__EMPTY_NODE=Ct.EMPTY_NODE,hs.__childrenNodeConstructor=Ct,function As(u){po=u}(F),function Ei(u){bs=u}(F),function al(u){Do=u}(oe);class mt extends bi{constructor(o){super(),this.indexPath_=o,(0,B.hu)(!Nr(o)&&".priority"!==Un(o),"Can't create PathIndex with empty path or .priority key")}extractChild(o){return o.getChild(this.indexPath_)}isDefinedOn(o){return!o.getChild(this.indexPath_).isEmpty()}compare(o,l){const f=this.extractChild(o.node),v=this.extractChild(l.node),D=f.compareTo(v);return 0===D?ni(o.name,l.name):D}makePost(o,l){const f=oe(o),v=Ct.EMPTY_NODE.updateChild(this.indexPath_,f);return new Ar(l,v)}maxPost(){const o=Ct.EMPTY_NODE.updateChild(this.indexPath_,F);return new Ar(fr,o)}toString(){return Zi(this.indexPath_,0).join("/")}}const Zr=new class nn extends bi{compare(o,l){const f=o.node.compareTo(l.node);return 0===f?ni(o.name,l.name):f}isDefinedOn(o){return!0}indexedValueChanged(o,l){return!o.equals(l)}minPost(){return Ar.MIN}maxPost(){return Ar.MAX}makePost(o,l){const f=oe(o);return new Ar(l,f)}toString(){return".value"}};function Ji(u){return{type:"value",snapshotNode:u}}function Xr(u,o){return{type:"child_added",snapshotNode:o,childName:u}}function Rs(u,o){return{type:"child_removed",snapshotNode:o,childName:u}}function Hs(u,o,l){return{type:"child_changed",snapshotNode:o,childName:u,oldSnap:l}}class mo{constructor(o){this.index_=o}updateChild(o,l,f,v,D,k){(0,B.hu)(o.isIndexed(this.index_),"A node must be indexed if only a child is updated");const te=o.getImmediateChild(l);return te.getChild(v).equals(f.getChild(v))&&te.isEmpty()===f.isEmpty()||(null!=k&&(f.isEmpty()?o.hasChild(l)?k.trackChildChange(Rs(l,te)):(0,B.hu)(o.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):te.isEmpty()?k.trackChildChange(Xr(l,f)):k.trackChildChange(Hs(l,f,te))),o.isLeafNode()&&f.isEmpty())?o:o.updateImmediateChild(l,f).withIndex(this.index_)}updateFullNode(o,l,f){return null!=f&&(o.isLeafNode()||o.forEachChild(_i,(v,D)=>{l.hasChild(v)||f.trackChildChange(Rs(v,D))}),l.isLeafNode()||l.forEachChild(_i,(v,D)=>{if(o.hasChild(v)){const k=o.getImmediateChild(v);k.equals(D)||f.trackChildChange(Hs(v,D,k))}else f.trackChildChange(Xr(v,D))})),l.withIndex(this.index_)}updatePriority(o,l){return o.isEmpty()?Ct.EMPTY_NODE:o.updatePriority(l)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class on{constructor(o){this.indexedFilter_=new mo(o.getIndex()),this.index_=o.getIndex(),this.startPost_=on.getStartPost_(o),this.endPost_=on.getEndPost_(o),this.startIsInclusive_=!o.startAfterSet_,this.endIsInclusive_=!o.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(o){const l=this.startIsInclusive_?this.index_.compare(this.getStartPost(),o)<=0:this.index_.compare(this.getStartPost(),o)<0,f=this.endIsInclusive_?this.index_.compare(o,this.getEndPost())<=0:this.index_.compare(o,this.getEndPost())<0;return l&&f}updateChild(o,l,f,v,D,k){return this.matches(new Ar(l,f))||(f=Ct.EMPTY_NODE),this.indexedFilter_.updateChild(o,l,f,v,D,k)}updateFullNode(o,l,f){l.isLeafNode()&&(l=Ct.EMPTY_NODE);let v=l.withIndex(this.index_);v=v.updatePriority(Ct.EMPTY_NODE);const D=this;return l.forEachChild(_i,(k,te)=>{D.matches(new Ar(k,te))||(v=v.updateImmediateChild(k,Ct.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(o,v,f)}updatePriority(o,l){return o}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(o){if(o.hasStart()){const l=o.getIndexStartName();return o.getIndex().makePost(o.getIndexStartValue(),l)}return o.getIndex().minPost()}static getEndPost_(o){if(o.hasEnd()){const l=o.getIndexEndName();return o.getIndex().makePost(o.getIndexEndValue(),l)}return o.getIndex().maxPost()}}class li{constructor(o){this.withinDirectionalStart=l=>this.reverse_?this.withinEndPost(l):this.withinStartPost(l),this.withinDirectionalEnd=l=>this.reverse_?this.withinStartPost(l):this.withinEndPost(l),this.withinStartPost=l=>{const f=this.index_.compare(this.rangedFilter_.getStartPost(),l);return this.startIsInclusive_?f<=0:f<0},this.withinEndPost=l=>{const f=this.index_.compare(l,this.rangedFilter_.getEndPost());return this.endIsInclusive_?f<=0:f<0},this.rangedFilter_=new on(o),this.index_=o.getIndex(),this.limit_=o.getLimit(),this.reverse_=!o.isViewFromLeft(),this.startIsInclusive_=!o.startAfterSet_,this.endIsInclusive_=!o.endBeforeSet_}updateChild(o,l,f,v,D,k){return this.rangedFilter_.matches(new Ar(l,f))||(f=Ct.EMPTY_NODE),o.getImmediateChild(l).equals(f)?o:o.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(o,l,f,v,D,k):this.fullLimitUpdateChild_(o,l,f,D,k)}updateFullNode(o,l,f){let v;if(l.isLeafNode()||l.isEmpty())v=Ct.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<l.numChildren()&&l.isIndexed(this.index_)){let D;v=Ct.EMPTY_NODE.withIndex(this.index_),D=this.reverse_?l.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):l.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let k=0;for(;D.hasNext()&&k<this.limit_;){const te=D.getNext();if(this.withinDirectionalStart(te)){if(!this.withinDirectionalEnd(te))break;v=v.updateImmediateChild(te.name,te.node),k++}}}else{let D;v=l.withIndex(this.index_),v=v.updatePriority(Ct.EMPTY_NODE),D=this.reverse_?v.getReverseIterator(this.index_):v.getIterator(this.index_);let k=0;for(;D.hasNext();){const te=D.getNext();k<this.limit_&&this.withinDirectionalStart(te)&&this.withinDirectionalEnd(te)?k++:v=v.updateImmediateChild(te.name,Ct.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(o,v,f)}updatePriority(o,l){return o}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(o,l,f,v,D){let k;if(this.reverse_){const Ft=this.index_.getCompare();k=(Nt,Jt)=>Ft(Jt,Nt)}else k=this.index_.getCompare();const te=o;(0,B.hu)(te.numChildren()===this.limit_,"");const ge=new Ar(l,f),Ae=this.reverse_?te.getFirstChild(this.index_):te.getLastChild(this.index_),Dt=this.rangedFilter_.matches(ge);if(te.hasChild(l)){const Ft=te.getImmediateChild(l);let Nt=v.getChildAfterChild(this.index_,Ae,this.reverse_);for(;null!=Nt&&(Nt.name===l||te.hasChild(Nt.name));)Nt=v.getChildAfterChild(this.index_,Nt,this.reverse_);const Jt=null==Nt?1:k(Nt,ge);if(Dt&&!f.isEmpty()&&Jt>=0)return null!=D&&D.trackChildChange(Hs(l,f,Ft)),te.updateImmediateChild(l,f);{null!=D&&D.trackChildChange(Rs(l,Ft));const Rr=te.updateImmediateChild(l,Ct.EMPTY_NODE);return null!=Nt&&this.rangedFilter_.matches(Nt)?(null!=D&&D.trackChildChange(Xr(Nt.name,Nt.node)),Rr.updateImmediateChild(Nt.name,Nt.node)):Rr}}return f.isEmpty()?o:Dt&&k(Ae,ge)>=0?(null!=D&&(D.trackChildChange(Rs(Ae.name,Ae.node)),D.trackChildChange(Xr(l,f))),te.updateImmediateChild(l,f).updateImmediateChild(Ae.name,Ct.EMPTY_NODE)):o}}class ba{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=_i}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,B.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,B.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:wn}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,B.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,B.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:fr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,B.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===_i}copy(){const o=new ba;return o.limitSet_=this.limitSet_,o.limit_=this.limit_,o.startSet_=this.startSet_,o.startAfterSet_=this.startAfterSet_,o.indexStartValue_=this.indexStartValue_,o.startNameSet_=this.startNameSet_,o.indexStartName_=this.indexStartName_,o.endSet_=this.endSet_,o.endBeforeSet_=this.endBeforeSet_,o.indexEndValue_=this.indexEndValue_,o.endNameSet_=this.endNameSet_,o.indexEndName_=this.indexEndName_,o.index_=this.index_,o.viewFrom_=this.viewFrom_,o}}function vo(u,o,l){const f=u.copy();return f.startSet_=!0,void 0===o&&(o=null),f.indexStartValue_=o,null!=l?(f.startNameSet_=!0,f.indexStartName_=l):(f.startNameSet_=!1,f.indexStartName_=""),f}function da(u,o,l){const f=u.copy();return f.endSet_=!0,void 0===o&&(o=null),f.indexEndValue_=o,void 0!==l?(f.endNameSet_=!0,f.indexEndName_=l):(f.endNameSet_=!1,f.indexEndName_=""),f}function Ca(u,o){const l=u.copy();return l.index_=o,l}function Go(u){const o={};if(u.isDefault())return o;let l;if(u.index_===_i?l="$priority":u.index_===Zr?l="$value":u.index_===Oi?l="$key":((0,B.hu)(u.index_ instanceof mt,"Unrecognized index type!"),l=u.index_.toString()),o.orderBy=(0,B.Wl)(l),u.startSet_){const f=u.startAfterSet_?"startAfter":"startAt";o[f]=(0,B.Wl)(u.indexStartValue_),u.startNameSet_&&(o[f]+=","+(0,B.Wl)(u.indexStartName_))}if(u.endSet_){const f=u.endBeforeSet_?"endBefore":"endAt";o[f]=(0,B.Wl)(u.indexEndValue_),u.endNameSet_&&(o[f]+=","+(0,B.Wl)(u.indexEndName_))}return u.limitSet_&&(u.isViewFromLeft()?o.limitToFirst=u.limit_:o.limitToLast=u.limit_),o}function ll(u){const o={};if(u.startSet_&&(o.sp=u.indexStartValue_,u.startNameSet_&&(o.sn=u.indexStartName_),o.sin=!u.startAfterSet_),u.endSet_&&(o.ep=u.indexEndValue_,u.endNameSet_&&(o.en=u.indexEndName_),o.ein=!u.endBeforeSet_),u.limitSet_){o.l=u.limit_;let l=u.viewFrom_;""===l&&(l=u.isViewFromLeft()?"l":"r"),o.vf=l}return u.index_!==_i&&(o.i=u.index_.toString()),o}class To extends gt{constructor(o,l,f,v){super(),this.repoInfo_=o,this.onDataUpdate_=l,this.authTokenProvider_=f,this.appCheckTokenProvider_=v,this.log_=Pn("p:rest:"),this.listens_={}}reportStats(o){throw new Error("Method not implemented.")}static getListenId_(o,l){return void 0!==l?"tag$"+l:((0,B.hu)(o._queryParams.isDefault(),"should have a tag if it's not a default query."),o._path.toString())}listen(o,l,f,v){const D=o._path.toString();this.log_("Listen called for "+D+" "+o._queryIdentifier);const k=To.getListenId_(o,f),te={};this.listens_[k]=te;const ge=Go(o._queryParams);this.restRequest_(D+".json",ge,(Ae,Dt)=>{let Ft=Dt;if(404===Ae&&(Ft=null,Ae=null),null===Ae&&this.onDataUpdate_(D,Ft,!1,f),(0,B.DV)(this.listens_,k)===te){let Nt;Nt=Ae?401===Ae?"permission_denied":"rest_error:"+Ae:"ok",v(Nt,null)}})}unlisten(o,l){const f=To.getListenId_(o,l);delete this.listens_[f]}get(o){const l=Go(o._queryParams),f=o._path.toString(),v=new B.BH;return this.restRequest_(f+".json",l,(D,k)=>{let te=k;404===D&&(te=null,D=null),null===D?(this.onDataUpdate_(f,te,!1,null),v.resolve(te)):v.reject(new Error(te))}),v.promise}refreshAuthToken(o){}restRequest_(o,l={},f){return l.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([v,D])=>{v&&v.accessToken&&(l.auth=v.accessToken),D&&D.token&&(l.ac=D.token);const k=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+o+"?ns="+this.repoInfo_.namespace+(0,B.xO)(l);this.log_("Sending REST request for "+k);const te=new XMLHttpRequest;te.onreadystatechange=()=>{if(f&&4===te.readyState){this.log_("REST Response for "+k+" received. status:",te.status,"response:",te.responseText);let ge=null;if(te.status>=200&&te.status<300){try{ge=(0,B.cI)(te.responseText)}catch(Ae){En("Failed to parse JSON response for "+k+": "+te.responseText)}f(null,ge)}else 401!==te.status&&404!==te.status&&En("Got unsuccessful REST response for "+k+" Status: "+te.status),f(te.status);f=null}},te.open("GET",k,!0),te.send()})}}class es{constructor(){this.rootNode_=Ct.EMPTY_NODE}getNode(o){return this.rootNode_.getChild(o)}updateSnapshot(o,l){this.rootNode_=this.rootNode_.updateChild(o,l)}}function Zs(){return{value:null,children:new Map}}function Da(u,o,l){if(Nr(o))u.value=l,u.children.clear();else if(null!==u.value)u.value=u.value.updateChild(o,l);else{const f=Un(o);u.children.has(f)||u.children.set(f,Zs()),Da(u.children.get(f),o=xr(o),l)}}function Os(u,o){if(Nr(o))return u.value=null,u.children.clear(),!0;if(null!==u.value){if(u.value.isLeafNode())return!1;{const l=u.value;return u.value=null,l.forEachChild(_i,(f,v)=>{Da(u,new xn(f),v)}),Os(u,o)}}if(u.children.size>0){const l=Un(o);return o=xr(o),u.children.has(l)&&Os(u.children.get(l),o)&&u.children.delete(l),0===u.children.size}return!0}function _o(u,o,l){null!==u.value?l(o,u.value):function ul(u,o){u.children.forEach((l,f)=>{o(f,l)})}(u,(f,v)=>{_o(v,new xn(o.toString()+"/"+f),l)})}class Va{constructor(o){this.collection_=o,this.last_=null}get(){const o=this.collection_.get(),l=Object.assign({},o);return this.last_&&tr(this.last_,(f,v)=>{l[f]=l[f]-v}),this.last_=o,l}}class Vl{constructor(o,l){this.server_=l,this.statsToReport_={},this.statsListener_=new Va(o);const f=1e4+2e4*Math.random();ar(this.reportStats_.bind(this),Math.floor(f))}reportStats_(){const o=this.statsListener_.get(),l={};let f=!1;tr(o,(v,D)=>{D>0&&(0,B.r3)(this.statsToReport_,v)&&(l[v]=D,f=!0)}),f&&this.server_.reportStats(l),ar(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ps=(()=>{return(u=Ps||(Ps={}))[u.OVERWRITE=0]="OVERWRITE",u[u.MERGE=1]="MERGE",u[u.ACK_USER_WRITE=2]="ACK_USER_WRITE",u[u.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Ps;var u})();function hu(u){return{fromUser:!1,fromServer:!0,queryId:u,tagged:!0}}class fa{constructor(o,l,f){this.path=o,this.affectedTree=l,this.revert=f,this.type=Ps.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(o){if(Nr(this.path)){if(null!=this.affectedTree.value)return(0,B.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const l=this.affectedTree.subtree(new xn(o));return new fa(Kn(),l,this.revert)}}return(0,B.hu)(Un(this.path)===o,"operationForChild called for unrelated child."),new fa(xr(this.path),this.affectedTree,this.revert)}}class cl{constructor(o,l){this.source=o,this.path=l,this.type=Ps.LISTEN_COMPLETE}operationForChild(o){return Nr(this.path)?new cl(this.source,Kn()):new cl(this.source,xr(this.path))}}class zo{constructor(o,l,f){this.source=o,this.path=l,this.snap=f,this.type=Ps.OVERWRITE}operationForChild(o){return Nr(this.path)?new zo(this.source,Kn(),this.snap.getImmediateChild(o)):new zo(this.source,xr(this.path),this.snap)}}class ss{constructor(o,l,f){this.source=o,this.path=l,this.children=f,this.type=Ps.MERGE}operationForChild(o){if(Nr(this.path)){const l=this.children.subtree(new xn(o));return l.isEmpty()?null:l.value?new zo(this.source,Kn(),l.value):new ss(this.source,Kn(),l)}return(0,B.hu)(Un(this.path)===o,"Can't get a merge for a child not on the path of the operation"),new ss(this.source,xr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Gs{constructor(o,l,f){this.node_=o,this.fullyInitialized_=l,this.filtered_=f}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(o){if(Nr(o))return this.isFullyInitialized()&&!this.filtered_;const l=Un(o);return this.isCompleteForChild(l)}isCompleteForChild(o){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(o)}getNode(){return this.node_}}class ja{constructor(o){this.query_=o,this.index_=this.query_._queryParams.getIndex()}}function L(u,o,l,f,v,D){const k=f.filter(te=>te.type===l);k.sort((te,ge)=>function U(u,o,l){if(null==o.childName||null==l.childName)throw(0,B.g5)("Should only compare child_ events.");const f=new Ar(o.childName,o.snapshotNode),v=new Ar(l.childName,l.snapshotNode);return u.index_.compare(f,v)}(u,te,ge)),k.forEach(te=>{const ge=function ee(u,o,l){return"value"===o.type||"child_removed"===o.type||(o.prevName=l.getPredecessorChildName(o.childName,o.snapshotNode,u.index_)),o}(u,te,D);v.forEach(Ae=>{Ae.respondsTo(te.type)&&o.push(Ae.createEvent(ge,u.query_))})})}function ce(u,o){return{eventCache:u,serverCache:o}}function nt(u,o,l,f){return ce(new Gs(o,l,f),u.serverCache)}function Gt(u,o,l,f){return ce(u.eventCache,new Gs(o,l,f))}function Zt(u){return u.eventCache.isFullyInitialized()?u.eventCache.getNode():null}function qn(u){return u.serverCache.isFullyInitialized()?u.serverCache.getNode():null}let fi;class Gn{constructor(o,l=(()=>(fi||(fi=new Ki(wr)),fi))()){this.value=o,this.children=l}static fromObject(o){let l=new Gn(null);return tr(o,(f,v)=>{l=l.set(new xn(f),v)}),l}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(o,l){if(null!=this.value&&l(this.value))return{path:Kn(),value:this.value};if(Nr(o))return null;{const f=Un(o),v=this.children.get(f);if(null!==v){const D=v.findRootMostMatchingPathAndValue(xr(o),l);return null!=D?{path:yi(new xn(f),D.path),value:D.value}:null}return null}}findRootMostValueAndPath(o){return this.findRootMostMatchingPathAndValue(o,()=>!0)}subtree(o){if(Nr(o))return this;{const l=Un(o),f=this.children.get(l);return null!==f?f.subtree(xr(o)):new Gn(null)}}set(o,l){if(Nr(o))return new Gn(l,this.children);{const f=Un(o),D=(this.children.get(f)||new Gn(null)).set(xr(o),l),k=this.children.insert(f,D);return new Gn(this.value,k)}}remove(o){if(Nr(o))return this.children.isEmpty()?new Gn(null):new Gn(null,this.children);{const l=Un(o),f=this.children.get(l);if(f){const v=f.remove(xr(o));let D;return D=v.isEmpty()?this.children.remove(l):this.children.insert(l,v),null===this.value&&D.isEmpty()?new Gn(null):new Gn(this.value,D)}return this}}get(o){if(Nr(o))return this.value;{const l=Un(o),f=this.children.get(l);return f?f.get(xr(o)):null}}setTree(o,l){if(Nr(o))return l;{const f=Un(o),D=(this.children.get(f)||new Gn(null)).setTree(xr(o),l);let k;return k=D.isEmpty()?this.children.remove(f):this.children.insert(f,D),new Gn(this.value,k)}}fold(o){return this.fold_(Kn(),o)}fold_(o,l){const f={};return this.children.inorderTraversal((v,D)=>{f[v]=D.fold_(yi(o,v),l)}),l(o,this.value,f)}findOnPath(o,l){return this.findOnPath_(o,Kn(),l)}findOnPath_(o,l,f){const v=!!this.value&&f(l,this.value);if(v)return v;if(Nr(o))return null;{const D=Un(o),k=this.children.get(D);return k?k.findOnPath_(xr(o),yi(l,D),f):null}}foreachOnPath(o,l){return this.foreachOnPath_(o,Kn(),l)}foreachOnPath_(o,l,f){if(Nr(o))return this;{this.value&&f(l,this.value);const v=Un(o),D=this.children.get(v);return D?D.foreachOnPath_(xr(o),yi(l,v),f):new Gn(null)}}foreach(o){this.foreach_(Kn(),o)}foreach_(o,l){this.children.inorderTraversal((f,v)=>{v.foreach_(yi(o,f),l)}),this.value&&l(o,this.value)}foreachChild(o){this.children.inorderTraversal((l,f)=>{f.value&&o(l,f.value)})}}class or{constructor(o){this.writeTree_=o}static empty(){return new or(new Gn(null))}}function ri(u,o,l){if(Nr(o))return new or(new Gn(l));{const f=u.writeTree_.findRootMostValueAndPath(o);if(null!=f){const v=f.path;let D=f.value;const k=Hi(v,o);return D=D.updateChild(k,l),new or(u.writeTree_.set(v,D))}{const v=new Gn(l),D=u.writeTree_.setTree(o,v);return new or(D)}}}function Ci(u,o,l){let f=u;return tr(l,(v,D)=>{f=ri(f,yi(o,v),D)}),f}function Pi(u,o){if(Nr(o))return or.empty();{const l=u.writeTree_.setTree(o,new Gn(null));return new or(l)}}function cn(u,o){return null!=jr(u,o)}function jr(u,o){const l=u.writeTree_.findRootMostValueAndPath(o);return null!=l?u.writeTree_.get(l.path).getChild(Hi(l.path,o)):null}function qi(u){const o=[],l=u.writeTree_.value;return null!=l?l.isLeafNode()||l.forEachChild(_i,(f,v)=>{o.push(new Ar(f,v))}):u.writeTree_.children.inorderTraversal((f,v)=>{null!=v.value&&o.push(new Ar(f,v.value))}),o}function as(u,o){if(Nr(o))return u;{const l=jr(u,o);return new or(null!=l?new Gn(l):u.writeTree_.subtree(o))}}function Tn(u){return u.writeTree_.isEmpty()}function Yn(u,o){return Wo(Kn(),u.writeTree_,o)}function Wo(u,o,l){if(null!=o.value)return l.updateChild(u,o.value);{let f=null;return o.children.inorderTraversal((v,D)=>{".priority"===v?((0,B.hu)(null!==D.value,"Priority writes must always be leaf nodes"),f=D.value):l=Wo(yi(u,v),D,l)}),!l.getChild(u).isEmpty()&&null!==f&&(l=l.updateChild(yi(u,".priority"),f)),l}}function jn(u,o){return Di(o,u)}function $u(u,o){if(u.snap)return Ni(u.path,o);for(const l in u.children)if(u.children.hasOwnProperty(l)&&Ni(yi(u.path,l),o))return!0;return!1}function Ha(u){return u.visible}function Ta(u,o,l){let f=or.empty();for(let v=0;v<u.length;++v){const D=u[v];if(o(D)){const k=D.path;let te;if(D.snap)Ni(l,k)?(te=Hi(l,k),f=ri(f,te,D.snap)):Ni(k,l)&&(te=Hi(k,l),f=ri(f,Kn(),D.snap.getChild(te)));else{if(!D.children)throw(0,B.g5)("WriteRecord should have .snap or .children");if(Ni(l,k))te=Hi(l,k),f=Ci(f,te,D.children);else if(Ni(k,l))if(te=Hi(k,l),Nr(te))f=Ci(f,Kn(),D.children);else{const ge=(0,B.DV)(D.children,Un(te));if(ge){const Ae=ge.getChild(xr(te));f=ri(f,Kn(),Ae)}}}}}return f}function hl(u,o,l,f,v){if(f||v){const D=as(u.visibleWrites,o);return!v&&Tn(D)?l:v||null!=l||cn(D,Kn())?Yn(Ta(u.allWrites,function(Ae){return(Ae.visible||v)&&(!f||!~f.indexOf(Ae.writeId))&&(Ni(Ae.path,o)||Ni(o,Ae.path))},o),l||Ct.EMPTY_NODE):null}{const D=jr(u.visibleWrites,o);if(null!=D)return D;{const k=as(u.visibleWrites,o);return Tn(k)?l:null!=l||cn(k,Kn())?Yn(k,l||Ct.EMPTY_NODE):null}}}function Fo(u,o,l,f){return hl(u.writeTree,u.treePath,o,l,f)}function Al(u,o){return function Sa(u,o,l){let f=Ct.EMPTY_NODE;const v=jr(u.visibleWrites,o);if(v)return v.isLeafNode()||v.forEachChild(_i,(D,k)=>{f=f.updateImmediateChild(D,k)}),f;if(l){const D=as(u.visibleWrites,o);return l.forEachChild(_i,(k,te)=>{const ge=Yn(as(D,new xn(k)),te);f=f.updateImmediateChild(k,ge)}),qi(D).forEach(k=>{f=f.updateImmediateChild(k.name,k.node)}),f}return qi(as(u.visibleWrites,o)).forEach(k=>{f=f.updateImmediateChild(k.name,k.node)}),f}(u.writeTree,u.treePath,o)}function Bi(u,o,l,f){return function Bu(u,o,l,f,v){(0,B.hu)(f||v,"Either existingEventSnap or existingServerSnap must exist");const D=yi(o,l);if(cn(u.visibleWrites,D))return null;{const k=as(u.visibleWrites,D);return Tn(k)?v.getChild(l):Yn(k,v.getChild(l))}}(u.writeTree,u.treePath,o,l,f)}function Ln(u,o){return function Ul(u,o){return jr(u.visibleWrites,o)}(u.writeTree,yi(u.treePath,o))}function ei(u,o,l){return function Ko(u,o,l,f){const v=yi(o,l),D=jr(u.visibleWrites,v);return null!=D?D:f.isCompleteForChild(l)?Yn(as(u.visibleWrites,v),f.getNode().getImmediateChild(l)):null}(u.writeTree,u.treePath,o,l)}function pl(u,o){return Di(yi(u.treePath,o),u.writeTree)}function Di(u,o){return{treePath:u,writeTree:o}}class $n{constructor(){this.changeMap=new Map}trackChildChange(o){const l=o.type,f=o.childName;(0,B.hu)("child_added"===l||"child_changed"===l||"child_removed"===l,"Only child changes supported for tracking"),(0,B.hu)(".priority"!==f,"Only non-priority child changes can be tracked.");const v=this.changeMap.get(f);if(v){const D=v.type;if("child_added"===l&&"child_removed"===D)this.changeMap.set(f,Hs(f,o.snapshotNode,v.snapshotNode));else if("child_removed"===l&&"child_added"===D)this.changeMap.delete(f);else if("child_removed"===l&&"child_changed"===D)this.changeMap.set(f,Rs(f,v.oldSnap));else if("child_changed"===l&&"child_added"===D)this.changeMap.set(f,Xr(f,o.snapshotNode));else{if("child_changed"!==l||"child_changed"!==D)throw(0,B.g5)("Illegal combination of changes: "+o+" occurred after "+v);this.changeMap.set(f,Hs(f,o.snapshotNode,v.oldSnap))}}else this.changeMap.set(f,o)}getChanges(){return Array.from(this.changeMap.values())}}const za=new class Ga{getCompleteChild(o){return null}getChildAfterChild(o,l,f){return null}};class qo{constructor(o,l,f=null){this.writes_=o,this.viewCache_=l,this.optCompleteServerCache_=f}getCompleteChild(o){const l=this.viewCache_.eventCache;if(l.isCompleteForChild(o))return l.getNode().getImmediateChild(o);{const f=null!=this.optCompleteServerCache_?new Gs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ei(this.writes_,o,f)}}getChildAfterChild(o,l,f){const v=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:qn(this.viewCache_),D=function pa(u,o,l,f,v,D){return function fl(u,o,l,f,v,D,k){let te;const ge=as(u.visibleWrites,o),Ae=jr(ge,Kn());if(null!=Ae)te=Ae;else{if(null==l)return[];te=Yn(ge,l)}if(te=te.withIndex(k),te.isEmpty()||te.isLeafNode())return[];{const Dt=[],Ft=k.getCompare(),Nt=D?te.getReverseIteratorFrom(f,k):te.getIteratorFrom(f,k);let Jt=Nt.getNext();for(;Jt&&Dt.length<v;)0!==Ft(Jt,f)&&Dt.push(Jt),Jt=Nt.getNext();return Dt}}(u.writeTree,u.treePath,o,l,f,v,D)}(this.writes_,v,l,1,f,o);return 0===D.length?null:D[0]}}function jl(u,o,l,f,v,D){const k=o.eventCache;if(null!=Ln(f,l))return o;{let te,ge;if(Nr(l))if((0,B.hu)(o.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),o.serverCache.isFiltered()){const Ae=qn(o),Ft=Al(f,Ae instanceof Ct?Ae:Ct.EMPTY_NODE);te=u.filter.updateFullNode(o.eventCache.getNode(),Ft,D)}else{const Ae=Fo(f,qn(o));te=u.filter.updateFullNode(o.eventCache.getNode(),Ae,D)}else{const Ae=Un(l);if(".priority"===Ae){(0,B.hu)(1===ai(l),"Can't have a priority with additional path components");const Dt=k.getNode();ge=o.serverCache.getNode();const Ft=Bi(f,l,Dt,ge);te=null!=Ft?u.filter.updatePriority(Dt,Ft):k.getNode()}else{const Dt=xr(l);let Ft;if(k.isCompleteForChild(Ae)){ge=o.serverCache.getNode();const Nt=Bi(f,l,k.getNode(),ge);Ft=null!=Nt?k.getNode().getImmediateChild(Ae).updateChild(Dt,Nt):k.getNode().getImmediateChild(Ae)}else Ft=ei(f,Ae,o.serverCache);te=null!=Ft?u.filter.updateChild(k.getNode(),Ae,Ft,Dt,v,D):k.getNode()}}return nt(o,te,k.isFullyInitialized()||Nr(l),u.filter.filtersNodes())}}function Yo(u,o,l,f,v,D,k,te){const ge=o.serverCache;let Ae;const Dt=k?u.filter:u.filter.getIndexedFilter();if(Nr(l))Ae=Dt.updateFullNode(ge.getNode(),f,null);else if(Dt.filtersNodes()&&!ge.isFiltered()){const Jt=ge.getNode().updateChild(l,f);Ae=Dt.updateFullNode(ge.getNode(),Jt,null)}else{const Jt=Un(l);if(!ge.isCompleteForPath(l)&&ai(l)>1)return o;const _n=xr(l),Hr=ge.getNode().getImmediateChild(Jt).updateChild(_n,f);Ae=".priority"===Jt?Dt.updatePriority(ge.getNode(),Hr):Dt.updateChild(ge.getNode(),Jt,Hr,_n,za,null)}const Ft=Gt(o,Ae,ge.isFullyInitialized()||Nr(l),Dt.filtersNodes());return jl(u,Ft,l,v,new qo(v,Ft,D),te)}function vs(u,o,l,f,v,D,k){const te=o.eventCache;let ge,Ae;const Dt=new qo(v,o,D);if(Nr(l))Ae=u.filter.updateFullNode(o.eventCache.getNode(),f,k),ge=nt(o,Ae,!0,u.filter.filtersNodes());else{const Ft=Un(l);if(".priority"===Ft)Ae=u.filter.updatePriority(o.eventCache.getNode(),f),ge=nt(o,Ae,te.isFullyInitialized(),te.isFiltered());else{const Nt=xr(l),Jt=te.getNode().getImmediateChild(Ft);let _n;if(Nr(Nt))_n=f;else{const Rr=Dt.getCompleteChild(Ft);_n=null!=Rr?".priority"===ki(Nt)&&Rr.getChild(Ai(Nt)).isEmpty()?Rr:Rr.updateChild(Nt,f):Ct.EMPTY_NODE}ge=Jt.equals(_n)?o:nt(o,u.filter.updateChild(te.getNode(),Ft,_n,Nt,Dt,k),te.isFullyInitialized(),u.filter.filtersNodes())}}return ge}function gl(u,o){return u.eventCache.isCompleteForChild(o)}function xa(u,o,l){return l.foreach((f,v)=>{o=o.updateChild(f,v)}),o}function Ka(u,o,l,f,v,D,k,te){if(o.serverCache.getNode().isEmpty()&&!o.serverCache.isFullyInitialized())return o;let Ae,ge=o;Ae=Nr(l)?f:new Gn(null).setTree(l,f);const Dt=o.serverCache.getNode();return Ae.children.inorderTraversal((Ft,Nt)=>{if(Dt.hasChild(Ft)){const _n=xa(0,o.serverCache.getNode().getImmediateChild(Ft),Nt);ge=Yo(u,ge,new xn(Ft),_n,v,D,k,te)}}),Ae.children.inorderTraversal((Ft,Nt)=>{const Jt=!o.serverCache.isCompleteForChild(Ft)&&null===Nt.value;if(!Dt.hasChild(Ft)&&!Jt){const Rr=xa(0,o.serverCache.getNode().getImmediateChild(Ft),Nt);ge=Yo(u,ge,new xn(Ft),Rr,v,D,k,te)}}),ge}class Zo{constructor(o,l){this.query_=o,this.eventRegistrations_=[];const f=this.query_._queryParams,v=new mo(f.getIndex()),D=function ca(u){return u.loadsAllData()?new mo(u.getIndex()):u.hasLimit()?new li(u):new on(u)}(f);this.processor_=function Vu(u){return{filter:u}}(D);const k=l.serverCache,te=l.eventCache,ge=v.updateFullNode(Ct.EMPTY_NODE,k.getNode(),null),Ae=D.updateFullNode(Ct.EMPTY_NODE,te.getNode(),null),Dt=new Gs(ge,k.isFullyInitialized(),v.filtersNodes()),Ft=new Gs(Ae,te.isFullyInitialized(),D.filtersNodes());this.viewCache_=ce(Ft,Dt),this.eventGenerator_=new ja(this.query_)}get query(){return this.query_}}function co(u,o){const l=qn(u.viewCache_);return l&&(u.query._queryParams.loadsAllData()||!Nr(o)&&!l.getImmediateChild(Un(o)).isEmpty())?l.getChild(o):null}function ga(u){return 0===u.eventRegistrations_.length}function Qo(u,o,l){const f=[];if(l){(0,B.hu)(null==o,"A cancel should cancel all event registrations.");const v=u.query._path;u.eventRegistrations_.forEach(D=>{const k=D.createCancelEvent(l,v);k&&f.push(k)})}if(o){let v=[];for(let D=0;D<u.eventRegistrations_.length;++D){const k=u.eventRegistrations_[D];if(k.matches(o)){if(o.hasAnyCallback()){v=v.concat(u.eventRegistrations_.slice(D+1));break}}else v.push(k)}u.eventRegistrations_=v}else u.eventRegistrations_=[];return f}function qa(u,o,l,f){o.type===Ps.MERGE&&null!==o.source.queryId&&((0,B.hu)(qn(u.viewCache_),"We should always have a full cache before handling merges"),(0,B.hu)(Zt(u.viewCache_),"Missing event cache, even though we have a server cache"));const v=u.viewCache_,D=function Wa(u,o,l,f,v){const D=new $n;let k,te;if(l.type===Ps.OVERWRITE){const Ae=l;Ae.source.fromUser?k=vs(u,o,Ae.path,Ae.snap,f,v,D):((0,B.hu)(Ae.source.fromServer,"Unknown source."),te=Ae.source.tagged||o.serverCache.isFiltered()&&!Nr(Ae.path),k=Yo(u,o,Ae.path,Ae.snap,f,v,te,D))}else if(l.type===Ps.MERGE){const Ae=l;Ae.source.fromUser?k=function Uu(u,o,l,f,v,D,k){let te=o;return f.foreach((ge,Ae)=>{const Dt=yi(l,ge);gl(o,Un(Dt))&&(te=vs(u,te,Dt,Ae,v,D,k))}),f.foreach((ge,Ae)=>{const Dt=yi(l,ge);gl(o,Un(Dt))||(te=vs(u,te,Dt,Ae,v,D,k))}),te}(u,o,Ae.path,Ae.children,f,v,D):((0,B.hu)(Ae.source.fromServer,"Unknown source."),te=Ae.source.tagged||o.serverCache.isFiltered(),k=Ka(u,o,Ae.path,Ae.children,f,v,te,D))}else if(l.type===Ps.ACK_USER_WRITE){const Ae=l;k=Ae.revert?function Hl(u,o,l,f,v,D){let k;if(null!=Ln(f,l))return o;{const te=new qo(f,o,v),ge=o.eventCache.getNode();let Ae;if(Nr(l)||".priority"===Un(l)){let Dt;if(o.serverCache.isFullyInitialized())Dt=Fo(f,qn(o));else{const Ft=o.serverCache.getNode();(0,B.hu)(Ft instanceof Ct,"serverChildren would be complete if leaf node"),Dt=Al(f,Ft)}Ae=u.filter.updateFullNode(ge,Dt,D)}else{const Dt=Un(l);let Ft=ei(f,Dt,o.serverCache);null==Ft&&o.serverCache.isCompleteForChild(Dt)&&(Ft=ge.getImmediateChild(Dt)),Ae=null!=Ft?u.filter.updateChild(ge,Dt,Ft,xr(l),te,D):o.eventCache.getNode().hasChild(Dt)?u.filter.updateChild(ge,Dt,Ct.EMPTY_NODE,xr(l),te,D):ge,Ae.isEmpty()&&o.serverCache.isFullyInitialized()&&(k=Fo(f,qn(o)),k.isLeafNode()&&(Ae=u.filter.updateFullNode(Ae,k,D)))}return k=o.serverCache.isFullyInitialized()||null!=Ln(f,Kn()),nt(o,Ae,k,u.filter.filtersNodes())}}(u,o,Ae.path,f,v,D):function fu(u,o,l,f,v,D,k){if(null!=Ln(v,l))return o;const te=o.serverCache.isFiltered(),ge=o.serverCache;if(null!=f.value){if(Nr(l)&&ge.isFullyInitialized()||ge.isCompleteForPath(l))return Yo(u,o,l,ge.getNode().getChild(l),v,D,te,k);if(Nr(l)){let Ae=new Gn(null);return ge.getNode().forEachChild(Oi,(Dt,Ft)=>{Ae=Ae.set(new xn(Dt),Ft)}),Ka(u,o,l,Ae,v,D,te,k)}return o}{let Ae=new Gn(null);return f.foreach((Dt,Ft)=>{const Nt=yi(l,Dt);ge.isCompleteForPath(Nt)&&(Ae=Ae.set(Dt,ge.getNode().getChild(Nt)))}),Ka(u,o,l,Ae,v,D,te,k)}}(u,o,Ae.path,Ae.affectedTree,f,v,D)}else{if(l.type!==Ps.LISTEN_COMPLETE)throw(0,B.g5)("Unknown operation type: "+l.type);k=function jt(u,o,l,f,v){const D=o.serverCache;return jl(u,Gt(o,D.getNode(),D.isFullyInitialized()||Nr(l),D.isFiltered()),l,f,za,v)}(u,o,l.path,f,D)}const ge=D.getChanges();return function Aa(u,o,l){const f=o.eventCache;if(f.isFullyInitialized()){const v=f.getNode().isLeafNode()||f.getNode().isEmpty(),D=Zt(u);(l.length>0||!u.eventCache.isFullyInitialized()||v&&!f.getNode().equals(D)||!f.getNode().getPriority().equals(D.getPriority()))&&l.push(Ji(Zt(o)))}}(o,k,ge),{viewCache:k,changes:ge}}(u.processor_,v,o,l,f);return function uo(u,o){(0,B.hu)(o.eventCache.getNode().isIndexed(u.filter.getIndex()),"Event snap not indexed"),(0,B.hu)(o.serverCache.getNode().isIndexed(u.filter.getIndex()),"Server snap not indexed")}(u.processor_,D.viewCache),(0,B.hu)(D.viewCache.serverCache.isFullyInitialized()||!v.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),u.viewCache_=D.viewCache,Gl(u,D.changes,D.viewCache.eventCache.getNode(),null)}function Gl(u,o,l,f){return function os(u,o,l,f){const v=[],D=[];return o.forEach(k=>{"child_changed"===k.type&&u.index_.indexedValueChanged(k.oldSnap,k.snapshotNode)&&D.push(function Bl(u,o){return{type:"child_moved",snapshotNode:o,childName:u}}(k.childName,k.snapshotNode))}),L(u,v,"child_removed",o,f,l),L(u,v,"child_added",o,f,l),L(u,v,"child_moved",D,f,l),L(u,v,"child_changed",o,f,l),L(u,v,"value",o,f,l),v}(u.eventGenerator_,o,l,f?[f]:u.eventRegistrations_)}let zr,fe;class bd{constructor(){this.views=new Map}}function Wl(u,o,l,f){const v=o.source.queryId;if(null!==v){const D=u.views.get(v);return(0,B.hu)(null!=D,"SyncTree gave us an op for an invalid query."),qa(D,o,l,f)}{let D=[];for(const k of u.views.values())D=D.concat(qa(k,o,l,f));return D}}function Kl(u,o,l,f,v){const k=u.views.get(o._queryIdentifier);if(!k){let te=Fo(l,v?f:null),ge=!1;te?ge=!0:f instanceof Ct?(te=Al(l,f),ge=!1):(te=Ct.EMPTY_NODE,ge=!1);const Ae=ce(new Gs(te,ge,!1),new Gs(f,v,!1));return new Zo(o,Ae)}return k}function pu(u){const o=[];for(const l of u.views.values())l.query._queryParams.loadsAllData()||o.push(l);return o}function S(u,o){let l=null;for(const f of u.views.values())l=l||co(f,o);return l}function A(u,o){return o._queryParams.loadsAllData()?z(u):u.views.get(o._queryIdentifier)}function T(u,o){return null!=A(u,o)}function O(u){return null!=z(u)}function z(u){for(const o of u.views.values())if(o.query._queryParams.loadsAllData())return o;return null}let kt=1;class pn{constructor(o){this.listenProvider_=o,this.syncPointTree_=new Gn(null),this.pendingWriteTree_=function Br(){return{visibleWrites:or.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Wn(u,o,l,f,v){return function Wt(u,o,l,f,v){(0,B.hu)(f>u.lastWriteId,"Stacking an older write on top of newer ones"),void 0===v&&(v=!0),u.allWrites.push({path:o,snap:l,writeId:f,visible:v}),v&&(u.visibleWrites=ri(u.visibleWrites,o,l)),u.lastWriteId=f}(u.pendingWriteTree_,o,l,f,v),v?q(u,new zo({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},o,l)):[]}function Ur(u,o,l=!1){const f=function ys(u,o){for(let l=0;l<u.allWrites.length;l++){const f=u.allWrites[l];if(f.writeId===o)return f}return null}(u.pendingWriteTree_,o);if(function dl(u,o){const l=u.allWrites.findIndex(te=>te.writeId===o);(0,B.hu)(l>=0,"removeWrite called with nonexistent writeId.");const f=u.allWrites[l];u.allWrites.splice(l,1);let v=f.visible,D=!1,k=u.allWrites.length-1;for(;v&&k>=0;){const te=u.allWrites[k];te.visible&&(k>=l&&$u(te,f.path)?v=!1:Ni(f.path,te.path)&&(D=!0)),k--}return!!v&&(D?(function No(u){u.visibleWrites=Ta(u.allWrites,Ha,Kn()),u.lastWriteId=u.allWrites.length>0?u.allWrites[u.allWrites.length-1].writeId:-1}(u),!0):(f.snap?u.visibleWrites=Pi(u.visibleWrites,f.path):tr(f.children,ge=>{u.visibleWrites=Pi(u.visibleWrites,yi(f.path,ge))}),!0))}(u.pendingWriteTree_,o)){let D=new Gn(null);return null!=f.snap?D=D.set(Kn(),!0):tr(f.children,k=>{D=D.set(new xn(k),!0)}),q(u,new fa(f.path,D,l))}return[]}function Qr(u,o,l){return q(u,new zo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},o,l))}function Mi(u,o,l,f,v=!1){const D=o._path,k=u.syncPointTree_.get(D);let te=[];if(k&&("default"===o._queryIdentifier||T(k,o))){const ge=function Ya(u,o,l,f){const v=o._queryIdentifier,D=[];let k=[];const te=O(u);if("default"===v)for(const[ge,Ae]of u.views.entries())k=k.concat(Qo(Ae,l,f)),ga(Ae)&&(u.views.delete(ge),Ae.query._queryParams.loadsAllData()||D.push(Ae.query));else{const ge=u.views.get(v);ge&&(k=k.concat(Qo(ge,l,f)),ga(ge)&&(u.views.delete(v),ge.query._queryParams.loadsAllData()||D.push(ge.query)))}return te&&!O(u)&&D.push(new(function zl(){return(0,B.hu)(zr,"Reference.ts has not been loaded"),zr}())(o._repo,o._path)),{removed:D,events:k}}(k,o,l,f);(function So(u){return 0===u.views.size})(k)&&(u.syncPointTree_=u.syncPointTree_.remove(D));const Ae=ge.removed;if(te=ge.events,!v){const Dt=-1!==Ae.findIndex(Nt=>Nt._queryParams.loadsAllData()),Ft=u.syncPointTree_.findOnPath(D,(Nt,Jt)=>O(Jt));if(Dt&&!Ft){const Nt=u.syncPointTree_.subtree(D);if(!Nt.isEmpty()){const Jt=function pi(u){return u.fold((o,l,f)=>{if(l&&O(l))return[z(l)];{let v=[];return l&&(v=pu(l)),tr(f,(D,k)=>{v=v.concat(k)}),v}})}(Nt);for(let _n=0;_n<Jt.length;++_n){const Rr=Jt[_n],Hr=Rr.query,Ii=xt(u,Rr);u.listenProvider_.startListening(Nn(Hr),Ut(u,Hr),Ii.hashFn,Ii.onComplete)}}}!Ft&&Ae.length>0&&!f&&(Dt?u.listenProvider_.stopListening(Nn(o),null):Ae.forEach(Nt=>{const Jt=u.queryToTagMap.get(dn(Nt));u.listenProvider_.stopListening(Nn(Nt),Jt)}))}!function ii(u,o){for(let l=0;l<o.length;++l){const f=o[l];if(!f._queryParams.loadsAllData()){const v=dn(f),D=u.queryToTagMap.get(v);u.queryToTagMap.delete(v),u.tagToQueryMap.delete(D)}}}(u,Ae)}return te}function wo(u,o,l,f){const v=Jn(u,f);if(null!=v){const D=yr(v),k=D.path,te=D.queryId,ge=Hi(k,o);return _r(u,k,new zo(hu(te),ge,l))}return[]}function Ao(u,o,l,f=!1){const v=o._path;let D=null,k=!1;u.syncPointTree_.foreachOnPath(v,(Nt,Jt)=>{const _n=Hi(Nt,v);D=D||S(Jt,_n),k=k||O(Jt)});let ge,te=u.syncPointTree_.get(v);te?(k=k||O(te),D=D||S(te,Kn())):(te=new bd,u.syncPointTree_=u.syncPointTree_.set(v,te)),null!=D?ge=!0:(ge=!1,D=Ct.EMPTY_NODE,u.syncPointTree_.subtree(v).foreachChild((Jt,_n)=>{const Rr=S(_n,Kn());Rr&&(D=D.updateImmediateChild(Jt,Rr))}));const Ae=T(te,o);if(!Ae&&!o._queryParams.loadsAllData()){const Nt=dn(o);(0,B.hu)(!u.queryToTagMap.has(Nt),"View does not exist, but we have a tag");const Jt=function _s(){return kt++}();u.queryToTagMap.set(Nt,Jt),u.tagToQueryMap.set(Jt,Nt)}let Ft=function yl(u,o,l,f,v,D){const k=Kl(u,o,f,v,D);return u.views.has(o._queryIdentifier)||u.views.set(o._queryIdentifier,k),function ml(u,o){u.eventRegistrations_.push(o)}(k,l),function Hu(u,o){const l=u.viewCache_.eventCache,f=[];return l.getNode().isLeafNode()||l.getNode().forEachChild(_i,(D,k)=>{f.push(Xr(D,k))}),l.isFullyInitialized()&&f.push(Ji(l.getNode())),Gl(u,f,l.getNode(),o)}(k,l)}(te,o,l,jn(u.pendingWriteTree_,v),D,ge);if(!Ae&&!k&&!f){const Nt=A(te,o);Ft=Ft.concat(function Ra(u,o,l){const f=o._path,v=Ut(u,o),D=xt(u,l),k=u.listenProvider_.startListening(Nn(o),v,D.hashFn,D.onComplete),te=u.syncPointTree_.subtree(f);if(v)(0,B.hu)(!O(te.value),"If we're adding a query, it shouldn't be shadowed");else{const ge=te.fold((Ae,Dt,Ft)=>{if(!Nr(Ae)&&Dt&&O(Dt))return[z(Dt).query];{let Nt=[];return Dt&&(Nt=Nt.concat(pu(Dt).map(Jt=>Jt.query))),tr(Ft,(Jt,_n)=>{Nt=Nt.concat(_n)}),Nt}});for(let Ae=0;Ae<ge.length;++Ae){const Dt=ge[Ae];u.listenProvider_.stopListening(Nn(Dt),Ut(u,Dt))}}return k}(u,o,Nt))}return Ft}function ql(u,o,l){const v=u.pendingWriteTree_,D=u.syncPointTree_.findOnPath(o,(k,te)=>{const Ae=S(te,Hi(k,o));if(Ae)return Ae});return hl(v,o,D,l,!0)}function q(u,o){return Ee(o,u.syncPointTree_,null,jn(u.pendingWriteTree_,Kn()))}function Ee(u,o,l,f){if(Nr(u.path))return st(u,o,l,f);{const v=o.get(Kn());null==l&&null!=v&&(l=S(v,Kn()));let D=[];const k=Un(u.path),te=u.operationForChild(k),ge=o.children.get(k);if(ge&&te){const Ae=l?l.getImmediateChild(k):null,Dt=pl(f,k);D=D.concat(Ee(te,ge,Ae,Dt))}return v&&(D=D.concat(Wl(v,u,f,l))),D}}function st(u,o,l,f){const v=o.get(Kn());null==l&&null!=v&&(l=S(v,Kn()));let D=[];return o.children.inorderTraversal((k,te)=>{const ge=l?l.getImmediateChild(k):null,Ae=pl(f,k),Dt=u.operationForChild(k);Dt&&(D=D.concat(st(Dt,te,ge,Ae)))}),v&&(D=D.concat(Wl(v,u,f,l))),D}function xt(u,o){const l=o.query,f=Ut(u,l);return{hashFn:()=>(function ju(u){return u.viewCache_.serverCache.getNode()}(o)||Ct.EMPTY_NODE).hash(),onComplete:v=>{if("ok"===v)return f?function Eo(u,o,l){const f=Jn(u,l);if(f){const v=yr(f),D=v.path,k=v.queryId,te=Hi(D,o);return _r(u,D,new cl(hu(k),te))}return[]}(u,l._path,f):function ls(u,o){return q(u,new cl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},o))}(u,l._path);{const D=function Pr(u,o){let l="Unknown Error";"too_big"===u?l="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===u?l="Client doesn't have permission to access the desired data.":"unavailable"===u&&(l="The service is unavailable");const f=new Error(u+" at "+o._path.toString()+": "+l);return f.code=u.toUpperCase(),f}(v,l);return Mi(u,l,null,D)}}}}function Ut(u,o){const l=dn(o);return u.queryToTagMap.get(l)}function dn(u){return u._path.toString()+"$"+u._queryIdentifier}function Jn(u,o){return u.tagToQueryMap.get(o)}function yr(u){const o=u.indexOf("$");return(0,B.hu)(-1!==o&&o<u.length-1,"Bad queryKey."),{queryId:u.substr(o+1),path:new xn(u.substr(0,o))}}function _r(u,o,l){const f=u.syncPointTree_.get(o);return(0,B.hu)(f,"Missing sync point for query tag that we're tracking"),Wl(f,l,jn(u.pendingWriteTree_,o),null)}function Nn(u){return u._queryParams.loadsAllData()&&!u._queryParams.isDefault()?new(function Qe(){return(0,B.hu)(fe,"Reference.ts has not been loaded"),fe}())(u._repo,u._path):u}class Za{constructor(o){this.node_=o}getImmediateChild(o){const l=this.node_.getImmediateChild(o);return new Za(l)}node(){return this.node_}}class Xa{constructor(o,l){this.syncTree_=o,this.path_=l}getImmediateChild(o){const l=yi(this.path_,o);return new Xa(this.syncTree_,l)}node(){return ql(this.syncTree_,this.path_)}}const Oa=function(u,o,l){return u&&"object"==typeof u?((0,B.hu)(".sv"in u,"Unexpected leaf node or priority contents"),"string"==typeof u[".sv"]?Qa(u[".sv"],o,l):"object"==typeof u[".sv"]?Ju(u[".sv"],o):void(0,B.hu)(!1,"Unexpected server value: "+JSON.stringify(u,null,2))):u},Qa=function(u,o,l){if("timestamp"===u)return l.timestamp;(0,B.hu)(!1,"Unexpected server value: "+u)},Ju=function(u,o,l){u.hasOwnProperty("increment")||(0,B.hu)(!1,"Unexpected server value: "+JSON.stringify(u,null,2));const f=u.increment;"number"!=typeof f&&(0,B.hu)(!1,"Unexpected increment value: "+f);const v=o.node();if((0,B.hu)(null!==v&&typeof v<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!v.isLeafNode())return f;const k=v.getValue();return"number"!=typeof k?f:k+f},Cf=function(u,o,l,f){return ec(o,new Xa(l,u),f)},Df=function(u,o,l){return ec(u,new Za(o),l)};function ec(u,o,l){const f=u.getPriority().val(),v=Oa(f,o.getImmediateChild(".priority"),l);let D;if(u.isLeafNode()){const k=u,te=Oa(k.getValue(),o,l);return te!==k.getValue()||v!==k.getPriority().val()?new hs(te,oe(v)):u}{const k=u;return D=k,v!==k.getPriority().val()&&(D=D.updatePriority(new hs(v))),k.forEachChild(_i,(te,ge)=>{const Ae=ec(ge,o.getImmediateChild(te),l);Ae!==ge&&(D=D.updateImmediateChild(te,Ae))}),D}}class Cd{constructor(o="",l=null,f={children:{},childCount:0}){this.name=o,this.parent=l,this.node=f}}function wh(u,o){let l=o instanceof xn?o:new xn(o),f=u,v=Un(l);for(;null!==v;){const D=(0,B.DV)(f.node.children,v)||{children:{},childCount:0};f=new Cd(v,f,D),l=xr(l),v=Un(l)}return f}function Yl(u){return u.node.value}function Ih(u,o){u.node.value=o,Fi(u)}function kc(u){return u.node.childCount>0}function Nc(u,o){tr(u.node.children,(l,f)=>{o(new Cd(l,u,f))})}function Ms(u,o,l,f){l&&!f&&o(u),Nc(u,v=>{Ms(v,o,!0,f)}),l&&f&&o(u)}function Qs(u){return new xn(null===u.parent?u.name:Qs(u.parent)+"/"+u.name)}function Fi(u){null!==u.parent&&function Np(u,o,l){const f=function Zl(u){return void 0===Yl(u)&&!kc(u)}(l),v=(0,B.r3)(u.node.children,o);f&&v?(delete u.node.children[o],u.node.childCount--,Fi(u)):!f&&!v&&(u.node.children[o]=l.node,u.node.childCount++,Fi(u))}(u.parent,u.name,u)}const tc=/[\[\].#$\/\u0000-\u001F\u007F]/,Jo=/[\[\].#$\u0000-\u001F\u007F]/,zs=10485760,Dd=function(u){return"string"==typeof u&&0!==u.length&&!tc.test(u)},Es=function(u){return"string"==typeof u&&0!==u.length&&!Jo.test(u)},nc=function(u){return null===u||"string"==typeof u||"number"==typeof u&&!Or(u)||u&&"object"==typeof u&&(0,B.r3)(u,".sv")},$o=function(u,o,l,f){f&&void 0===o||gu((0,B.gK)(u,"value"),o,l)},gu=function(u,o,l){const f=l instanceof xn?new ho(l,u):l;if(void 0===o)throw new Error(u+"contains undefined "+rs(f));if("function"==typeof o)throw new Error(u+"contains a function "+rs(f)+" with contents = "+o.toString());if(Or(o))throw new Error(u+"contains "+o.toString()+" "+rs(f));if("string"==typeof o&&o.length>zs/3&&(0,B.ug)(o)>zs)throw new Error(u+"contains a string greater than "+zs+" utf8 bytes "+rs(f)+" ('"+o.substring(0,50)+"...')");if(o&&"object"==typeof o){let v=!1,D=!1;if(tr(o,(k,te)=>{if(".value"===k)v=!0;else if(".priority"!==k&&".sv"!==k&&(D=!0,!Dd(k)))throw new Error(u+" contains an invalid key ("+k+") "+rs(f)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Vs(u,o){u.parts_.length>0&&(u.byteLength_+=1),u.parts_.push(o),u.byteLength_+=(0,B.ug)(o),Ws(u)})(f,k),gu(u,te,f),function Is(u){const o=u.parts_.pop();u.byteLength_-=(0,B.ug)(o),u.parts_.length>0&&(u.byteLength_-=1)}(f)}),v&&D)throw new Error(u+' contains ".value" child '+rs(f)+" in addition to actual children.")}},Td=function(u,o,l,f){if(f&&void 0===o)return;const v=(0,B.gK)(u,"values");if(!o||"object"!=typeof o||Array.isArray(o))throw new Error(v+" must be an object containing the children to replace.");const D=[];tr(o,(k,te)=>{const ge=new xn(k);if(gu(v,te,yi(l,ge)),".priority"===ki(ge)&&!nc(te))throw new Error(v+"contains an invalid value for '"+ge.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");D.push(ge)}),function(u,o){let l,f;for(l=0;l<o.length;l++){f=o[l];const D=Zi(f);for(let k=0;k<D.length;k++)if((".priority"!==D[k]||k!==D.length-1)&&!Dd(D[k]))throw new Error(u+"contains an invalid key ("+D[k]+") in path "+f.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}o.sort(Gi);let v=null;for(l=0;l<o.length;l++){if(f=o[l],null!==v&&Ni(v,f))throw new Error(u+"contains a path "+v.toString()+" that is ancestor of another path "+f.toString());v=f}}(v,D)},Sd=function(u,o,l){if(!l||void 0!==o){if(Or(o))throw new Error((0,B.gK)(u,"priority")+"is "+o.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!nc(o))throw new Error((0,B.gK)(u,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Xl=function(u,o,l,f){if(!(f&&void 0===l||Dd(l)))throw new Error((0,B.gK)(u,o)+'was an invalid key = "'+l+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ea=function(u,o,l,f){if(!(f&&void 0===l||Es(l)))throw new Error((0,B.gK)(u,o)+'was an invalid path = "'+l+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Io=function(u,o){if(".info"===Un(o))throw new Error(u+" failed = Can't modify data under /.info/")},$c=function(u,o){const l=o.path.toString();if("string"!=typeof o.repoInfo.host||0===o.repoInfo.host.length||!Dd(o.repoInfo.namespace)&&"localhost"!==o.repoInfo.host.split(":")[0]||0!==l.length&&!function(u){return u&&(u=u.replace(/^\/*\.info(\/|$)/,"/")),Es(u)}(l))throw new Error((0,B.gK)(u,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Ja{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ql(u,o){let l=null;for(let f=0;f<o.length;f++){const v=o[f],D=v.getPath();null!==l&&!Ss(D,l.path)&&(u.eventLists_.push(l),l=null),null===l&&(l={events:[],path:D}),l.events.push(v)}l&&u.eventLists_.push(l)}function Ad(u,o,l){Ql(u,l),bo(u,f=>Ss(f,o))}function Js(u,o,l){Ql(u,l),bo(u,f=>Ni(f,o)||Ni(o,f))}function bo(u,o){u.recursionDepth_++;let l=!0;for(let f=0;f<u.eventLists_.length;f++){const v=u.eventLists_[f];v&&(o(v.path)?(Bc(u.eventLists_[f]),u.eventLists_[f]=null):l=!1)}l&&(u.eventLists_=[]),u.recursionDepth_--}function Bc(u){for(let o=0;o<u.events.length;o++){const l=u.events[o];if(null!==l){u.events[o]=null;const f=l.getEventRunner();Bt&&vn("event: "+l.toString()),Ir(f)}}}const Vc="repo_interrupt";class Tf{constructor(o,l,f,v){this.repoInfo_=o,this.forceRestClient_=l,this.authTokenProvider_=f,this.appCheckProvider_=v,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ja,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Zs(),this.transactionQueueTree_=new Cd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function jc(u){const l=u.infoData_.getNode(new xn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+l}function rc(u){return function(u){return(u=u||{}).timestamp=u.timestamp||(new Date).getTime(),u}({timestamp:jc(u)})}function Bo(u,o,l,f,v){u.dataUpdateCount++;const D=new xn(o);l=u.interceptServerDataCallback_?u.interceptServerDataCallback_(o,l):l;let k=[];if(v)if(f){const ge=(0,B.UI)(l,Ae=>oe(Ae));k=function Lo(u,o,l,f){const v=Jn(u,f);if(v){const D=yr(v),k=D.path,te=D.queryId,ge=Hi(k,o),Ae=Gn.fromObject(l);return _r(u,k,new ss(hu(te),ge,Ae))}return[]}(u.serverSyncTree_,D,ge,v)}else{const ge=oe(l);k=wo(u.serverSyncTree_,D,ge,v)}else if(f){const ge=(0,B.UI)(l,Ae=>oe(Ae));k=function xs(u,o,l){const f=Gn.fromObject(l);return q(u,new ss({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},o,f))}(u.serverSyncTree_,D,ge)}else{const ge=oe(l);k=Qr(u.serverSyncTree_,D,ge)}let te=D;k.length>0&&(te=nu(u,D)),Js(u.eventQueue_,te,k)}function xl(u,o){ic(u,"connected",o),!1===o&&function Af(u){el(u,"onDisconnectEvents");const o=rc(u),l=Zs();_o(u.onDisconnect_,Kn(),(v,D)=>{const k=Cf(v,D,u.serverSyncTree_,o);Da(l,v,k)});let f=[];_o(l,Kn(),(v,D)=>{f=f.concat(Qr(u.serverSyncTree_,v,D));const k=Pa(u,v);nu(u,k)}),u.onDisconnect_=Zs(),Js(u.eventQueue_,Kn(),f)}(u)}function ic(u,o,l){const f=new xn("/.info/"+o),v=oe(l);u.infoData_.updateSnapshot(f,v);const D=Qr(u.infoSyncTree_,f,v);Js(u.eventQueue_,f,D)}function ks(u){return u.nextWriteId_++}function sc(u,o,l,f,v){el(u,"set",{path:o.toString(),value:l,priority:f});const D=rc(u),k=oe(l,f),te=ql(u.serverSyncTree_,o),ge=Df(k,te,D),Ae=ks(u),Dt=Wn(u.serverSyncTree_,o,ge,Ae,!0);Ql(u.eventQueue_,Dt),u.server_.put(o.toString(),k.val(!0),(Nt,Jt)=>{const _n="ok"===Nt;_n||En("set at "+o+" failed: "+Nt);const Rr=Ur(u.serverSyncTree_,Ae,!_n);Js(u.eventQueue_,o,Rr),tu(0,v,Nt,Jt)});const Ft=Pa(u,o);nu(u,Ft),Js(u.eventQueue_,Ft,[])}function Jl(u,o,l){u.server_.onDisconnectCancel(o.toString(),(f,v)=>{"ok"===f&&Os(u.onDisconnect_,o),tu(0,l,f,v)})}function yu(u,o,l,f){const v=oe(l);u.server_.onDisconnectPut(o.toString(),v.val(!0),(D,k)=>{"ok"===D&&Da(u.onDisconnect_,o,v),tu(0,f,D,k)})}function vu(u,o,l){let f;f=".info"===Un(o._path)?Mi(u.infoSyncTree_,o,l):Mi(u.serverSyncTree_,o,l),Ad(u.eventQueue_,o._path,f)}function Ah(u){u.persistentConnection_&&u.persistentConnection_.interrupt(Vc)}function el(u,...o){let l="";u.persistentConnection_&&(l=u.persistentConnection_.id+":"),vn(l,...o)}function tu(u,o,l,f){o&&Ir(()=>{if("ok"===l)o(null);else{const v=(l||"error").toUpperCase();let D=v;f&&(D+=": "+f);const k=new Error(D);k.code=v,o(k)}})}function ps(u,o,l){return ql(u.serverSyncTree_,o,l)||Ct.EMPTY_NODE}function vl(u,o=u.transactionQueueTree_){if(o||ya(u,o),Yl(o)){const l=ac(u,o);(0,B.hu)(l.length>0,"Sending zero length transaction queue"),l.every(v=>0===v.status)&&function oc(u,o,l){const f=l.map(Ae=>Ae.currentWriteId),v=ps(u,o,f);let D=v;const k=v.hash();for(let Ae=0;Ae<l.length;Ae++){const Dt=l[Ae];(0,B.hu)(0===Dt.status,"tryToSendTransactionQueue_: items in queue should all be run."),Dt.status=1,Dt.retryCount++;const Ft=Hi(o,Dt.path);D=D.updateChild(Ft,Dt.currentOutputSnapshotRaw)}const te=D.val(!0),ge=o;u.server_.put(ge.toString(),te,Ae=>{el(u,"transaction put response",{path:ge.toString(),status:Ae});let Dt=[];if("ok"===Ae){const Ft=[];for(let Nt=0;Nt<l.length;Nt++)l[Nt].status=2,Dt=Dt.concat(Ur(u.serverSyncTree_,l[Nt].currentWriteId)),l[Nt].onComplete&&Ft.push(()=>l[Nt].onComplete(null,!0,l[Nt].currentOutputSnapshotResolved)),l[Nt].unwatcher();ya(u,wh(u.transactionQueueTree_,o)),vl(u,u.transactionQueueTree_),Js(u.eventQueue_,o,Dt);for(let Nt=0;Nt<Ft.length;Nt++)Ir(Ft[Nt])}else{if("datastale"===Ae)for(let Ft=0;Ft<l.length;Ft++)l[Ft].status=3===l[Ft].status?4:0;else{En("transaction at "+ge.toString()+" failed: "+Ae);for(let Ft=0;Ft<l.length;Ft++)l[Ft].status=4,l[Ft].abortReason=Ae}nu(u,o)}},k)}(u,Qs(o),l)}else kc(o)&&Nc(o,l=>{vl(u,l)})}function nu(u,o){const l=_u(u,o),f=Qs(l);return function xh(u,o,l){if(0===o.length)return;const f=[];let v=[];const k=o.filter(te=>0===te.status).map(te=>te.currentWriteId);for(let te=0;te<o.length;te++){const ge=o[te],Ae=Hi(l,ge.path);let Ft,Dt=!1;if((0,B.hu)(null!==Ae,"rerunTransactionsUnderNode_: relativePath should not be null."),4===ge.status)Dt=!0,Ft=ge.abortReason,v=v.concat(Ur(u.serverSyncTree_,ge.currentWriteId,!0));else if(0===ge.status)if(ge.retryCount>=25)Dt=!0,Ft="maxretry",v=v.concat(Ur(u.serverSyncTree_,ge.currentWriteId,!0));else{const Nt=ps(u,ge.path,k);ge.currentInputSnapshot=Nt;const Jt=o[te].update(Nt.val());if(void 0!==Jt){gu("transaction failed: Data returned ",Jt,ge.path);let _n=oe(Jt);"object"==typeof Jt&&null!=Jt&&(0,B.r3)(Jt,".priority")||(_n=_n.updatePriority(Nt.getPriority()));const Hr=ge.currentWriteId,Ii=rc(u),gs=Df(_n,Nt,Ii);ge.currentOutputSnapshotRaw=_n,ge.currentOutputSnapshotResolved=gs,ge.currentWriteId=ks(u),k.splice(k.indexOf(Hr),1),v=v.concat(Wn(u.serverSyncTree_,ge.path,gs,ge.currentWriteId,ge.applyLocally)),v=v.concat(Ur(u.serverSyncTree_,Hr,!0))}else Dt=!0,Ft="nodata",v=v.concat(Ur(u.serverSyncTree_,ge.currentWriteId,!0))}Js(u.eventQueue_,l,v),v=[],Dt&&(o[te].status=2,setTimeout(o[te].unwatcher,Math.floor(0)),o[te].onComplete&&f.push("nodata"===Ft?()=>o[te].onComplete(null,!1,o[te].currentInputSnapshot):()=>o[te].onComplete(new Error(Ft),!1,null)))}ya(u,u.transactionQueueTree_);for(let te=0;te<f.length;te++)Ir(f[te]);vl(u,u.transactionQueueTree_)}(u,ac(u,l),f),f}function _u(u,o){let l,f=u.transactionQueueTree_;for(l=Un(o);null!==l&&void 0===Yl(f);)f=wh(f,l),l=Un(o=xr(o));return f}function ac(u,o){const l=[];return xf(u,o,l),l.sort((f,v)=>f.order-v.order),l}function xf(u,o,l){const f=Yl(o);if(f)for(let v=0;v<f.length;v++)l.push(f[v]);Nc(o,v=>{xf(u,v,l)})}function ya(u,o){const l=Yl(o);if(l){let f=0;for(let v=0;v<l.length;v++)2!==l[v].status&&(l[f]=l[v],f++);l.length=f,Ih(o,l.length>0?l:void 0)}Nc(o,f=>{ya(u,f)})}function Pa(u,o){const l=Qs(_u(u,o)),f=wh(u.transactionQueueTree_,o);return function Fc(u,o,l){let f=l?u:u.parent;for(;null!==f;){if(o(f))return!0;f=f.parent}}(f,v=>{lc(u,v)}),lc(u,f),Ms(f,v=>{lc(u,v)}),l}function lc(u,o){const l=Yl(o);if(l){const f=[];let v=[],D=-1;for(let k=0;k<l.length;k++)3===l[k].status||(1===l[k].status?((0,B.hu)(D===k-1,"All SENT items should be at beginning of queue."),D=k,l[k].status=3,l[k].abortReason="set"):((0,B.hu)(0===l[k].status,"Unexpected transaction status in abort"),l[k].unwatcher(),v=v.concat(Ur(u.serverSyncTree_,l[k].currentWriteId,!0)),l[k].onComplete&&f.push(l[k].onComplete.bind(null,new Error("set"),!1,null))));-1===D?Ih(o,void 0):l.length=D+1,Js(u.eventQueue_,Qs(o),v);for(let k=0;k<f.length;k++)Ir(f[k])}}const Eu=function(u,o){const l=Mh(u),f=l.namespace;return"firebase.com"===l.domain&&rn(l.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!f||"undefined"===f)&&"localhost"!==l.domain&&rn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),l.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&En("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Qn(l.host,l.secure,f,"ws"===l.scheme||"wss"===l.scheme,o,"",f!==l.subdomain),path:new xn(l.pathString)}},Mh=function(u){let o="",l="",f="",v="",D="",k=!0,te="https",ge=443;if("string"==typeof u){let Ae=u.indexOf("//");Ae>=0&&(te=u.substring(0,Ae-1),u=u.substring(Ae+2));let Dt=u.indexOf("/");-1===Dt&&(Dt=u.length);let Ft=u.indexOf("?");-1===Ft&&(Ft=u.length),o=u.substring(0,Math.min(Dt,Ft)),Dt<Ft&&(v=function Mf(u){let o="";const l=u.split("/");for(let f=0;f<l.length;f++)if(l[f].length>0){let v=l[f];try{v=decodeURIComponent(v.replace(/\+/g," "))}catch(D){}o+="/"+v}return o}(u.substring(Dt,Ft)));const Nt=function Od(u){const o={};"?"===u.charAt(0)&&(u=u.substring(1));for(const l of u.split("&")){if(0===l.length)continue;const f=l.split("=");2===f.length?o[decodeURIComponent(f[0])]=decodeURIComponent(f[1]):En(`Invalid query segment '${l}' in query '${u}'`)}return o}(u.substring(Math.min(u.length,Ft)));Ae=o.indexOf(":"),Ae>=0?(k="https"===te||"wss"===te,ge=parseInt(o.substring(Ae+1),10)):Ae=o.length;const Jt=o.slice(0,Ae);if("localhost"===Jt.toLowerCase())l="localhost";else if(Jt.split(".").length<=2)l=Jt;else{const _n=o.indexOf(".");f=o.substring(0,_n).toLowerCase(),l=o.substring(_n+1),D=f}"ns"in Nt&&(D=Nt.ns)}return{host:o,port:ge,domain:l,subdomain:f,secure:k,scheme:te,pathString:v,namespace:D}},uc="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",eo=function(){let u=0;const o=[];return function(l){const f=l===u;let v;u=l;const D=new Array(8);for(v=7;v>=0;v--)D[v]=uc.charAt(l%64),l=Math.floor(l/64);(0,B.hu)(0===l,"Cannot push at time == 0");let k=D.join("");if(f){for(v=11;v>=0&&63===o[v];v--)o[v]=0;o[v]++}else for(v=0;v<12;v++)o[v]=Math.floor(64*Math.random());for(v=0;v<12;v++)k+=uc.charAt(o[v]);return(0,B.hu)(20===k.length,"nextPushId: Length should be 20."),k}}();class Ti{constructor(o,l,f,v){this.eventType=o,this.eventRegistration=l,this.snapshot=f,this.prevName=v}getPath(){const o=this.snapshot.ref;return"value"===this.eventType?o._path:o.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,B.Wl)(this.snapshot.exportVal())}}class Rh{constructor(o,l,f){this.eventRegistration=o,this.error=l,this.path=f}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Hc{constructor(o,l){this.snapshotCallback=o,this.cancelCallback=l}onValue(o,l){this.snapshotCallback.call(null,o,l)}onCancel(o){return(0,B.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,o)}get hasCancelCallback(){return!!this.cancelCallback}matches(o){return this.snapshotCallback===o.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===o.snapshotCallback.userCallback&&this.snapshotCallback.context===o.snapshotCallback.context}}class _l{constructor(o,l){this._repo=o,this._path=l}cancel(){const o=new B.BH;return Jl(this._repo,this._path,o.wrapCallback(()=>{})),o.promise}remove(){Io("OnDisconnect.remove",this._path);const o=new B.BH;return yu(this._repo,this._path,null,o.wrapCallback(()=>{})),o.promise}set(o){Io("OnDisconnect.set",this._path),$o("OnDisconnect.set",o,this._path,!1);const l=new B.BH;return yu(this._repo,this._path,o,l.wrapCallback(()=>{})),l.promise}setWithPriority(o,l){Io("OnDisconnect.setWithPriority",this._path),$o("OnDisconnect.setWithPriority",o,this._path,!1),Sd("OnDisconnect.setWithPriority",l,!1);const f=new B.BH;return function Th(u,o,l,f,v){const D=oe(l,f);u.server_.onDisconnectPut(o.toString(),D.val(!0),(k,te)=>{"ok"===k&&Da(u.onDisconnect_,o,D),tu(0,v,k,te)})}(this._repo,this._path,o,l,f.wrapCallback(()=>{})),f.promise}update(o){Io("OnDisconnect.update",this._path),Td("OnDisconnect.update",o,this._path,!1);const l=new B.BH;return function eu(u,o,l,f){if((0,B.xb)(l))return vn("onDisconnect().update() called with empty data.  Don't do anything."),void tu(0,f,"ok",void 0);u.server_.onDisconnectMerge(o.toString(),l,(v,D)=>{"ok"===v&&tr(l,(k,te)=>{const ge=oe(te);Da(u.onDisconnect_,yi(o,k),ge)}),tu(0,f,v,D)})}(this._repo,this._path,o,l.wrapCallback(()=>{})),l.promise}}class ta{constructor(o,l,f,v){this._repo=o,this._path=l,this._queryParams=f,this._orderByCalled=v}get key(){return Nr(this._path)?null:ki(this._path)}get ref(){return new na(this._repo,this._path)}get _queryIdentifier(){const o=ll(this._queryParams),l=ci(o);return"{}"===l?"default":l}get _queryObject(){return ll(this._queryParams)}isEqual(o){if(!((o=(0,B.m9)(o))instanceof ta))return!1;const l=this._repo===o._repo,f=Ss(this._path,o._path);return l&&f&&this._queryIdentifier===o._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function ws(u){let o="";for(let l=u.pieceNum_;l<u.pieces_.length;l++)""!==u.pieces_[l]&&(o+="/"+encodeURIComponent(String(u.pieces_[l])));return o||"/"}(this._path)}}function to(u,o){if(!0===u._orderByCalled)throw new Error(o+": You can't combine multiple orderBy calls.")}function El(u){let o=null,l=null;if(u.hasStart()&&(o=u.getIndexStartValue()),u.hasEnd()&&(l=u.getIndexEndValue()),u.getIndex()===Oi){const f="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",v="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(u.hasStart()){if(u.getIndexStartName()!==wn)throw new Error(f);if("string"!=typeof o)throw new Error(v)}if(u.hasEnd()){if(u.getIndexEndName()!==fr)throw new Error(f);if("string"!=typeof l)throw new Error(v)}}else if(u.getIndex()===_i){if(null!=o&&!nc(o)||null!=l&&!nc(l))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,B.hu)(u.getIndex()instanceof mt||u.getIndex()===Zr,"unknown index type."),null!=o&&"object"==typeof o||null!=l&&"object"==typeof l)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ml(u){if(u.hasStart()&&u.hasEnd()&&u.hasLimit()&&!u.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class na extends ta{constructor(o,l){super(o,l,new ba,!1)}get parent(){const o=Ai(this._path);return null===o?null:new na(this._repo,o)}get root(){let o=this;for(;null!==o.parent;)o=o.parent;return o}}class xo{constructor(o,l,f){this._node=o,this.ref=l,this._index=f}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(o){const l=new xn(o),f=no(this.ref,o);return new xo(this._node.getChild(l),f,_i)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(o){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(f,v)=>o(new xo(v,no(this.ref,f),_i)))}hasChild(o){const l=new xn(o);return!this._node.getChild(l).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function wl(u,o){return(u=(0,B.m9)(u))._checkNotDeleted("ref"),void 0!==o?no(u._root,o):u._root}function Gu(u,o){(u=(0,B.m9)(u))._checkNotDeleted("refFromURL");const l=Eu(o,u._repo.repoInfo_.nodeAdmin);$c("refFromURL",l);const f=l.repoInfo;return!u._repo.repoInfo_.isCustomHost()&&f.host!==u._repo.repoInfo_.host&&rn("refFromURL: Host name does not match the current database: (found "+f.host+" but expected "+u._repo.repoInfo_.host+")"),wl(u,l.path.toString())}function no(u,o){return null===Un((u=(0,B.m9)(u))._path)?(l=o,l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),ea("child","path",l,!1)):ea("child","path",o,!1),new na(u._repo,yi(u._path,o));var l}function wu(u,o){u=(0,B.m9)(u),Io("set",u._path),$o("set",o,u._path,!1);const l=new B.BH;return sc(u._repo,u._path,o,null,l.wrapCallback(()=>{})),l.promise}function dc(u,o){Td("update",o,u._path,!1);const l=new B.BH;return function Sf(u,o,l,f){el(u,"update",{path:o.toString(),value:l});let v=!0;const D=rc(u),k={};if(tr(l,(te,ge)=>{v=!1,k[te]=Cf(yi(o,te),oe(ge),u.serverSyncTree_,D)}),v)vn("update() called with empty data.  Don't do anything."),tu(0,f,"ok",void 0);else{const te=ks(u),ge=function Mn(u,o,l,f){!function fn(u,o,l,f){(0,B.hu)(f>u.lastWriteId,"Stacking an older merge on top of newer ones"),u.allWrites.push({path:o,children:l,writeId:f,visible:!0}),u.visibleWrites=Ci(u.visibleWrites,o,l),u.lastWriteId=f}(u.pendingWriteTree_,o,l,f);const v=Gn.fromObject(l);return q(u,new ss({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},o,v))}(u.serverSyncTree_,o,k,te);Ql(u.eventQueue_,ge),u.server_.merge(o.toString(),l,(Ae,Dt)=>{const Ft="ok"===Ae;Ft||En("update at "+o+" failed: "+Ae);const Nt=Ur(u.serverSyncTree_,te,!Ft),Jt=Nt.length>0?nu(u,o):o;Js(u.eventQueue_,Jt,Nt),tu(0,f,Ae,Dt)}),tr(l,Ae=>{const Dt=Pa(u,yi(o,Ae));nu(u,Dt)}),Js(u.eventQueue_,o,[])}}(u._repo,u._path,o,l.wrapCallback(()=>{})),l.promise}function Nd(u){u=(0,B.m9)(u);const o=new Hc(()=>{}),l=new va(o);return function mu(u,o,l){const f=function H(u,o){const l=o._path;let f=null;u.syncPointTree_.foreachOnPath(l,(Ae,Dt)=>{const Ft=Hi(Ae,l);f=f||S(Dt,Ft)});let v=u.syncPointTree_.get(l);v?f=f||S(v,Kn()):(v=new bd,u.syncPointTree_=u.syncPointTree_.set(l,v));const D=null!=f,k=D?new Gs(f,!0,!1):null;return function Xo(u){return Zt(u.viewCache_)}(Kl(v,o,jn(u.pendingWriteTree_,o._path),D?k.getNode():Ct.EMPTY_NODE,D))}(u.serverSyncTree_,o);return null!=f?Promise.resolve(f):u.server_.get(o).then(v=>{const D=oe(v).withIndex(o._queryParams.getIndex());let k;if(Ao(u.serverSyncTree_,o,l,!0),o._queryParams.loadsAllData())k=Qr(u.serverSyncTree_,o._path,D);else{const te=Ut(u.serverSyncTree_,o);k=wo(u.serverSyncTree_,o._path,D,te)}return Js(u.eventQueue_,o._path,k),Mi(u.serverSyncTree_,o,l,null,!0),D},v=>(el(u,"get for query "+(0,B.Wl)(o)+" failed: "+v),Promise.reject(new Error(v))))}(u._repo,u,l).then(f=>new xo(f,new na(u._repo,u._path),u._queryParams.getIndex()))}class va{constructor(o){this.callbackContext=o}respondsTo(o){return"value"===o}createEvent(o,l){const f=l._queryParams.getIndex();return new Ti("value",this,new xo(o.snapshotNode,new na(l._repo,l._path),f))}getEventRunner(o){return"cancel"===o.getEventType()?()=>this.callbackContext.onCancel(o.error):()=>this.callbackContext.onValue(o.snapshot,null)}createCancelEvent(o,l){return this.callbackContext.hasCancelCallback?new Rh(this,o,l):null}matches(o){return o instanceof va&&(!o.callbackContext||!this.callbackContext||o.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class ru{constructor(o,l){this.eventType=o,this.callbackContext=l}respondsTo(o){let l="children_added"===o?"child_added":o;return l="children_removed"===l?"child_removed":l,this.eventType===l}createCancelEvent(o,l){return this.callbackContext.hasCancelCallback?new Rh(this,o,l):null}createEvent(o,l){(0,B.hu)(null!=o.childName,"Child events should have a childName.");const f=no(new na(l._repo,l._path),o.childName),v=l._queryParams.getIndex();return new Ti(o.type,this,new xo(o.snapshotNode,f,v),o.prevName)}getEventRunner(o){return"cancel"===o.getEventType()?()=>this.callbackContext.onCancel(o.error):()=>this.callbackContext.onValue(o.snapshot,o.prevName)}matches(o){return o instanceof ru&&this.eventType===o.eventType&&(!this.callbackContext||!o.callbackContext||this.callbackContext.matches(o.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function bu(u,o,l,f,v){let D;if("object"==typeof f&&(D=void 0,v=f),"function"==typeof f&&(D=f),v&&v.onlyOnce){const ge=l,Ae=(Dt,Ft)=>{vu(u._repo,u,te),ge(Dt,Ft)};Ae.userCallback=l.userCallback,Ae.context=l.context,l=Ae}const k=new Hc(l,D||void 0),te="value"===o?new va(k):new ru(o,k);return function Sh(u,o,l){let f;f=".info"===Un(o._path)?Ao(u.infoSyncTree_,o,l):Ao(u.serverSyncTree_,o,l),Ad(u.eventQueue_,o._path,f)}(u._repo,u,te),()=>vu(u._repo,u,te)}function Gc(u,o,l,f){return bu(u,"value",o,l,f)}function zc(u,o,l,f){return bu(u,"child_added",o,l,f)}function Wc(u,o,l,f){return bu(u,"child_changed",o,l,f)}function Mo(u,o,l,f){return bu(u,"child_moved",o,l,f)}function Cu(u,o,l,f){return bu(u,"child_removed",o,l,f)}function Fd(u,o,l){let f=null;const v=l?new Hc(l):null;"value"===o?f=new va(v):o&&(f=new ru(o,v)),vu(u._repo,u,f)}class Ro{}class Il extends Ro{constructor(o,l){super(),this._value=o,this._key=l}_apply(o){$o("endAt",this._value,o._path,!0);const l=da(o._queryParams,this._value,this._key);if(Ml(l),El(l),o._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ta(o._repo,o._path,l,o._orderByCalled)}}class Ns extends Ro{constructor(o,l){super(),this._value=o,this._key=l}_apply(o){$o("endBefore",this._value,o._path,!1);const l=function Ho(u,o,l){let f;return f=da(u,o,u.index_===Oi||l?l:wn),f.endBeforeSet_=!0,f}(o._queryParams,this._value,this._key);if(Ml(l),El(l),o._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ta(o._repo,o._path,l,o._orderByCalled)}}class Ld extends Ro{constructor(o,l){super(),this._value=o,this._key=l}_apply(o){$o("startAt",this._value,o._path,!0);const l=vo(o._queryParams,this._value,this._key);if(Ml(l),El(l),o._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ta(o._repo,o._path,l,o._orderByCalled)}}class tl extends Ro{constructor(o,l){super(),this._value=o,this._key=l}_apply(o){$o("startAfter",this._value,o._path,!1);const l=function Cs(u,o,l){let f;return f=vo(u,o,u.index_===Oi||l?l:fr),f.startAfterSet_=!0,f}(o._queryParams,this._value,this._key);if(Ml(l),El(l),o._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ta(o._repo,o._path,l,o._orderByCalled)}}class Rf extends Ro{constructor(o){super(),this._limit=o}_apply(o){if(o._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ta(o._repo,o._path,function fs(u,o){const l=u.copy();return l.limitSet_=!0,l.limit_=o,l.viewFrom_="l",l}(o._queryParams,this._limit),o._orderByCalled)}}class C extends Ro{constructor(o){super(),this._limit=o}_apply(o){if(o._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ta(o._repo,o._path,function yo(u,o){const l=u.copy();return l.limitSet_=!0,l.limit_=o,l.viewFrom_="r",l}(o._queryParams,this._limit),o._orderByCalled)}}class _ extends Ro{constructor(o){super(),this._path=o}_apply(o){to(o,"orderByChild");const l=new xn(this._path);if(Nr(l))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const f=new mt(l),v=Ca(o._queryParams,f);return El(v),new ta(o._repo,o._path,v,!0)}}class re extends Ro{_apply(o){to(o,"orderByKey");const l=Ca(o._queryParams,Oi);return El(l),new ta(o._repo,o._path,l,!0)}}class It extends Ro{_apply(o){to(o,"orderByPriority");const l=Ca(o._queryParams,_i);return El(l),new ta(o._repo,o._path,l,!0)}}class Bn extends Ro{_apply(o){to(o,"orderByValue");const l=Ca(o._queryParams,Zr);return El(l),new ta(o._repo,o._path,l,!0)}}class Lr extends Ro{constructor(o,l){super(),this._value=o,this._key=l}_apply(o){if($o("equalTo",this._value,o._path,!1),o._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(o._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Il(this._value,this._key)._apply(new Ld(this._value,this._key)._apply(o))}}function Vi(u,...o){let l=(0,B.m9)(u);for(const f of o)l=f._apply(l);return l}(function Ma(u){(0,B.hu)(!zr,"__referenceConstructor has already been defined"),zr=u})(na),function je(u){(0,B.hu)(!fe,"__referenceConstructor has already been defined"),fe=u}(na);const hc={};function nl(u,o,l,f,v){let D=f||u.options.databaseURL;void 0===D&&(u.options.projectId||rn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),vn("Using default host for project ",u.options.projectId),D=`${u.options.projectId}-default-rtdb.firebaseio.com`);let ge,Ae,k=Eu(D,v),te=k.repoInfo;typeof process<"u"&&process.env&&(Ae=process.env.FIREBASE_DATABASE_EMULATOR_HOST),Ae?(ge=!0,D=`http://${Ae}?ns=${te.namespace}`,k=Eu(D,v),te=k.repoInfo):ge=!k.repoInfo.secure;const Dt=v&&ge?new yn(yn.OWNER):new gr(u.name,u.options,o);$c("Invalid Firebase Database URL",k),Nr(k.path)||rn("Database URL must point to the root of a Firebase Database (not including a child path).");const Ft=function Of(u,o,l,f){let v=hc[o.name];v||(v={},hc[o.name]=v);let D=v[u.toURLString()];return D&&rn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),D=new Tf(u,false,l,f),v[u.toURLString()]=D,D}(te,u,Dt,new er(u.name,l));return new ia(Ft,u)}class ia{constructor(o,l){this._repoInternal=o,this.app=l,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function xd(u,o,l){if(u.stats_=Z(u.repoInfo_),u.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)u.server_=new To(u.repoInfo_,(f,v,D,k)=>{Bo(u,f,v,D,k)},u.authTokenProvider_,u.appCheckProvider_),setTimeout(()=>xl(u,!0),0);else{if(typeof l<"u"&&null!==l){if("object"!=typeof l)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,B.Wl)(l)}catch(f){throw new Error("Invalid authOverride provided: "+f)}}u.persistentConnection_=new ds(u.repoInfo_,o,(f,v,D,k)=>{Bo(u,f,v,D,k)},f=>{xl(u,f)},f=>{!function Dh(u,o){tr(o,(l,f)=>{ic(u,l,f)})}(u,f)},u.authTokenProvider_,u.appCheckProvider_,l),u.server_=u.persistentConnection_}u.authTokenProvider_.addTokenChangeListener(f=>{u.server_.refreshAuthToken(f)}),u.appCheckProvider_.addTokenChangeListener(f=>{u.server_.refreshAppCheckToken(f.token)}),u.statsReporter_=function pe(u,o){const l=u.toString();return it[l]||(it[l]=o()),it[l]}(u.repoInfo_,()=>new Vl(u.stats_,u.server_)),u.infoData_=new es,u.infoSyncTree_=new pn({startListening:(f,v,D,k)=>{let te=[];const ge=u.infoData_.getNode(f._path);return ge.isEmpty()||(te=Qr(u.infoSyncTree_,f._path,ge),setTimeout(()=>{k("ok")},0)),te},stopListening:()=>{}}),ic(u,"connected",!1),u.serverSyncTree_=new pn({startListening:(f,v,D,k)=>(u.server_.listen(f,D,v,(te,ge)=>{const Ae=k(te,ge);Js(u.eventQueue_,f._path,Ae)}),[]),stopListening:(f,v)=>{u.server_.unlisten(f,v)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new na(this._repo,Kn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Ph(u,o){const l=hc[o];(!l||l[u.key]!==u)&&rn(`Database ${o}(${u.repoInfo_}) has already been deleted.`),Ah(u),delete l[u.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(o){null===this._rootInternal&&rn("Cannot call "+o+" on a deleted database.")}}function kh(){N.IS_TRANSPORT_INITIALIZED&&En("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function kf(){kh(),ir.forceDisallow()}function Cl(){kh(),ct.forceDisallow(),ir.forceAllow()}function Fp(u,o){An(u,o)}const Fh={".sv":"timestamp"};class Zg{constructor(o,l){this.committed=o,this.snapshot=l}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}ds.prototype.simpleListen=function(u,o){this.sendRequest("q",{p:u},o)},ds.prototype.echo=function(u,o){this.sendRequest("echo",{d:u},o)},function zu(u){qt(he.SDK_VERSION),(0,he._registerComponent)(new ie.wA("database",(o,{instanceIdentifier:l})=>nl(o.getProvider("app").getImmediate(),o.getProvider("auth-internal"),o.getProvider("app-check-internal"),l),"PUBLIC").setMultipleInstances(!0)),(0,he.registerVersion)(Oe,"0.14.0",u),(0,he.registerVersion)(Oe,"0.14.0","esm2017")}();const wv=new ke.Yd("@firebase/database-compat"),fy=function(u){wv.warn("FIREBASE WARNING: "+u)};class py{constructor(o){this._delegate=o}cancel(o){(0,B.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,B.Wj)("OnDisconnect.cancel","onComplete",o,!0);const l=this._delegate.cancel();return o&&l.then(()=>o(null),f=>o(f)),l}remove(o){(0,B.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,B.Wj)("OnDisconnect.remove","onComplete",o,!0);const l=this._delegate.remove();return o&&l.then(()=>o(null),f=>o(f)),l}set(o,l){(0,B.Dv)("OnDisconnect.set",1,2,arguments.length),(0,B.Wj)("OnDisconnect.set","onComplete",l,!0);const f=this._delegate.set(o);return l&&f.then(()=>l(null),v=>l(v)),f}setWithPriority(o,l,f){(0,B.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,B.Wj)("OnDisconnect.setWithPriority","onComplete",f,!0);const v=this._delegate.setWithPriority(o,l);return f&&v.then(()=>f(null),D=>f(D)),v}update(o,l){if((0,B.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(o)){const v={};for(let D=0;D<o.length;++D)v[""+D]=o[D];o=v,fy("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,B.Wj)("OnDisconnect.update","onComplete",l,!0);const f=this._delegate.update(o);return l&&f.then(()=>l(null),v=>l(v)),f}}class Jg{constructor(o,l){this.committed=o,this.snapshot=l}toJSON(){return(0,B.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Wu{constructor(o,l){this._database=o,this._delegate=l}val(){return(0,B.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,B.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,B.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,B.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(o){return(0,B.Dv)("DataSnapshot.child",0,1,arguments.length),o=String(o),ea("DataSnapshot.child","path",o,!1),new Wu(this._database,this._delegate.child(o))}hasChild(o){return(0,B.Dv)("DataSnapshot.hasChild",1,1,arguments.length),ea("DataSnapshot.hasChild","path",o,!1),this._delegate.hasChild(o)}getPriority(){return(0,B.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(o){return(0,B.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,B.Wj)("DataSnapshot.forEach","action",o,!1),this._delegate.forEach(l=>o(new Wu(this._database,l)))}hasChildren(){return(0,B.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,B.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,B.Dv)("DataSnapshot.ref",0,0,arguments.length),new Uo(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Vo{constructor(o,l){this.database=o,this._delegate=l}on(o,l,f,v){var D;(0,B.Dv)("Query.on",2,4,arguments.length),(0,B.Wj)("Query.on","callback",l,!1);const k=Vo.getCancelAndContextArgs_("Query.on",f,v),te=(Ae,Dt)=>{l.call(k.context,new Wu(this.database,Ae),Dt)};te.userCallback=l,te.context=k.context;const ge=null===(D=k.cancel)||void 0===D?void 0:D.bind(k.context);switch(o){case"value":return Gc(this._delegate,te,ge),l;case"child_added":return zc(this._delegate,te,ge),l;case"child_removed":return Cu(this._delegate,te,ge),l;case"child_changed":return Wc(this._delegate,te,ge),l;case"child_moved":return Mo(this._delegate,te,ge),l;default:throw new Error((0,B.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(o,l,f){if((0,B.Dv)("Query.off",0,3,arguments.length),function(u,o,l){if(void 0!==o)switch(o){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,B.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,o),(0,B.Wj)("Query.off","callback",l,!0),(0,B.lb)("Query.off","context",f,!0),l){const v=()=>{};v.userCallback=l,v.context=f,Fd(this._delegate,o,v)}else Fd(this._delegate,o)}get(){return Nd(this._delegate).then(o=>new Wu(this.database,o))}once(o,l,f,v){(0,B.Dv)("Query.once",1,4,arguments.length),(0,B.Wj)("Query.once","callback",l,!0);const D=Vo.getCancelAndContextArgs_("Query.once",f,v),k=new B.BH,te=(Ae,Dt)=>{const Ft=new Wu(this.database,Ae);l&&l.call(D.context,Ft,Dt),k.resolve(Ft)};te.userCallback=l,te.context=D.context;const ge=Ae=>{D.cancel&&D.cancel.call(D.context,Ae),k.reject(Ae)};switch(o){case"value":Gc(this._delegate,te,ge,{onlyOnce:!0});break;case"child_added":zc(this._delegate,te,ge,{onlyOnce:!0});break;case"child_removed":Cu(this._delegate,te,ge,{onlyOnce:!0});break;case"child_changed":Wc(this._delegate,te,ge,{onlyOnce:!0});break;case"child_moved":Mo(this._delegate,te,ge,{onlyOnce:!0});break;default:throw new Error((0,B.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return k.promise}limitToFirst(o){return(0,B.Dv)("Query.limitToFirst",1,1,arguments.length),new Vo(this.database,Vi(this._delegate,function Yc(u){if("number"!=typeof u||Math.floor(u)!==u||u<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Rf(u)}(o)))}limitToLast(o){return(0,B.Dv)("Query.limitToLast",1,1,arguments.length),new Vo(this.database,Vi(this._delegate,function g(u){if("number"!=typeof u||Math.floor(u)!==u||u<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new C(u)}(o)))}orderByChild(o){return(0,B.Dv)("Query.orderByChild",1,1,arguments.length),new Vo(this.database,Vi(this._delegate,function x(u){if("$key"===u)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===u)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===u)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return ea("orderByChild","path",u,!1),new _(u)}(o)))}orderByKey(){return(0,B.Dv)("Query.orderByKey",0,0,arguments.length),new Vo(this.database,Vi(this._delegate,function De(){return new re}()))}orderByPriority(){return(0,B.Dv)("Query.orderByPriority",0,0,arguments.length),new Vo(this.database,Vi(this._delegate,function Qt(){return new It}()))}orderByValue(){return(0,B.Dv)("Query.orderByValue",0,0,arguments.length),new Vo(this.database,Vi(this._delegate,function cr(){return new Bn}()))}startAt(o=null,l){return(0,B.Dv)("Query.startAt",0,2,arguments.length),new Vo(this.database,Vi(this._delegate,function Rl(u=null,o){return Xl("startAt","key",o,!0),new Ld(u,o)}(o,l)))}startAfter(o=null,l){return(0,B.Dv)("Query.startAfter",0,2,arguments.length),new Vo(this.database,Vi(this._delegate,function iu(u,o){return Xl("startAfter","key",o,!0),new tl(u,o)}(o,l)))}endAt(o=null,l){return(0,B.Dv)("Query.endAt",0,2,arguments.length),new Vo(this.database,Vi(this._delegate,function Kc(u,o){return Xl("endAt","key",o,!0),new Il(u,o)}(o,l)))}endBefore(o=null,l){return(0,B.Dv)("Query.endBefore",0,2,arguments.length),new Vo(this.database,Vi(this._delegate,function qc(u,o){return Xl("endBefore","key",o,!0),new Ns(u,o)}(o,l)))}equalTo(o,l){return(0,B.Dv)("Query.equalTo",1,2,arguments.length),new Vo(this.database,Vi(this._delegate,function kr(u,o){return Xl("equalTo","key",o,!0),new Lr(u,o)}(o,l)))}toString(){return(0,B.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,B.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(o){if((0,B.Dv)("Query.isEqual",1,1,arguments.length),!(o instanceof Vo))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(o._delegate)}static getCancelAndContextArgs_(o,l,f){const v={cancel:void 0,context:void 0};if(l&&f)v.cancel=l,(0,B.Wj)(o,"cancel",v.cancel,!0),v.context=f,(0,B.lb)(o,"context",v.context,!0);else if(l)if("object"==typeof l&&null!==l)v.context=l;else{if("function"!=typeof l)throw new Error((0,B.gK)(o,"cancelOrContext")+" must either be a cancel callback or a context object.");v.cancel=l}return v}get ref(){return new Uo(this.database,new na(this._delegate._repo,this._delegate._path))}}class Uo extends Vo{constructor(o,l){super(o,new ta(l._repo,l._path,new ba,!1)),this.database=o,this._delegate=l}getKey(){return(0,B.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(o){return(0,B.Dv)("Reference.child",1,1,arguments.length),"number"==typeof o&&(o=String(o)),new Uo(this.database,no(this._delegate,o))}getParent(){(0,B.Dv)("Reference.parent",0,0,arguments.length);const o=this._delegate.parent;return o?new Uo(this.database,o):null}getRoot(){return(0,B.Dv)("Reference.root",0,0,arguments.length),new Uo(this.database,this._delegate.root)}set(o,l){(0,B.Dv)("Reference.set",1,2,arguments.length),(0,B.Wj)("Reference.set","onComplete",l,!0);const f=wu(this._delegate,o);return l&&f.then(()=>l(null),v=>l(v)),f}update(o,l){if((0,B.Dv)("Reference.update",1,2,arguments.length),Array.isArray(o)){const v={};for(let D=0;D<o.length;++D)v[""+D]=o[D];o=v,fy("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Io("Reference.update",this._delegate._path),(0,B.Wj)("Reference.update","onComplete",l,!0);const f=dc(this._delegate,o);return l&&f.then(()=>l(null),v=>l(v)),f}setWithPriority(o,l,f){(0,B.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,B.Wj)("Reference.setWithPriority","onComplete",f,!0);const v=function cc(u,o,l){if(Io("setWithPriority",u._path),$o("setWithPriority",o,u._path,!1),Sd("setWithPriority",l,!1),".length"===u.key||".keys"===u.key)throw"setWithPriority failed: "+u.key+" is a read-only object.";const f=new B.BH;return sc(u._repo,u._path,o,l,f.wrapCallback(()=>{})),f.promise}(this._delegate,o,l);return f&&v.then(()=>f(null),D=>f(D)),v}remove(o){(0,B.Dv)("Reference.remove",0,1,arguments.length),(0,B.Wj)("Reference.remove","onComplete",o,!0);const l=function kd(u){return Io("remove",u._path),wu(u,null)}(this._delegate);return o&&l.then(()=>o(null),f=>o(f)),l}transaction(o,l,f){(0,B.Dv)("Reference.transaction",1,3,arguments.length),(0,B.Wj)("Reference.transaction","transactionUpdate",o,!1),(0,B.Wj)("Reference.transaction","onComplete",l,!0),function(u,o,l,f){if(void 0!==l&&"boolean"!=typeof l)throw new Error((0,B.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,f);const v=function Ev(u,o,l){var f;if(u=(0,B.m9)(u),Io("Reference.transaction",u._path),".length"===u.key||".keys"===u.key)throw"Reference.transaction failed: "+u.key+" is a read-only object.";const v=null===(f=null==l?void 0:l.applyLocally)||void 0===f||f,D=new B.BH,te=Gc(u,()=>{});return function Rd(u,o,l,f,v,D){el(u,"transaction on "+o);const k={path:o,update:l,onComplete:f,status:null,order:Be(),applyLocally:D,retryCount:0,unwatcher:v,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},te=ps(u,o,void 0);k.currentInputSnapshot=te;const ge=k.update(te.val());if(void 0===ge)k.unwatcher(),k.currentOutputSnapshotRaw=null,k.currentOutputSnapshotResolved=null,k.onComplete&&k.onComplete(null,!1,k.currentInputSnapshot);else{gu("transaction failed: Data returned ",ge,k.path),k.status=0;const Ae=wh(u.transactionQueueTree_,o),Dt=Yl(Ae)||[];let Ft;Dt.push(k),Ih(Ae,Dt),"object"==typeof ge&&null!==ge&&(0,B.r3)(ge,".priority")?(Ft=(0,B.DV)(ge,".priority"),(0,B.hu)(nc(Ft),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):Ft=(ql(u.serverSyncTree_,o)||Ct.EMPTY_NODE).getPriority().val();const Nt=rc(u),Jt=oe(ge,Ft),_n=Df(Jt,te,Nt);k.currentOutputSnapshotRaw=Jt,k.currentOutputSnapshotResolved=_n,k.currentWriteId=ks(u);const Rr=Wn(u.serverSyncTree_,o,_n,k.currentWriteId,k.applyLocally);Js(u.eventQueue_,o,Rr),vl(u,u.transactionQueueTree_)}}(u._repo,u._path,o,(ge,Ae,Dt)=>{let Ft=null;ge?D.reject(ge):(Ft=new xo(Dt,new na(u._repo,u._path),_i),D.resolve(new Zg(Ae,Ft)))},te,v),D.promise}(this._delegate,o,{applyLocally:f}).then(D=>new Jg(D.committed,new Wu(this.database,D.snapshot)));return l&&v.then(D=>l(null,D.committed,D.snapshot),D=>l(D,!1,null)),v}setPriority(o,l){(0,B.Dv)("Reference.setPriority",1,2,arguments.length),(0,B.Wj)("Reference.setPriority","onComplete",l,!0);const f=function Iu(u,o){u=(0,B.m9)(u),Io("setPriority",u._path),Sd("setPriority",o,!1);const l=new B.BH;return sc(u._repo,yi(u._path,".priority"),o,null,l.wrapCallback(()=>{})),l.promise}(this._delegate,o);return l&&f.then(()=>l(null),v=>l(v)),f}push(o,l){(0,B.Dv)("Reference.push",0,2,arguments.length),(0,B.Wj)("Reference.push","onComplete",l,!0);const f=function gi(u,o){u=(0,B.m9)(u),Io("push",u._path),$o("push",o,u._path,!0);const l=jc(u._repo),f=eo(l),v=no(u,f),D=no(u,f);let k;return k=null!=o?wu(D,o).then(()=>D):Promise.resolve(D),v.then=k.then.bind(k),v.catch=k.then.bind(k,void 0),v}(this._delegate,o),v=f.then(k=>new Uo(this.database,k));l&&v.then(()=>l(null),k=>l(k));const D=new Uo(this.database,f);return D.then=v.then.bind(v),D.catch=v.catch.bind(v,void 0),D}onDisconnect(){return Io("Reference.onDisconnect",this._delegate._path),new py(new _l(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class ro{constructor(o,l){this._delegate=o,this.app=l,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:kf,forceLongPolling:Cl}}useEmulator(o,l,f={}){!function Zc(u,o,l,f={}){(u=(0,B.m9)(u))._checkNotDeleted("useEmulator"),u._instanceStarted&&rn("Cannot call useEmulator() after instance has already been initialized.");const v=u._repoInternal;let D;if(v.repoInfo_.nodeAdmin)f.mockUserToken&&rn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),D=new yn(yn.OWNER);else if(f.mockUserToken){const k="string"==typeof f.mockUserToken?f.mockUserToken:(0,B.Sg)(f.mockUserToken,u.app.options.projectId);D=new yn(k)}!function ra(u,o,l,f){u.repoInfo_=new Qn(`${o}:${l}`,!1,u.repoInfo_.namespace,u.repoInfo_.webSocketOnly,u.repoInfo_.nodeAdmin,u.repoInfo_.persistenceKey,u.repoInfo_.includeNamespaceInQueryParams),f&&(u.authTokenProvider_=f)}(v,o,l,D)}(this._delegate,o,l,f)}ref(o){if((0,B.Dv)("database.ref",0,1,arguments.length),o instanceof Uo){const l=Gu(this._delegate,o.toString());return new Uo(this,l)}{const l=wl(this._delegate,o);return new Uo(this,l)}}refFromURL(o){(0,B.Dv)("database.refFromURL",1,1,arguments.length);const f=Gu(this._delegate,o);return new Uo(this,f)}goOffline(){return(0,B.Dv)("database.goOffline",0,0,arguments.length),function Kg(u){(u=(0,B.m9)(u))._checkNotDeleted("goOffline"),Ah(u._repo)}(this._delegate)}goOnline(){return(0,B.Dv)("database.goOnline",0,0,arguments.length),function hy(u){(u=(0,B.m9)(u))._checkNotDeleted("goOnline"),function Md(u){u.persistentConnection_&&u.persistentConnection_.resume(Vc)}(u._repo)}(this._delegate)}}ro.ServerValue={TIMESTAMP:function qg(){return Fh}(),increment:u=>function Yg(u){return{".sv":{increment:u}}}(u)};var Bp=Object.freeze({__proto__:null,initStandalone:function Lh({app:u,url:o,version:l,customAuthImpl:f,namespace:v,nodeAdmin:D=!1}){qt(l);const k=new ie.zt("auth-internal",new ie.H0("database-standalone"));return k.setComponent(new ie.wA("auth-internal",()=>f,"PRIVATE")),{instance:new ro(nl(u,k,void 0,o,D),u),namespace:v}}});const io=ro.ServerValue;!function fc(u){u.INTERNAL.registerComponent(new ie.wA("database-compat",(o,{instanceIdentifier:l})=>{const f=o.getProvider("app-compat").getImmediate(),v=o.getProvider("database").getImmediate({identifier:l});return new ro(v,f)},"PUBLIC").setServiceProps({Reference:Uo,Query:Vo,Database:ro,DataSnapshot:Wu,enableLogging:Fp,INTERNAL:Bp,ServerValue:io}).setMultipleInstances(!0)),u.registerVersion("@firebase/database-compat","0.3.0")}(rt.Z);var Ku=$(3385),Nf=$(6217),Ff=$(9260);function pc(u){return null==u}function gc(u){return"function"==typeof u.set}function Qc(u,o){return gc(o)?o:u.ref(o)}function em(u,o){if(function Lf(u){return"string"==typeof u}(u))return o.stringCase();if(gc(u))return o.firebaseCase();if(function Xc(u){return"function"==typeof u.exportVal}(u))return o.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof u)}function $d(u,o,l="on",f=He.z){return new we.y(v=>{let D=null;return D=u[l](o,(k,te)=>{f.schedule(()=>{v.next({snapshot:k,prevKey:te})}),"once"===l&&f.schedule(()=>v.complete())},k=>{f.schedule(()=>v.error(k))}),"on"===l?{unsubscribe(){null!=D&&u.off(o,D)}}:{unsubscribe(){}}}).pipe((0,xe.U)(v=>{const{snapshot:D,prevKey:k}=v;let te=null;return D.exists()&&(te=D.key),{type:o,payload:D,prevKey:k,key:te}}),(0,de.B)())}function $h(u,o){const l=u.length;for(let f=0;f<l;f++)if(u[f].payload.key===o)return f;return-1}function tm(u,o){const{payload:l,prevKey:f,key:v}=o,D=$h(u,v),k=function Vp(u,o){if(pc(o))return 0;{const l=$h(u,o);return-1===l?u.length:l+1}}(u,f);switch(o.type){case"value":if(o.payload&&o.payload.exists()){let te=null;o.payload.forEach(ge=>{const Ae={payload:ge,type:"value",prevKey:te,key:ge.key};return te=ge.key,u=[...u,Ae],!1})}return u;case"child_added":if(D>-1){const te=u[D-1];(te&&te.key||null)!==f&&(u=u.filter(ge=>ge.payload.key!==l.key)).splice(k,0,o)}else{if(null==f)return[o,...u];(u=u.slice()).splice(k,0,o)}return u;case"child_removed":return u.filter(te=>te.payload.key!==l.key);case"child_changed":return u.map(te=>te.payload.key===v?o:te);case"child_moved":if(D>-1){const te=u.splice(D,1)[0];return(u=u.slice()).splice(k,0,te),u}return u;default:return u}}function $f(u){return(pc(u)||0===u.length)&&(u=["child_added","child_removed","child_changed","child_moved"]),u}function Up(u,o,l){return function Jc(u,o,l){return $d(u,"value","once",l).pipe((0,Te.w)(f=>{const v=[(0,Se.of)(f)];return o.forEach(D=>v.push($d(u,D,"on",l))),(0,$e.T)(...v).pipe((0,ze.R)(tm,[]))}),(0,Xe.x)())}(u,o=$f(o),l)}function Bh(u,o,l){const f=(o=$f(o)).map(v=>$d(u,v,"on",l));return(0,$e.T)(...f)}function nm(u,o){return function(f,v){return em(f,{stringCase:()=>u.child(f)[o](v),firebaseCase:()=>f[o](v),snapshotCase:()=>f.ref[o](v)})}}function Hp(u){return function(l){return l?em(l,{stringCase:()=>u.child(l).remove(),firebaseCase:()=>l.remove(),snapshotCase:()=>l.ref.remove()}):u.remove()}}function Bf(u,o){return function(){return $d(u,"value","on",o)}}const yc=new ne.OlP("angularfire2.realtimeDatabaseURL"),rl=new ne.OlP("angularfire2.database.use-emulator");let rm=(()=>{class u{constructor(l,f,v,D,k,te,ge,Ae,Dt,Ft,Nt,Jt,_n,Rr,Hr){this.schedulers=te;const Ii=ge,gs=(0,Le.on)(l,k,f);Ae&&(0,Ku.nw)(gs,k,Dt,Nt,Jt,_n,Ft,Rr),this.database=(0,Le.cc)(`${gs.name}.database.${v}`,"AngularFireDatabase",gs.name,()=>{const ms=k.runOutsideAngular(()=>gs.database(v||void 0));return Ii&&ms.useEmulator(...Ii),ms},[Ii])}list(l,f){const v=this.schedulers.ngZone.runOutsideAngular(()=>Qc(this.database,l));let D=v;return f&&(D=f(v)),function gy(u,o){const l=o.schedulers.outsideAngular,f=o.schedulers.ngZone.run(()=>u.ref);return{query:u,update:nm(f,"update"),set:nm(f,"set"),push:v=>f.push(v),remove:Hp(f),snapshotChanges:v=>Up(u,v,l).pipe(Ke.iC),stateChanges:v=>Bh(u,v,l).pipe(Ke.iC),auditTrail:v=>function Bd(u,o,l){return function jp(u,o,l){return function mc(u,o){return $d(u,"value","on",o).pipe((0,xe.U)(l=>{let f;return l.payload.forEach(v=>(f=v.key,!1)),{data:l,lastKeyToLoad:f}}))}(u,l).pipe(function Ve(...u){const o=(0,wt.jO)(u);return(0,vt.e)((l,f)=>{const v=u.length,D=new Array(v);let k=u.map(()=>!1),te=!1;for(let ge=0;ge<v;ge++)(0,at.Xf)(u[ge]).subscribe((0,lt.x)(f,Ae=>{D[ge]=Ae,!te&&!k[ge]&&(k[ge]=!0,(te=k.every(ye.y))&&(k=null))},Ce.Z));l.subscribe((0,lt.x)(f,ge=>{if(te){const Ae=[ge,...D];f.next(o?o(...Ae):Ae)}}))})}(o),(0,xe.U)(([v,D])=>{const k=v.lastKeyToLoad,te=D.map(ge=>ge.key);return{actions:D,lastKeyToLoad:k,loadedKeys:te}}),function tt(u){return(0,vt.e)((o,l)=>{let f=!1,v=0;o.subscribe((0,lt.x)(l,D=>(f||(f=!u(D,v++)))&&l.next(D)))})}(v=>-1===v.loadedKeys.indexOf(v.lastKeyToLoad)),(0,xe.U)(v=>v.actions))}(u,Bh(u,o).pipe((0,ze.R)((v,D)=>[...v,D],[])),l)}(u,v,l).pipe(Ke.iC),valueChanges:(v,D)=>Up(u,v,l).pipe((0,xe.U)(te=>te.map(ge=>D&&D.idField?Object.assign(Object.assign({},ge.payload.val()),{[D.idField]:ge.key}):ge.payload.val())),Ke.iC)}}(D,this)}object(l){return function Vd(u,o){return{query:u,snapshotChanges:()=>Bf(u,o.schedulers.outsideAngular)().pipe(Ke.iC),update:l=>u.ref.update(l),set:l=>u.ref.set(l),remove:()=>u.ref.remove(),valueChanges:()=>Bf(u,o.schedulers.outsideAngular)().pipe(Ke.iC,(0,xe.U)(f=>f.payload.exists()?f.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Qc(this.database,l)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return u.\u0275fac=function(l){return new(l||u)(ne.LFG(Le.Dh),ne.LFG(Le.xv,8),ne.LFG(yc,8),ne.LFG(ne.Lbi),ne.LFG(ne.R0b),ne.LFG(Ke.HU),ne.LFG(rl,8),ne.LFG(Ku.zQ,8),ne.LFG(Ku.Qv,8),ne.LFG(Ku.L6,8),ne.LFG(Ku._Q,8),ne.LFG(Ku.rT,8),ne.LFG(Ku.lh,8),ne.LFG(Ku.f7,8),ne.LFG(Nf.nm,8))},u.\u0275prov=ne.Yz7({token:u,factory:u.\u0275fac,providedIn:"any"}),u})(),Gp=(()=>{class u{constructor(){Ff.Z.registerVersion("angularfire",Ke.q4.full,"rtdb-compat")}}return u.\u0275fac=function(l){return new(l||u)},u.\u0275mod=ne.oAB({type:u}),u.\u0275inj=ne.cJS({providers:[rm]}),u})();const Ud_firebaseConfig={apiKey:"AIzaSyCzsa3ttnlWTJ0NerjsuYE7Tnt90fVrK94",authDomain:"villaernestina-52a85.firebaseapp.com",projectId:"villaernestina-52a85",storageBucket:"villaernestina-52a85.appspot.com",messagingSenderId:"189445471716",appId:"1:189445471716:web:40edabdd0570459a9c5bf1"};var my=$(3101),vc=$(8996);const qu="firebasestorage.googleapis.com",Vh="storageBucket";class Fs extends B.ZR{constructor(o,l,f=0){super(Du(o),`Firebase Storage: ${l} (${Du(o)})`),this.status_=f,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Fs.prototype)}get status(){return this.status_}set status(o){this.status_=o}_codeEquals(o){return Du(o)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(o){this.customData.serverResponse=o,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function Du(u){return"storage/"+u}function Hd(){return new Fs("unknown","An unknown error occurred, please check the error payload for server response.")}function zp(){return new Fs("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function jf(){return new Fs("canceled","User canceled the upload/download.")}function jh(){return new Fs("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Wd(u){return new Fs("invalid-argument",u)}function Yu(){return new Fs("app-deleted","The Firebase app was deleted.")}function am(u){return new Fs("invalid-root-operation","The operation '"+u+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Tu(u,o){return new Fs("invalid-format","String does not match format '"+u+"': "+o)}function Kd(u){throw new Fs("internal-error","Internal error: "+u)}class Ls{constructor(o,l){this.bucket=o,this.path_=l}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const o=encodeURIComponent;return"/b/"+o(this.bucket)+"/o/"+o(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(o,l){let f;try{f=Ls.makeFromUrl(o,l)}catch(v){return new Ls(o,"")}if(""===f.path)return f;throw function om(u){return new Fs("invalid-default-bucket","Invalid default bucket '"+u+"'.")}(o)}static makeFromUrl(o,l){let f=null;const v="([A-Za-z0-9.\\-_]+)",te=new RegExp("^gs://"+v+"(/(.*))?$","i");function Ae(Bs){Bs.path_=decodeURIComponent(Bs.path)}const Ft=l.replace(/[.]/g,"\\."),ms=[{regex:te,indices:{bucket:1,path:3},postModify:function D(Bs){"/"===Bs.path.charAt(Bs.path.length-1)&&(Bs.path_=Bs.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Ft}/v[A-Za-z0-9_]+/b/${v}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Ae},{regex:new RegExp(`^https?://${l===qu?"(?:storage.googleapis.com|storage.cloud.google.com)":l}/${v}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Ae}];for(let Bs=0;Bs<ms.length;Bs++){const yd=ms[Bs],Rc=yd.regex.exec(o);if(Rc){let vd=Rc[yd.indices.path];vd||(vd=""),f=new Ls(Rc[yd.indices.bucket],vd),yd.postModify(f);break}}if(null==f)throw function Dl(u){return new Fs("invalid-url","Invalid URL '"+u+"'.")}(o);return f}}class Wp{constructor(o){this.promise_=Promise.reject(o)}getPromise(){return this.promise_}cancel(o=!1){}}function Hh(u){return"string"==typeof u||u instanceof String}function lm(u){return Hf()&&u instanceof Blob}function Hf(){return typeof Blob<"u"&&!(0,B.UG)()}function Zp(u,o,l,f){if(f<o)throw Wd(`Invalid value for '${u}'. Expected ${o} or greater.`);if(f>l)throw Wd(`Invalid value for '${u}'. Expected ${l} or less.`)}function Su(u,o,l){let f=o;return null==l&&(f=`https://${o}`),`${l}://${f}/v0${u}`}function wc(u){const o=encodeURIComponent;let l="?";for(const f in u)u.hasOwnProperty(f)&&(l=l+(o(f)+"=")+o(u[f])+"&");return l=l.slice(0,-1),l}var Pl=(()=>{return(u=Pl||(Pl={}))[u.NO_ERROR=0]="NO_ERROR",u[u.NETWORK_ERROR=1]="NETWORK_ERROR",u[u.ABORT=2]="ABORT",Pl;var u})();function Ic(u,o){const l=u>=500&&u<600,v=-1!==[408,429].indexOf(u),D=-1!==o.indexOf(u);return l||v||D}class Au{constructor(o,l,f,v,D,k,te,ge,Ae,Dt,Ft,Nt=!0){this.url_=o,this.method_=l,this.headers_=f,this.body_=v,this.successCodes_=D,this.additionalRetryCodes_=k,this.callback_=te,this.errorCallback_=ge,this.timeout_=Ae,this.progressCallback_=Dt,this.connectionFactory_=Ft,this.retry=Nt,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Jt,_n)=>{this.resolve_=Jt,this.reject_=_n,this.start_()})}start_(){const l=(f,v)=>{const D=this.resolve_,k=this.reject_,te=v.connection;if(v.wasSuccessCode)try{const ge=this.callback_(te,te.getResponse());!function vy(u){return void 0!==u}(ge)?D():D(ge)}catch(ge){k(ge)}else if(null!==te){const ge=Hd();ge.serverResponse=te.getErrorText(),k(this.errorCallback_?this.errorCallback_(te,ge):ge)}else k(v.canceled?this.appDelete_?Yu():jf():zp())};this.canceled_?l(0,new Gf(!1,null,!0)):this.backoffId_=function Kp(u,o,l){let f=1,v=null,D=null,k=!1,te=0;function ge(){return 2===te}let Ae=!1;function Dt(...Hr){Ae||(Ae=!0,o.apply(null,Hr))}function Ft(Hr){v=setTimeout(()=>{v=null,u(Jt,ge())},Hr)}function Nt(){D&&clearTimeout(D)}function Jt(Hr,...Ii){if(Ae)return void Nt();if(Hr)return Nt(),void Dt.call(null,Hr,...Ii);if(ge()||k)return Nt(),void Dt.call(null,Hr,...Ii);let ms;f<64&&(f*=2),1===te?(te=2,ms=0):ms=1e3*(f+Math.random()),Ft(ms)}let _n=!1;function Rr(Hr){_n||(_n=!0,Nt(),!Ae&&(null!==v?(Hr||(te=2),clearTimeout(v),Ft(0)):Hr||(te=1)))}return Ft(0),D=setTimeout(()=>{k=!0,Rr(!0)},l),Rr}((f,v)=>{if(v)return void f(!1,new Gf(!1,null,!0));const D=this.connectionFactory_();this.pendingConnection_=D;const k=te=>{null!==this.progressCallback_&&this.progressCallback_(te.loaded,te.lengthComputable?te.total:-1)};null!==this.progressCallback_&&D.addUploadProgressListener(k),D.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&D.removeUploadProgressListener(k),this.pendingConnection_=null;const te=D.getErrorCode()===Pl.NO_ERROR,ge=D.getStatus();if((!te||Ic(ge,this.additionalRetryCodes_))&&this.retry){const Dt=D.getErrorCode()===Pl.ABORT;return void f(!1,new Gf(!1,null,Dt))}const Ae=-1!==this.successCodes_.indexOf(ge);f(!0,new Gf(Ae,D))})},l,this.timeout_)}getPromise(){return this.promise_}cancel(o){this.canceled_=!0,this.appDelete_=o||!1,null!==this.backoffId_&&function qp(u){u(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Gf{constructor(o,l,f){this.wasSuccessCode=o,this.connection=l,this.canceled=!!f}}function Cv(...u){const o=function cm(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==o){const l=new o;for(let f=0;f<u.length;f++)l.append(u[f]);return l.getBlob()}if(Hf())return new Blob(u);throw new Fs("unsupported-environment","This browser doesn't seem to support creating Blobs")}const ka={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Xp{constructor(o,l){this.data=o,this.contentType=l||null}}function qd(u,o){switch(u){case ka.RAW:return new Xp(kl(o));case ka.BASE64:case ka.BASE64URL:return new Xp(Gh(u,o));case ka.DATA_URL:return new Xp(function zh(u){const o=new Wf(u);return o.base64?Gh(ka.BASE64,o.rest):function hm(u){let o;try{o=decodeURIComponent(u)}catch(l){throw Tu(ka.DATA_URL,"Malformed data URL.")}return kl(o)}(o.rest)}(o),function Kf(u){return new Wf(u).contentType}(o))}throw Hd()}function kl(u){const o=[];for(let l=0;l<u.length;l++){let f=u.charCodeAt(l);f<=127?o.push(f):f<=2047?o.push(192|f>>6,128|63&f):55296==(64512&f)?l<u.length-1&&56320==(64512&u.charCodeAt(l+1))?(f=65536|(1023&f)<<10|1023&u.charCodeAt(++l),o.push(240|f>>18,128|f>>12&63,128|f>>6&63,128|63&f)):o.push(239,191,189):56320==(64512&f)?o.push(239,191,189):o.push(224|f>>12,128|f>>6&63,128|63&f)}return new Uint8Array(o)}function Gh(u,o){switch(u){case ka.BASE64:{const v=-1!==o.indexOf("-"),D=-1!==o.indexOf("_");if(v||D)throw Tu(u,"Invalid character '"+(v?"-":"_")+"' found: is it base64url encoded?");break}case ka.BASE64URL:{const v=-1!==o.indexOf("+"),D=-1!==o.indexOf("/");if(v||D)throw Tu(u,"Invalid character '"+(v?"+":"/")+"' found: is it base64 encoded?");o=o.replace(/-/g,"+").replace(/_/g,"/");break}}let l;try{l=function _y(u){if(typeof atob>"u")throw function zd(u){return new Fs("unsupported-environment",`${u} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(u)}(o)}catch(v){throw v.message.includes("polyfill")?v:Tu(u,"Invalid character found")}const f=new Uint8Array(l.length);for(let v=0;v<l.length;v++)f[v]=l.charCodeAt(v);return f}class Wf{constructor(o){this.base64=!1,this.contentType=null;const l=o.match(/^data:([^,]+)?,/);if(null===l)throw Tu(ka.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const f=l[1]||null;null!=f&&(this.base64=function Qp(u,o){return u.length>=o.length&&u.substring(u.length-o.length)===o}(f,";base64"),this.contentType=this.base64?f.substring(0,f.length-7):f),this.rest=o.substring(o.indexOf(",")+1)}}class Tl{constructor(o,l){let f=0,v="";lm(o)?(this.data_=o,f=o.size,v=o.type):o instanceof ArrayBuffer?(l?this.data_=new Uint8Array(o):(this.data_=new Uint8Array(o.byteLength),this.data_.set(new Uint8Array(o))),f=this.data_.length):o instanceof Uint8Array&&(l?this.data_=o:(this.data_=new Uint8Array(o.length),this.data_.set(o)),f=o.length),this.size_=f,this.type_=v}size(){return this.size_}type(){return this.type_}slice(o,l){if(lm(this.data_)){const v=function dm(u,o,l){return u.webkitSlice?u.webkitSlice(o,l):u.mozSlice?u.mozSlice(o,l):u.slice?u.slice(o,l):null}(this.data_,o,l);return null===v?null:new Tl(v)}{const f=new Uint8Array(this.data_.buffer,o,l-o);return new Tl(f,!0)}}static getBlob(...o){if(Hf()){const l=o.map(f=>f instanceof Tl?f.data_:f);return new Tl(Cv.apply(null,l))}{const l=o.map(k=>Hh(k)?qd(ka.RAW,k).data:k.data_);let f=0;l.forEach(k=>{f+=k.byteLength});const v=new Uint8Array(f);let D=0;return l.forEach(k=>{for(let te=0;te<k.length;te++)v[D++]=k[te]}),new Tl(v,!0)}}uploadData(){return this.data_}}function qf(u){let o;try{o=JSON.parse(u)}catch(l){return null}return function Ec(u){return"object"==typeof u&&!Array.isArray(u)}(o)?o:null}function si(u){const o=u.lastIndexOf("/",u.length-2);return-1===o?u:u.slice(o+1)}function Yf(u,o){return o}class _a{constructor(o,l,f,v){this.server=o,this.local=l||o,this.writable=!!f,this.xform=v||Yf}}let Yd=null;function Zd(){if(Yd)return Yd;const u=[];u.push(new _a("bucket")),u.push(new _a("generation")),u.push(new _a("metageneration")),u.push(new _a("name","fullPath",!0));const l=new _a("name");l.xform=function o(D,k){return function wy(u){return!Hh(u)||u.length<2?u:si(u)}(k)},u.push(l);const v=new _a("size");return v.xform=function f(D,k){return void 0!==k?Number(k):k},u.push(v),u.push(new _a("timeCreated")),u.push(new _a("updated")),u.push(new _a("md5Hash",null,!0)),u.push(new _a("cacheControl",null,!0)),u.push(new _a("contentDisposition",null,!0)),u.push(new _a("contentEncoding",null,!0)),u.push(new _a("contentLanguage",null,!0)),u.push(new _a("contentType",null,!0)),u.push(new _a("metadata","customMetadata",!0)),Yd=u,Yd}function bc(u,o,l){const f=qf(o);return null===f?null:function Xd(u,o,l){const f={type:"file"},v=l.length;for(let D=0;D<v;D++){const k=l[D];f[k.local]=k.xform(f,o[k.server])}return function pm(u,o){Object.defineProperty(u,"ref",{get:function l(){const D=new Ls(u.bucket,u.fullPath);return o._makeStorageReference(D)}})}(f,u),f}(u,f,l)}function Qd(u,o){const l={},f=o.length;for(let v=0;v<f;v++){const D=o[v];D.writable&&(l[D.server]=u[D.local])}return JSON.stringify(l)}const gm="prefixes";class Nl{constructor(o,l,f,v){this.url=o,this.method=l,this.handler=f,this.timeout=v,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Fl(u){if(!u)throw Hd()}function Cc(u,o){return function l(f,v){const D=bc(u,v,o);return Fl(null!==D),D}}function rd(u){return function o(l,f){let v;return v=401===l.getStatus()?l.getErrorText().includes("Firebase App Check token is invalid")?function Uf(){return new Fs("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function ed(){return new Fs("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===l.getStatus()?function sm(u){return new Fs("quota-exceeded","Quota for bucket '"+u+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(u.bucket):403===l.getStatus()?function Gd(u){return new Fs("unauthorized","User does not have permission to access '"+u+"'.")}(u.path):f,v.status=l.getStatus(),v.serverResponse=f.serverResponse,v}}function id(u){const o=rd(u);return function l(f,v){let D=o(f,v);return 404===f.getStatus()&&(D=function yy(u){return new Fs("object-not-found","Object '"+u+"' does not exist.")}(u.path)),D.serverResponse=v.serverResponse,D}}function Jd(u,o,l){const v=Su(o.fullServerUrl(),u.host,u._protocol),k=u.maxOperationRetryTime,te=new Nl(v,"GET",Cc(u,l),k);return te.errorHandler=id(o),te}function Wh(u,o,l,f,v){const D={};D.prefix=o.isRoot?"":o.path+"/",l&&l.length>0&&(D.delimiter=l),f&&(D.pageToken=f),v&&(D.maxResults=v);const te=Su(o.bucketOnlyServerUrl(),u.host,u._protocol),Ae=u.maxOperationRetryTime,Dt=new Nl(te,"GET",function mm(u,o){return function l(f,v){const D=function nd(u,o,l){const f=qf(l);return null===f?null:function eg(u,o,l){const f={prefixes:[],items:[],nextPageToken:l.nextPageToken};if(l[gm])for(const v of l[gm]){const D=v.replace(/\/$/,""),k=u._makeStorageReference(new Ls(o,D));f.prefixes.push(k)}if(l.items)for(const v of l.items){const D=u._makeStorageReference(new Ls(o,v.name));f.items.push(D)}return f}(u,o,f)}(u,o,v);return Fl(null!==D),D}}(u,o.bucket),Ae);return Dt.urlParams=D,Dt.errorHandler=rd(o),Dt}function eh(u,o,l){const f=Object.assign({},l);return f.fullPath=u.path,f.size=o.size(),f.contentType||(f.contentType=function vm(u,o){return u&&u.contentType||o&&o.type()||"application/octet-stream"}(null,o)),f}class Kh{constructor(o,l,f,v){this.current=o,this.total=l,this.finalized=!!f,this.metadata=v||null}}function rg(u,o){let l=null;try{l=u.getResponseHeader("X-Goog-Upload-Status")}catch(v){Fl(!1)}return Fl(!!l&&-1!==(o||["active"]).indexOf(l)),l}const sg={STATE_CHANGED:"state_changed"},Na={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Qf(u){switch(u){case"running":case"pausing":case"canceling":return Na.RUNNING;case"paused":return Na.PAUSED;case"success":return Na.SUCCESS;case"canceled":return Na.CANCELED;default:return Na.ERROR}}class wm{constructor(o,l,f){if(function Yp(u){return"function"==typeof u}(o)||null!=l||null!=f)this.next=o,this.error=null!=l?l:void 0,this.complete=null!=f?f:void 0;else{const D=o;this.next=D.next,this.error=D.error,this.complete=D.complete}}}function Tc(u){return(...o)=>{Promise.resolve().then(()=>u(...o))}}class ag{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Pl.NO_ERROR,this.sendPromise_=new Promise(o=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Pl.ABORT,o()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Pl.NETWORK_ERROR,o()}),this.xhr_.addEventListener("load",()=>{o()})})}send(o,l,f,v){if(this.sent_)throw Kd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(l,o,!0),void 0!==v)for(const D in v)v.hasOwnProperty(D)&&this.xhr_.setRequestHeader(D,v[D].toString());return void 0!==f?this.xhr_.send(f):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Kd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Kd("cannot .getStatus() before sending");try{return this.xhr_.status}catch(o){return-1}}getResponse(){if(!this.sent_)throw Kd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Kd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(o){return this.xhr_.getResponseHeader(o)}addUploadProgressListener(o){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",o)}removeUploadProgressListener(o){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",o)}}class by extends ag{initXhr(){this.xhr_.responseType="text"}}function il(){return new by}class Ea{constructor(o,l,f=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=o,this._blob=l,this._metadata=f,this._mappings=Zd(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=v=>{if(this._request=void 0,this._chunkMultiplier=1,v._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const D=this.isExponentialBackoffExpired();if(Ic(v.status,[])){if(!D)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();v=zp()}this._error=v,this._transition("error")}},this._metadataErrorHandler=v=>{this._request=void 0,v._codeEquals("canceled")?this.completeTransitions_():(this._error=v,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((v,D)=>{this._resolve=v,this._reject=D,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const o=this._transferred;return l=>this._updateProgress(o+l)}_shouldDoResumable(o){return o.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(o){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([l,f])=>{switch(this._state){case"running":o(l,f);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((o,l)=>{const f=function Em(u,o,l,f,v){const D=o.bucketOnlyServerUrl(),k=eh(o,f,v),te={name:k.fullPath},ge=Su(D,u.host,u._protocol),Dt={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${f.size()}`,"X-Goog-Upload-Header-Content-Type":k.contentType,"Content-Type":"application/json; charset=utf-8"},Ft=Qd(k,l),_n=new Nl(ge,"POST",function Jt(Rr){let Hr;rg(Rr);try{Hr=Rr.getResponseHeader("X-Goog-Upload-URL")}catch(Ii){Fl(!1)}return Fl(Hh(Hr)),Hr},u.maxUploadRetryTime);return _n.urlParams=te,_n.headers=Dt,_n.body=Ft,_n.errorHandler=rd(o),_n}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),v=this._ref.storage._makeRequest(f,il,o,l);this._request=v,v.getPromise().then(D=>{this._request=void 0,this._uploadUrl=D,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const o=this._uploadUrl;this._resolveToken((l,f)=>{const v=function Xf(u,o,l,f){const ge=new Nl(l,"POST",function D(Ae){const Dt=rg(Ae,["active","final"]);let Ft=null;try{Ft=Ae.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Jt){Fl(!1)}Ft||Fl(!1);const Nt=Number(Ft);return Fl(!isNaN(Nt)),new Kh(Nt,f.size(),"final"===Dt)},u.maxUploadRetryTime);return ge.headers={"X-Goog-Upload-Command":"query"},ge.errorHandler=rd(o),ge}(this._ref.storage,this._ref._location,o,this._blob),D=this._ref.storage._makeRequest(v,il,l,f);this._request=D,D.getPromise().then(k=>{this._request=void 0,this._updateProgress(k.current),this._needToFetchStatus=!1,k.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const o=262144*this._chunkMultiplier,l=new Kh(this._transferred,this._blob.size()),f=this._uploadUrl;this._resolveToken((v,D)=>{let k;try{k=function ig(u,o,l,f,v,D,k,te){const ge=new Kh(0,0);if(k?(ge.current=k.current,ge.total=k.total):(ge.current=0,ge.total=f.size()),f.size()!==ge.total)throw function td(){return new Fs("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const Ae=ge.total-ge.current;let Dt=Ae;v>0&&(Dt=Math.min(Dt,v));const Ft=ge.current;let Jt="";Jt=0===Dt?"finalize":Ae===Dt?"upload, finalize":"upload";const _n={"X-Goog-Upload-Command":Jt,"X-Goog-Upload-Offset":`${ge.current}`},Rr=f.slice(Ft,Ft+Dt);if(null===Rr)throw jh();const ms=new Nl(l,"POST",function Hr(Bs,yd){const Rc=rg(Bs,["active","final"]),Ip=ge.current+Dt,vd=f.size();let ph;return ph="final"===Rc?Cc(o,D)(Bs,yd):null,new Kh(Ip,vd,"final"===Rc,ph)},o.maxUploadRetryTime);return ms.headers=_n,ms.body=Rr.uploadData(),ms.progressCallback=te||null,ms.errorHandler=rd(u),ms}(this._ref._location,this._ref.storage,f,this._blob,o,this._mappings,l,this._makeProgressCallback())}catch(ge){return this._error=ge,void this._transition("error")}const te=this._ref.storage._makeRequest(k,il,v,D,!1);this._request=te,te.getPromise().then(ge=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(ge.current),ge.finalized?(this._metadata=ge.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((o,l)=>{const f=Jd(this._ref.storage,this._ref._location,this._mappings),v=this._ref.storage._makeRequest(f,il,o,l);this._request=v,v.getPromise().then(D=>{this._request=void 0,this._metadata=D,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((o,l)=>{const f=function _m(u,o,l,f,v){const D=o.bucketOnlyServerUrl(),k={"X-Goog-Upload-Protocol":"multipart"},ge=function te(){let ms="";for(let Bs=0;Bs<2;Bs++)ms+=Math.random().toString().slice(2);return ms}();k["Content-Type"]="multipart/related; boundary="+ge;const Ae=eh(o,f,v),Dt=Qd(Ae,l),Jt=Tl.getBlob("--"+ge+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Dt+"\r\n--"+ge+"\r\nContent-Type: "+Ae.contentType+"\r\n\r\n",f,"\r\n--"+ge+"--");if(null===Jt)throw jh();const _n={name:Ae.fullPath},Rr=Su(D,u.host,u._protocol),Ii=u.maxUploadRetryTime,gs=new Nl(Rr,"POST",Cc(u,l),Ii);return gs.urlParams=_n,gs.headers=k,gs.body=Jt.uploadData(),gs.errorHandler=rd(o),gs}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),v=this._ref.storage._makeRequest(f,il,o,l);this._request=v,v.getPromise().then(D=>{this._request=void 0,this._metadata=D,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(o){const l=this._transferred;this._transferred=o,this._transferred!==l&&this._notifyObservers()}_transition(o){if(this._state!==o)switch(o){case"canceling":case"pausing":this._state=o,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const l="paused"===this._state;this._state=o,l&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=o,this._notifyObservers();break;case"canceled":this._error=jf(),this._state=o,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const o=Qf(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:o,metadata:this._metadata,task:this,ref:this._ref}}on(o,l,f,v){const D=new wm(l||void 0,f||void 0,v||void 0);return this._addObserver(D),()=>{this._removeObserver(D)}}then(o,l){return this._promise.then(o,l)}catch(o){return this.then(null,o)}_addObserver(o){this._observers.push(o),this._notifyObserver(o)}_removeObserver(o){const l=this._observers.indexOf(o);-1!==l&&this._observers.splice(l,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(l=>{this._notifyObserver(l)})}_finishPromise(){if(void 0!==this._resolve){let o=!0;switch(Qf(this._state)){case Na.SUCCESS:Tc(this._resolve.bind(null,this.snapshot))();break;case Na.CANCELED:case Na.ERROR:Tc(this._reject.bind(null,this._error))();break;default:o=!1}o&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(o){switch(Qf(this._state)){case Na.RUNNING:case Na.PAUSED:o.next&&Tc(o.next.bind(o,this.snapshot))();break;case Na.SUCCESS:o.complete&&Tc(o.complete.bind(o))();break;default:o.error&&Tc(o.error.bind(o,this._error))()}}resume(){const o="paused"===this._state||"pausing"===this._state;return o&&this._transition("running"),o}pause(){const o="running"===this._state;return o&&this._transition("pausing"),o}cancel(){const o="running"===this._state||"pausing"===this._state;return o&&this._transition("canceling"),o}}class xu{constructor(o,l){this._service=o,this._location=l instanceof Ls?l:Ls.makeFromUrl(l,o.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(o,l){return new xu(o,l)}get root(){const o=new Ls(this._location.bucket,"");return this._newRef(this._service,o)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return si(this._location.path)}get storage(){return this._service}get parent(){const o=function Ey(u){if(0===u.length)return null;const o=u.lastIndexOf("/");return-1===o?"":u.slice(0,o)}(this._location.path);if(null===o)return null;const l=new Ls(this._location.bucket,o);return new xu(this._service,l)}_throwIfRoot(o){if(""===this._location.path)throw am(o)}}function cg(u,o,l){return ep.apply(this,arguments)}function ep(){return(ep=(0,ut.Z)(function*(u,o,l){const v=yield dg(u,{pageToken:l});o.prefixes.push(...v.prefixes),o.items.push(...v.items),null!=v.nextPageToken&&(yield cg(u,o,v.nextPageToken))})).apply(this,arguments)}function dg(u,o){null!=o&&"number"==typeof o.maxResults&&Zp("options.maxResults",1,1e3,o.maxResults);const l=o||{},f=Wh(u.storage,u._location,"/",l.pageToken,l.maxResults);return u.storage.makeRequestWithTokens(f,il)}function rh(u){u._throwIfRoot("getDownloadURL");const o=function ng(u,o,l){const v=Su(o.fullServerUrl(),u.host,u._protocol),k=u.maxOperationRetryTime,te=new Nl(v,"GET",function Iy(u,o){return function l(f,v){const D=bc(u,v,o);return Fl(null!==D),function Jp(u,o,l,f){const v=qf(o);if(null===v||!Hh(v.downloadTokens))return null;const D=v.downloadTokens;if(0===D.length)return null;const k=encodeURIComponent;return D.split(",").map(Ae=>{const Ft=u.fullPath;return Su("/b/"+k(u.bucket)+"/o/"+k(Ft),l,f)+wc({alt:"media",token:Ae})})[0]}(D,v,u.host,u._protocol)}}(u,l),k);return te.errorHandler=id(o),te}(u.storage,u._location,Zd());return u.storage.makeRequestWithTokens(o,il).then(l=>{if(null===l)throw function Ol(){return new Fs("no-download-url","The given file does not have any download URLs.")}();return l})}function Zh(u,o){const l=function fm(u,o){const l=o.split("/").filter(f=>f.length>0).join("/");return 0===u.length?l:u+"/"+l}(u._location.path,o),f=new Ls(u._location.bucket,l);return new xu(u.storage,f)}function bm(u,o){if(u instanceof Cm){const l=u;if(null==l._bucket)throw function _c(){return new Fs("no-default-bucket","No default bucket found. Did you set the '"+Vh+"' property when initializing the app?")}();const f=new xu(l,l._bucket);return null!=o?bm(f,o):f}return void 0!==o?Zh(u,o):u}function Cy(u,o){if(o&&function Xh(u){return/^[A-Za-z]+:\/\//.test(u)}(o)){if(u instanceof Cm)return function hg(u,o){return new xu(u,o)}(u,o);throw Wd("To use ref(service, url), the first argument must be a Storage instance.")}return bm(u,o)}function fg(u,o){const l=null==o?void 0:o[Vh];return null==l?null:Ls.makeFromBucketSpec(l,u)}class Cm{constructor(o,l,f,v,D){this.app=o,this._authProvider=l,this._appCheckProvider=f,this._url=v,this._firebaseVersion=D,this._bucket=null,this._host=qu,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=v?Ls.makeFromBucketSpec(v,this._host):fg(this._host,this.app.options)}get host(){return this._host}set host(o){this._host=o,this._bucket=null!=this._url?Ls.makeFromBucketSpec(this._url,o):fg(o,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(o){Zp("time",0,Number.POSITIVE_INFINITY,o),this._maxUploadRetryTime=o}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(o){Zp("time",0,Number.POSITIVE_INFINITY,o),this._maxOperationRetryTime=o}_getAuthToken(){var o=this;return(0,ut.Z)(function*(){if(o._overrideAuthToken)return o._overrideAuthToken;const l=o._authProvider.getImmediate({optional:!0});if(l){const f=yield l.getToken();if(null!==f)return f.accessToken}return null})()}_getAppCheckToken(){var o=this;return(0,ut.Z)(function*(){const l=o._appCheckProvider.getImmediate({optional:!0});return l?(yield l.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(o=>o.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(o){return new xu(this,o)}_makeRequest(o,l,f,v,D=!0){if(this._deleted)return new Wp(Yu());{const k=function sa(u,o,l,f,v,D,k=!0){const te=wc(u.urlParams),ge=u.url+te,Ae=Object.assign({},u.headers);return function bv(u,o){o&&(u["X-Firebase-GMPID"]=o)}(Ae,o),function um(u,o){null!==o&&o.length>0&&(u.Authorization="Firebase "+o)}(Ae,l),function Iv(u,o){u["X-Firebase-Storage-Version"]="webjs/"+(null!=o?o:"AppManager")}(Ae,D),function zf(u,o){null!==o&&(u["X-Firebase-AppCheck"]=o)}(Ae,f),new Au(ge,u.method,Ae,u.body,u.successCodes,u.additionalRetryCodes,u.handler,u.errorHandler,u.timeout,u.progressCallback,v,k)}(o,this._appId,f,v,l,this._firebaseVersion,D);return this._requests.add(k),k.getPromise().then(()=>this._requests.delete(k),()=>this._requests.delete(k)),k}}makeRequestWithTokens(o,l){var f=this;return(0,ut.Z)(function*(){const[v,D]=yield Promise.all([f._getAuthToken(),f._getAppCheckToken()]);return f._makeRequest(o,l,v,D).getPromise()})()}}const np="@firebase/storage";function gg(u,o){return Cy(u=(0,B.m9)(u),o)}function Rm(u,{instanceIdentifier:o}){const l=u.getProvider("app").getImmediate(),f=u.getProvider("auth-internal"),v=u.getProvider("app-check-internal");return new Cm(l,f,v,o,he.SDK_VERSION)}!function tf(){(0,he._registerComponent)(new ie.wA("storage",Rm,"PUBLIC").setMultipleInstances(!0)),(0,he.registerVersion)(np,"0.10.0",""),(0,he.registerVersion)(np,"0.10.0","esm2017")}();class ud{constructor(o,l,f){this._delegate=o,this.task=l,this.ref=f}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class ih{constructor(o,l){this._delegate=o,this._ref=l,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new ud(this._delegate.snapshot,this,this._ref)}then(o,l){return this._delegate.then(f=>{if(o)return o(new ud(f,this,this._ref))},l)}on(o,l,f,v){let D;return l&&(D="function"==typeof l?k=>l(new ud(k,this,this._ref)):{next:l.next?k=>l.next(new ud(k,this,this._ref)):void 0,complete:l.complete||void 0,error:l.error||void 0}),this._delegate.on(o,D,f||void 0,v||void 0)}}class ip{constructor(o,l){this._delegate=o,this._service=l}get prefixes(){return this._delegate.prefixes.map(o=>new wa(o,this._service))}get items(){return this._delegate.items.map(o=>new wa(o,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class wa{constructor(o,l){this._delegate=o,this.storage=l}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(o){const l=function ef(u,o){return Zh(u,o)}(this._delegate,o);return new wa(l,this.storage)}get root(){return new wa(this._delegate.root,this.storage)}get parent(){const o=this._delegate.parent;return null==o?null:new wa(o,this.storage)}put(o,l){return this._throwIfRoot("put"),new ih(function Sm(u,o,l){return function su(u,o,l){return u._throwIfRoot("uploadBytesResumable"),new Ea(u,new Tl(o),l)}(u=(0,B.m9)(u),o,l)}(this._delegate,o,l),this)}putString(o,l=ka.RAW,f){this._throwIfRoot("putString");const v=qd(l,o),D=Object.assign({},f);return null==D.contentType&&null!=v.contentType&&(D.contentType=v.contentType),new ih(new Ea(this._delegate,new Tl(v.data,!0),D),this)}listAll(){return function Mm(u){return function ug(u){const o={prefixes:[],items:[]};return cg(u,o).then(()=>o)}(u=(0,B.m9)(u))}(this._delegate).then(o=>new ip(o,this.storage))}list(o){return function xm(u,o){return dg(u=(0,B.m9)(u),o)}(this._delegate,o||void 0).then(l=>new ip(l,this.storage))}getMetadata(){return function Sy(u){return function tp(u){u._throwIfRoot("getMetadata");const o=Jd(u.storage,u._location,Zd());return u.storage.makeRequestWithTokens(o,il)}(u=(0,B.m9)(u))}(this._delegate)}updateMetadata(o){return function Am(u,o){return function nh(u,o){u._throwIfRoot("updateMetadata");const l=function Dc(u,o,l,f){const D=Su(o.fullServerUrl(),u.host,u._protocol),te=Qd(l,f),Ae=u.maxOperationRetryTime,Dt=new Nl(D,"PATCH",Cc(u,f),Ae);return Dt.headers={"Content-Type":"application/json; charset=utf-8"},Dt.body=te,Dt.errorHandler=id(o),Dt}(u.storage,u._location,o,Zd());return u.storage.makeRequestWithTokens(l,il)}(u=(0,B.m9)(u),o)}(this._delegate,o)}getDownloadURL(){return function Jh(u){return rh(u=(0,B.m9)(u))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function ad(u){return function Yh(u){u._throwIfRoot("deleteObject");const o=function ym(u,o){const f=Su(o.fullServerUrl(),u.host,u._protocol),te=new Nl(f,"DELETE",function k(ge,Ae){},u.maxOperationRetryTime);return te.successCodes=[200,204],te.errorHandler=id(o),te}(u.storage,u._location);return u.storage.makeRequestWithTokens(o,il)}(u=(0,B.m9)(u))}(this._delegate)}_throwIfRoot(o){if(""===this._delegate._location.path)throw am(o)}}class mg{constructor(o,l){this.app=o,this._delegate=l}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(o){if(sp(o))throw Wd("ref() expected a child path but got a URL, use refFromURL instead.");return new wa(gg(this._delegate,o),this)}refFromURL(o){if(!sp(o))throw Wd("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ls.makeFromUrl(o,this._delegate.host)}catch(l){throw Wd("refFromUrl() expected a valid full URL but got an invalid one.")}return new wa(gg(this._delegate,o),this)}setMaxUploadRetryTime(o){this._delegate.maxUploadRetryTime=o}setMaxOperationRetryTime(o){this._delegate.maxOperationRetryTime=o}useEmulator(o,l,f={}){!function Mu(u,o,l,f={}){!function pg(u,o,l,f={}){u.host=`${o}:${l}`,u._protocol="http";const{mockUserToken:v}=f;v&&(u._overrideAuthToken="string"==typeof v?v:(0,B.Sg)(v,u.app.options.projectId))}(u,o,l,f)}(this._delegate,o,l,f)}}function sp(u){return/^[A-Za-z]+:\/\//.test(u)}function Ay(u,{instanceIdentifier:o}){const l=u.getProvider("app-compat").getImmediate(),f=u.getProvider("storage").getImmediate({identifier:o});return new mg(l,f)}function rf(u){const o=function cd(u){return new we.y(o=>{const l=k=>o.next(k);l(u.snapshot);const D=u.on("state_changed",l);return u.then(k=>{l(k),o.complete()},k=>{l(u.snapshot),(k=>{o.error(k)})(k)}),function(){D()}}).pipe(function jd(u,o=He.z){return(0,vt.e)((l,f)=>{let v=null,D=null,k=null;const te=()=>{if(v){v.unsubscribe(),v=null;const Ae=D;D=null,f.next(Ae)}};function ge(){const Ae=k+u,Dt=o.now();if(Dt<Ae)return v=this.schedule(void 0,Ae-Dt),void f.add(v);te()}l.subscribe((0,lt.x)(f,Ae=>{D=Ae,k=o.now(),v||(v=o.schedule(ge,u),f.add(v))},()=>{te(),f.complete()},void 0,()=>{D=v=null}))})}(0))}(u);return{task:u,then:u.then.bind(u),catch:u.catch.bind(u),pause:u.pause.bind(u),cancel:u.cancel.bind(u),resume:u.resume.bind(u),snapshotChanges:()=>o,percentageChanges:()=>o.pipe((0,xe.U)(l=>l.bytesTransferred/l.totalBytes*100))}}function Zu(u){return{getDownloadURL:()=>(0,Se.of)(void 0).pipe(Ke.fc,(0,Te.w)(()=>u.getDownloadURL()),Ke.iC),getMetadata:()=>(0,Se.of)(void 0).pipe(Ke.fc,(0,Te.w)(()=>u.getMetadata()),Ke.iC),delete:()=>(0,vc.D)(u.delete()),child:o=>Zu(u.child(o)),updateMetadata:o=>(0,vc.D)(u.updateMetadata(o)),put:(o,l)=>rf(u.put(o,l)),putString:(o,l,f)=>rf(u.putString(o,l,f)),list:o=>(0,vc.D)(u.list(o)),listAll:()=>(0,vc.D)(u.listAll())}}!function nf(u){const o={TaskState:Na,TaskEvent:sg,StringFormat:ka,Storage:mg,Reference:wa};u.INTERNAL.registerComponent(new ie.wA("storage-compat",Ay,"PUBLIC").setServiceProps(o).setMultipleInstances(!0)),u.registerVersion("@firebase/storage-compat","0.2.0")}(rt.Z);const vg=new ne.OlP("angularfire2.storageBucket"),op=new ne.OlP("angularfire2.storage.maxUploadRetryTime"),km=new ne.OlP("angularfire2.storage.maxOperationRetryTime"),_g=new ne.OlP("angularfire2.storage.use-emulator");let sf=(()=>{class u{constructor(l,f,v,D,k,te,ge,Ae,Dt,Ft){const Nt=(0,Le.on)(l,k,f);this.storage=(0,Le.cc)(`${Nt.name}.storage.${v}`,"AngularFireStorage",Nt.name,()=>{const Jt=k.runOutsideAngular(()=>Nt.storage(v||void 0)),_n=Dt;return _n&&Jt.useEmulator(..._n),ge&&Jt.setMaxUploadRetryTime(ge),Ae&&Jt.setMaxOperationRetryTime(Ae),Jt},[ge,Ae])}ref(l){return Zu(this.storage.ref(l))}refFromURL(l){return Zu(this.storage.refFromURL(l))}upload(l,f,v){return Zu(this.storage.ref(l)).put(f,v)}}return u.\u0275fac=function(l){return new(l||u)(ne.LFG(Le.Dh),ne.LFG(Le.xv,8),ne.LFG(vg,8),ne.LFG(ne.Lbi),ne.LFG(ne.R0b),ne.LFG(Ke.HU),ne.LFG(op,8),ne.LFG(km,8),ne.LFG(_g,8),ne.LFG(Nf.nm,8))},u.\u0275prov=ne.Yz7({token:u,factory:u.\u0275fac,providedIn:"any"}),u})(),lp=(()=>{class u{}return u.\u0275fac=function(l){return new(l||u)},u.\u0275mod=ne.oAB({type:u}),u.\u0275inj=ne.cJS({}),u})(),Eg=(()=>{class u{constructor(){Ff.Z.registerVersion("angularfire",Ke.q4.full,"gcs-compat")}}return u.\u0275fac=function(l){return new(l||u)},u.\u0275mod=ne.oAB({type:u}),u.\u0275inj=ne.cJS({providers:[sf],imports:[lp]}),u})();const wg=[{path:"login",loadChildren:()=>Promise.all([$.e(8592),$.e(4987)]).then($.bind($,4987)).then(u=>u.LoginPageModule)},{path:"",redirectTo:"login",pathMatch:"full"},{path:"",loadChildren:()=>$.e(174).then($.bind($,5652)).then(u=>u.TabsPageModule)},{path:"new-huesped",loadChildren:()=>Promise.all([$.e(8592),$.e(5498)]).then($.bind($,5498)).then(u=>u.NewHuespedPageModule)},{path:"view-huesped",loadChildren:()=>Promise.all([$.e(8592),$.e(8114)]).then($.bind($,8114)).then(u=>u.ViewHuespedPageModule)},{path:"info-huesped",loadChildren:()=>Promise.all([$.e(8592),$.e(9228)]).then($.bind($,9228)).then(u=>u.InfoHuespedPageModule)},{path:"guest",loadChildren:()=>Promise.all([$.e(9485),$.e(7801)]).then($.bind($,7801)).then(u=>u.GuestPageModule)},{path:"lion",loadChildren:()=>Promise.all([$.e(9485),$.e(4957)]).then($.bind($,4957)).then(u=>u.LionPageModule)}];let xy=(()=>{class u{}return u.\u0275fac=function(l){return new(l||u)},u.\u0275mod=ne.oAB({type:u}),u.\u0275inj=ne.cJS({imports:[W.Bz.forRoot(wg,{preloadingStrategy:W.wm}),W.Bz]}),u})();var dd=$(6188);let Nm=(()=>{class u{constructor(l){this.translate=l,l.addLangs(["Espa\xf1ol","Frances","Ingles"]),l.setDefaultLang("Espa\xf1ol"),l.use("Espa\xf1ol")}}return u.\u0275fac=function(l){return new(l||u)(ne.Y36(dd.sK))},u.\u0275cmp=ne.Xpm({type:u,selectors:[["app-root"]],decls:2,vars:0,template:function(l,f){1&l&&(ne.TgZ(0,"ion-app"),ne._UZ(1,"ion-router-outlet"),ne.qZA())},dependencies:[Ue.dr,Ue.jP]}),u})();var Ac=$(6895),Ig=$(4351),My=$(9300);class sh{}class Fa{}class $l{constructor(o){this.normalizedNames=new Map,this.lazyUpdate=null,o?this.lazyInit="string"==typeof o?()=>{this.headers=new Map,o.split("\n").forEach(l=>{const f=l.indexOf(":");if(f>0){const v=l.slice(0,f),D=v.toLowerCase(),k=l.slice(f+1).trim();this.maybeSetNormalizedName(v,D),this.headers.has(D)?this.headers.get(D).push(k):this.headers.set(D,[k])}})}:()=>{this.headers=new Map,Object.keys(o).forEach(l=>{let f=o[l];const v=l.toLowerCase();"string"==typeof f&&(f=[f]),f.length>0&&(this.headers.set(v,f),this.maybeSetNormalizedName(l,v))})}:this.headers=new Map}has(o){return this.init(),this.headers.has(o.toLowerCase())}get(o){this.init();const l=this.headers.get(o.toLowerCase());return l&&l.length>0?l[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(o){return this.init(),this.headers.get(o.toLowerCase())||null}append(o,l){return this.clone({name:o,value:l,op:"a"})}set(o,l){return this.clone({name:o,value:l,op:"s"})}delete(o,l){return this.clone({name:o,value:l,op:"d"})}maybeSetNormalizedName(o,l){this.normalizedNames.has(l)||this.normalizedNames.set(l,o)}init(){this.lazyInit&&(this.lazyInit instanceof $l?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(o=>this.applyUpdate(o)),this.lazyUpdate=null))}copyFrom(o){o.init(),Array.from(o.headers.keys()).forEach(l=>{this.headers.set(l,o.headers.get(l)),this.normalizedNames.set(l,o.normalizedNames.get(l))})}clone(o){const l=new $l;return l.lazyInit=this.lazyInit&&this.lazyInit instanceof $l?this.lazyInit:this,l.lazyUpdate=(this.lazyUpdate||[]).concat([o]),l}applyUpdate(o){const l=o.name.toLowerCase();switch(o.op){case"a":case"s":let f=o.value;if("string"==typeof f&&(f=[f]),0===f.length)return;this.maybeSetNormalizedName(o.name,l);const v=("a"===o.op?this.headers.get(l):void 0)||[];v.push(...f),this.headers.set(l,v);break;case"d":const D=o.value;if(D){let k=this.headers.get(l);if(!k)return;k=k.filter(te=>-1===D.indexOf(te)),0===k.length?(this.headers.delete(l),this.normalizedNames.delete(l)):this.headers.set(l,k)}else this.headers.delete(l),this.normalizedNames.delete(l)}}forEach(o){this.init(),Array.from(this.normalizedNames.keys()).forEach(l=>o(this.normalizedNames.get(l),this.headers.get(l)))}}class Fm{encodeKey(o){return cp(o)}encodeValue(o){return cp(o)}decodeKey(o){return decodeURIComponent(o)}decodeValue(o){return decodeURIComponent(o)}}const up=/%(\d[a-f0-9])/gi,Cg={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function cp(u){return encodeURIComponent(u).replace(up,(o,l)=>{var f;return null!==(f=Cg[l])&&void 0!==f?f:o})}function Xu(u){return`${u}`}class Ru{constructor(o={}){if(this.updates=null,this.cloneFrom=null,this.encoder=o.encoder||new Fm,o.fromString){if(o.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function bg(u,o){const l=new Map;return u.length>0&&u.replace(/^\?/,"").split("&").forEach(v=>{const D=v.indexOf("="),[k,te]=-1==D?[o.decodeKey(v),""]:[o.decodeKey(v.slice(0,D)),o.decodeValue(v.slice(D+1))],ge=l.get(k)||[];ge.push(te),l.set(k,ge)}),l}(o.fromString,this.encoder)}else o.fromObject?(this.map=new Map,Object.keys(o.fromObject).forEach(l=>{const f=o.fromObject[l],v=Array.isArray(f)?f.map(Xu):[Xu(f)];this.map.set(l,v)})):this.map=null}has(o){return this.init(),this.map.has(o)}get(o){this.init();const l=this.map.get(o);return l?l[0]:null}getAll(o){return this.init(),this.map.get(o)||null}keys(){return this.init(),Array.from(this.map.keys())}append(o,l){return this.clone({param:o,value:l,op:"a"})}appendAll(o){const l=[];return Object.keys(o).forEach(f=>{const v=o[f];Array.isArray(v)?v.forEach(D=>{l.push({param:f,value:D,op:"a"})}):l.push({param:f,value:v,op:"a"})}),this.clone(l)}set(o,l){return this.clone({param:o,value:l,op:"s"})}delete(o,l){return this.clone({param:o,value:l,op:"d"})}toString(){return this.init(),this.keys().map(o=>{const l=this.encoder.encodeKey(o);return this.map.get(o).map(f=>l+"="+this.encoder.encodeValue(f)).join("&")}).filter(o=>""!==o).join("&")}clone(o){const l=new Ru({encoder:this.encoder});return l.cloneFrom=this.cloneFrom||this,l.updates=(this.updates||[]).concat(o),l}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(o=>this.map.set(o,this.cloneFrom.map.get(o))),this.updates.forEach(o=>{switch(o.op){case"a":case"s":const l=("a"===o.op?this.map.get(o.param):void 0)||[];l.push(Xu(o.value)),this.map.set(o.param,l);break;case"d":if(void 0===o.value){this.map.delete(o.param);break}{let f=this.map.get(o.param)||[];const v=f.indexOf(Xu(o.value));-1!==v&&f.splice(v,1),f.length>0?this.map.set(o.param,f):this.map.delete(o.param)}}}),this.cloneFrom=this.updates=null)}}class Ry{constructor(){this.map=new Map}set(o,l){return this.map.set(o,l),this}get(o){return this.map.has(o)||this.map.set(o,o.defaultValue()),this.map.get(o)}delete(o){return this.map.delete(o),this}has(o){return this.map.has(o)}keys(){return this.map.keys()}}function Ou(u){return typeof ArrayBuffer<"u"&&u instanceof ArrayBuffer}function dp(u){return typeof Blob<"u"&&u instanceof Blob}function $m(u){return typeof FormData<"u"&&u instanceof FormData}class lf{constructor(o,l,f,v){let D;if(this.url=l,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=o.toUpperCase(),function af(u){switch(u){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||v?(this.body=void 0!==f?f:null,D=v):D=f,D&&(this.reportProgress=!!D.reportProgress,this.withCredentials=!!D.withCredentials,D.responseType&&(this.responseType=D.responseType),D.headers&&(this.headers=D.headers),D.context&&(this.context=D.context),D.params&&(this.params=D.params)),this.headers||(this.headers=new $l),this.context||(this.context=new Ry),this.params){const k=this.params.toString();if(0===k.length)this.urlWithParams=l;else{const te=l.indexOf("?");this.urlWithParams=l+(-1===te?"?":te<l.length-1?"&":"")+k}}else this.params=new Ru,this.urlWithParams=l}serializeBody(){return null===this.body?null:Ou(this.body)||dp(this.body)||$m(this.body)||function Dg(u){return typeof URLSearchParams<"u"&&u instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ru?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||$m(this.body)?null:dp(this.body)?this.body.type||null:Ou(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ru?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(o={}){var l;const f=o.method||this.method,v=o.url||this.url,D=o.responseType||this.responseType,k=void 0!==o.body?o.body:this.body,te=void 0!==o.withCredentials?o.withCredentials:this.withCredentials,ge=void 0!==o.reportProgress?o.reportProgress:this.reportProgress;let Ae=o.headers||this.headers,Dt=o.params||this.params;const Ft=null!==(l=o.context)&&void 0!==l?l:this.context;return void 0!==o.setHeaders&&(Ae=Object.keys(o.setHeaders).reduce((Nt,Jt)=>Nt.set(Jt,o.setHeaders[Jt]),Ae)),o.setParams&&(Dt=Object.keys(o.setParams).reduce((Nt,Jt)=>Nt.set(Jt,o.setParams[Jt]),Dt)),new lf(f,v,k,{params:Dt,headers:Ae,context:Ft,reportProgress:ge,responseType:D,withCredentials:te})}}var us=(()=>((us=us||{})[us.Sent=0]="Sent",us[us.UploadProgress=1]="UploadProgress",us[us.ResponseHeader=2]="ResponseHeader",us[us.DownloadProgress=3]="DownloadProgress",us[us.Response=4]="Response",us[us.User=5]="User",us))();class hd{constructor(o,l=200,f="OK"){this.headers=o.headers||new $l,this.status=void 0!==o.status?o.status:l,this.statusText=o.statusText||f,this.url=o.url||null,this.ok=this.status>=200&&this.status<300}}class Tg extends hd{constructor(o={}){super(o),this.type=us.ResponseHeader}clone(o={}){return new Tg({headers:o.headers||this.headers,status:void 0!==o.status?o.status:this.status,statusText:o.statusText||this.statusText,url:o.url||this.url||void 0})}}class oh extends hd{constructor(o={}){super(o),this.type=us.Response,this.body=void 0!==o.body?o.body:null}clone(o={}){return new oh({body:void 0!==o.body?o.body:this.body,headers:o.headers||this.headers,status:void 0!==o.status?o.status:this.status,statusText:o.statusText||this.statusText,url:o.url||this.url||void 0})}}class Oy extends hd{constructor(o){super(o,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${o.url||"(unknown url)"}`:`Http failure response for ${o.url||"(unknown url)"}: ${o.status} ${o.statusText}`,this.error=o.error||null}}function ah(u,o){return{body:o,headers:u.headers,context:u.context,observe:u.observe,params:u.params,reportProgress:u.reportProgress,responseType:u.responseType,withCredentials:u.withCredentials}}let Bm=(()=>{class u{constructor(l){this.handler=l}request(l,f,v={}){let D;if(l instanceof lf)D=l;else{let ge,Ae;ge=v.headers instanceof $l?v.headers:new $l(v.headers),v.params&&(Ae=v.params instanceof Ru?v.params:new Ru({fromObject:v.params})),D=new lf(l,f,void 0!==v.body?v.body:null,{headers:ge,context:v.context,params:Ae,reportProgress:v.reportProgress,responseType:v.responseType||"json",withCredentials:v.withCredentials})}const k=(0,Se.of)(D).pipe((0,Ig.b)(ge=>this.handler.handle(ge)));if(l instanceof lf||"events"===v.observe)return k;const te=k.pipe((0,My.h)(ge=>ge instanceof oh));switch(v.observe||"body"){case"body":switch(D.responseType){case"arraybuffer":return te.pipe((0,xe.U)(ge=>{if(null!==ge.body&&!(ge.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ge.body}));case"blob":return te.pipe((0,xe.U)(ge=>{if(null!==ge.body&&!(ge.body instanceof Blob))throw new Error("Response is not a Blob.");return ge.body}));case"text":return te.pipe((0,xe.U)(ge=>{if(null!==ge.body&&"string"!=typeof ge.body)throw new Error("Response is not a string.");return ge.body}));default:return te.pipe((0,xe.U)(ge=>ge.body))}case"response":return te;default:throw new Error(`Unreachable: unhandled observe type ${v.observe}}`)}}delete(l,f={}){return this.request("DELETE",l,f)}get(l,f={}){return this.request("GET",l,f)}head(l,f={}){return this.request("HEAD",l,f)}jsonp(l,f){return this.request("JSONP",l,{params:(new Ru).append(f,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(l,f={}){return this.request("OPTIONS",l,f)}patch(l,f,v={}){return this.request("PATCH",l,ah(v,f))}post(l,f,v={}){return this.request("POST",l,ah(v,f))}put(l,f,v={}){return this.request("PUT",l,ah(v,f))}}return u.\u0275fac=function(l){return new(l||u)(ne.LFG(sh))},u.\u0275prov=ne.Yz7({token:u,factory:u.\u0275fac}),u})();function hp(u,o){return o(u)}function Vm(u,o){return(l,f)=>o.intercept(l,{handle:v=>u(v,f)})}const Um=new ne.OlP("HTTP_INTERCEPTORS"),cf=new ne.OlP("HTTP_INTERCEPTOR_FNS");function fp(){let u=null;return(o,l)=>{var f;return null===u&&(u=(null!==(f=(0,ne.f3M)(Um,{optional:!0}))&&void 0!==f?f:[]).reduceRight(Vm,hp)),u(o,l)}}let lh=(()=>{class u extends sh{constructor(l,f){super(),this.backend=l,this.injector=f,this.chain=null}handle(l){if(null===this.chain){const f=Array.from(new Set(this.injector.get(cf)));this.chain=f.reduceRight((v,D)=>function uf(u,o,l){return(f,v)=>l.runInContext(()=>o(f,D=>u(D,v)))}(v,D,this.injector),hp)}return this.chain(l,f=>this.backend.handle(f))}}return u.\u0275fac=function(l){return new(l||u)(ne.LFG(Fa),ne.LFG(ne.lqb))},u.\u0275prov=ne.Yz7({token:u,factory:u.\u0275fac}),u})();const df=/^\)\]\}',?\n/;let hf=(()=>{class u{constructor(l){this.xhrFactory=l}handle(l){if("JSONP"===l.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new we.y(f=>{const v=this.xhrFactory.build();if(v.open(l.method,l.urlWithParams),l.withCredentials&&(v.withCredentials=!0),l.headers.forEach((Jt,_n)=>v.setRequestHeader(Jt,_n.join(","))),l.headers.has("Accept")||v.setRequestHeader("Accept","application/json, text/plain, */*"),!l.headers.has("Content-Type")){const Jt=l.detectContentTypeHeader();null!==Jt&&v.setRequestHeader("Content-Type",Jt)}if(l.responseType){const Jt=l.responseType.toLowerCase();v.responseType="json"!==Jt?Jt:"text"}const D=l.serializeBody();let k=null;const te=()=>{if(null!==k)return k;const Jt=v.statusText||"OK",_n=new $l(v.getAllResponseHeaders()),Rr=function ch(u){return"responseURL"in u&&u.responseURL?u.responseURL:/^X-Request-URL:/m.test(u.getAllResponseHeaders())?u.getResponseHeader("X-Request-URL"):null}(v)||l.url;return k=new Tg({headers:_n,status:v.status,statusText:Jt,url:Rr}),k},ge=()=>{let{headers:Jt,status:_n,statusText:Rr,url:Hr}=te(),Ii=null;204!==_n&&(Ii=typeof v.response>"u"?v.responseText:v.response),0===_n&&(_n=Ii?200:0);let gs=_n>=200&&_n<300;if("json"===l.responseType&&"string"==typeof Ii){const ms=Ii;Ii=Ii.replace(df,"");try{Ii=""!==Ii?JSON.parse(Ii):null}catch(Bs){Ii=ms,gs&&(gs=!1,Ii={error:Bs,text:Ii})}}gs?(f.next(new oh({body:Ii,headers:Jt,status:_n,statusText:Rr,url:Hr||void 0})),f.complete()):f.error(new Oy({error:Ii,headers:Jt,status:_n,statusText:Rr,url:Hr||void 0}))},Ae=Jt=>{const{url:_n}=te(),Rr=new Oy({error:Jt,status:v.status||0,statusText:v.statusText||"Unknown Error",url:_n||void 0});f.error(Rr)};let Dt=!1;const Ft=Jt=>{Dt||(f.next(te()),Dt=!0);let _n={type:us.DownloadProgress,loaded:Jt.loaded};Jt.lengthComputable&&(_n.total=Jt.total),"text"===l.responseType&&!!v.responseText&&(_n.partialText=v.responseText),f.next(_n)},Nt=Jt=>{let _n={type:us.UploadProgress,loaded:Jt.loaded};Jt.lengthComputable&&(_n.total=Jt.total),f.next(_n)};return v.addEventListener("load",ge),v.addEventListener("error",Ae),v.addEventListener("timeout",Ae),v.addEventListener("abort",Ae),l.reportProgress&&(v.addEventListener("progress",Ft),null!==D&&v.upload&&v.upload.addEventListener("progress",Nt)),v.send(D),f.next({type:us.Sent}),()=>{v.removeEventListener("error",Ae),v.removeEventListener("abort",Ae),v.removeEventListener("load",ge),v.removeEventListener("timeout",Ae),l.reportProgress&&(v.removeEventListener("progress",Ft),null!==D&&v.upload&&v.upload.removeEventListener("progress",Nt)),v.readyState!==v.DONE&&v.abort()}})}}return u.\u0275fac=function(l){return new(l||u)(ne.LFG(Ac.JF))},u.\u0275prov=ne.Yz7({token:u,factory:u.\u0275fac}),u})();const wi=new ne.OlP("XSRF_ENABLED"),mp="XSRF-TOKEN",xg=new ne.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>mp}),Mg="X-XSRF-TOKEN",Pu=new ne.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>Mg});class Rg{}let $s=(()=>{class u{constructor(l,f,v){this.doc=l,this.platform=f,this.cookieName=v,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const l=this.doc.cookie||"";return l!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,Ac.Mx)(l,this.cookieName),this.lastCookieString=l),this.lastToken}}return u.\u0275fac=function(l){return new(l||u)(ne.LFG(Ac.K0),ne.LFG(ne.Lbi),ne.LFG(xg))},u.\u0275prov=ne.Yz7({token:u,factory:u.\u0275fac}),u})();function oa(u,o){const l=u.url.toLowerCase();if(!(0,ne.f3M)(wi)||"GET"===u.method||"HEAD"===u.method||l.startsWith("http://")||l.startsWith("https://"))return o(u);const f=(0,ne.f3M)(Rg).getToken(),v=(0,ne.f3M)(Pu);return null!=f&&!u.headers.has(v)&&(u=u.clone({headers:u.headers.set(v,f)})),o(u)}var so=(()=>((so=so||{})[so.Interceptors=0]="Interceptors",so[so.LegacyInterceptors=1]="LegacyInterceptors",so[so.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",so[so.NoXsrfProtection=3]="NoXsrfProtection",so[so.JsonpSupport=4]="JsonpSupport",so[so.RequestsMadeViaParent=5]="RequestsMadeViaParent",so))();function dh(u,o){return{\u0275kind:u,\u0275providers:o}}function yp(...u){const o=[Bm,hf,lh,{provide:sh,useExisting:lh},{provide:Fa,useExisting:hf},{provide:cf,useValue:oa,multi:!0},{provide:wi,useValue:!0},{provide:Rg,useClass:$s}];for(const l of u)o.push(...l.\u0275providers);return(0,ne.MR2)(o)}const vp=new ne.OlP("LEGACY_INTERCEPTOR_FN");function _p({cookieName:u,headerName:o}){const l=[];return void 0!==u&&l.push({provide:xg,useValue:u}),void 0!==o&&l.push({provide:Pu,useValue:o}),dh(so.CustomXsrfConfiguration,l)}let By=(()=>{class u{}return u.\u0275fac=function(l){return new(l||u)},u.\u0275mod=ne.oAB({type:u}),u.\u0275inj=ne.cJS({providers:[yp(dh(so.LegacyInterceptors,[{provide:vp,useFactory:fp},{provide:cf,useExisting:vp,multi:!0}]),_p({cookieName:mp,headerName:Mg}))]}),u})();class Wm{constructor(o,l="/assets/i18n/",f=".json"){this.http=o,this.prefix=l,this.suffix=f}getTranslation(o){return this.http.get(`${this.prefix}${o}${this.suffix}`)}}function au(u,o,l,f){return new(l||(l=Promise))(function(D,k){function te(Dt){try{Ae(f.next(Dt))}catch(Ft){k(Ft)}}function ge(Dt){try{Ae(f.throw(Dt))}catch(Ft){k(Ft)}}function Ae(Dt){Dt.done?D(Dt.value):function v(D){return D instanceof l?D:new l(function(k){k(D)})}(Dt.value).then(te,ge)}Ae((f=f.apply(u,o||[])).next())})}var gd,ku=$(849);const md=new ne.OlP("STORAGE_CONFIG_TOKEN");class ts extends ku.K{constructor(){super()}create(){return au(this,void 0,void 0,function*(){return this})}defineDriver(){return au(this,void 0,void 0,function*(){})}get driver(){return"noop"}get(o){return au(this,void 0,void 0,function*(){return null})}set(o,l){return au(this,void 0,void 0,function*(){})}remove(o){return au(this,void 0,void 0,function*(){})}clear(){return au(this,void 0,void 0,function*(){})}length(){return au(this,void 0,void 0,function*(){return 0})}keys(){return au(this,void 0,void 0,function*(){return[]})}forEach(o){return au(this,void 0,void 0,function*(){})}setEncryptionKey(o){}}function mf(u){return(0,Ac.PM)(this.platformId)?new ts:new ku.K(u)}let Nu=gd=class{static forRoot(o=null){return{ngModule:gd,providers:[{provide:md,useValue:o},{provide:ku.K,useFactory:mf,deps:[md]}]}}};Nu.\u0275fac=function(o){return new(o||Nu)},Nu.\u0275mod=ne.oAB({type:Nu}),Nu.\u0275inj=ne.cJS({});var Ds=$(6351);const Ui=void 0,Xm=["es",[["a.\xa0m.","p.\xa0m."],Ui,Ui],Ui,[["D","L","M","X","J","V","S"],["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],Ui,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene","feb","mar","abr","may","jun","jul","ago","sept","oct","nov","dic"],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],Ui,[["a. C.","d. C."],Ui,["antes de Cristo","despu\xe9s de Cristo"]],1,[6,0],["d/M/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss (zzzz)"],["{1}, {0}",Ui,Ui,Ui],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{AUD:[Ui,"$"],BRL:[Ui,"R$"],BYN:[Ui,"\u0440."],CAD:[Ui,"$"],CNY:[Ui,"\xa5"],EGP:[],ESP:["\u20a7"],GBP:[Ui,"\xa3"],HKD:[Ui,"$"],ILS:[Ui,"\u20aa"],INR:[Ui,"\u20b9"],JPY:[Ui,"\xa5"],KRW:[Ui,"\u20a9"],MXN:[Ui,"$"],NZD:[Ui,"$"],PHP:[Ui,"\u20b1"],RON:[Ui,"L"],THB:["\u0e3f"],TWD:[Ui,"NT$"],USD:["US$","$"],XAF:[],XCD:[Ui,"$"],XOF:[]},"ltr",function Zm(u){const o=u,l=Math.floor(Math.abs(u)),f=u.toString().replace(/^[^.]*\.?/,"").length,v=parseInt(u.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 1===o?1:0===v&&0!==l&&l%1e6==0&&0===f||!(v>=0&&v<=5)?4:5}];function Fg(u){return new Wm(u)}(0,Ac.qS)(Xm,"Espa\xf1ol");let Qm=(()=>{class u{}return u.\u0275fac=function(l){return new(l||u)},u.\u0275mod=ne.oAB({type:u,bootstrap:[Nm]}),u.\u0275inj=ne.cJS({providers:[{provide:W.wN,useClass:Ue.r4}],imports:[c.b2,Ue.Pc.forRoot(),xy,By,dd.aw.forRoot({loader:{provide:dd.Zw,useFactory:Fg,deps:[Bm]}}),Le.hO.initializeApp(Ud_firebaseConfig),Gp,my.yb,Eg,Ds.YL,Nu.forRoot(),dd.aw]}),u})();var Lg=$(6738);(0,ne.G48)(),c.q6().bootstrapModule(Qm).catch(u=>console.log(u)),window,(0,Lg.a)().then(()=>{(0,Lg.b)([["pwa-camera-modal",[[1,"pwa-camera-modal",{facingMode:[1,"facing-mode"],present:[64],dismiss:[64]}]]],["pwa-action-sheet",[[1,"pwa-action-sheet",{header:[1],cancelable:[4],options:[16],open:[32]}]]],["pwa-toast",[[1,"pwa-toast",{message:[1],duration:[2],closing:[32]}]]],["pwa-camera",[[1,"pwa-camera",{facingMode:[1,"facing-mode"],handlePhoto:[16],handleNoDeviceError:[16],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"],photo:[32],photoSrc:[32],showShutterOverlay:[32],flashIndex:[32],hasCamera:[32],rotation:[32],deviceError:[32]}]]],["pwa-camera-modal-instance",[[1,"pwa-camera-modal-instance",{facingMode:[1,"facing-mode"],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"]},[[32,"keyup","handleBackdropKeyUp"]]]]]],undefined)})},4424:gn=>{gn.exports=function ne(W,Ue,Le){function He($e,xe){if(!Ue[$e]){if(!W[$e]){if(we)return we($e,!0);var Te=new Error("Cannot find module '"+$e+"'");throw Te.code="MODULE_NOT_FOUND",Te}var ze=Ue[$e]={exports:{}};W[$e][0].call(ze.exports,function(Xe){return He(W[$e][1][Xe]||Xe)},ze,ze.exports,ne,W,Ue,Le)}return Ue[$e].exports}for(var we=void 0,Se=0;Se<Le.length;Se++)He(Le[Se]);return He}({1:[function(ne,W,Ue){(function(Le){"use strict";var we,He=Le.MutationObserver||Le.WebKitMutationObserver;if(He){var Se=0,$e=new He(Xe),xe=Le.document.createTextNode("");$e.observe(xe,{characterData:!0}),we=function(){xe.data=Se=++Se%2}}else if(!Le.setImmediate&&typeof Le.MessageChannel<"u"){var de=new Le.MessageChannel;de.port1.onmessage=Xe,we=function(){de.port2.postMessage(0)}}else we="document"in Le&&"onreadystatechange"in Le.document.createElement("script")?function(){var lt=Le.document.createElement("script");lt.onreadystatechange=function(){Xe(),lt.onreadystatechange=null,lt.parentNode.removeChild(lt),lt=null},Le.document.documentElement.appendChild(lt)}:function(){setTimeout(Xe,0)};var Te,ze=[];function Xe(){Te=!0;for(var lt,at,ye=ze.length;ye;){for(at=ze,ze=[],lt=-1;++lt<ye;)at[lt]();ye=ze.length}Te=!1}W.exports=function vt(lt){1===ze.push(lt)&&!Te&&we()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(ne,W,Ue){"use strict";var Le=ne(1);function He(){}var we={},Se=["REJECTED"],$e=["FULFILLED"],xe=["PENDING"];function de(Ve){if("function"!=typeof Ve)throw new TypeError("resolver must be a function");this.state=xe,this.queue=[],this.outcome=void 0,Ve!==He&&vt(this,Ve)}function Te(Ve,tt,Ke){this.promise=Ve,"function"==typeof tt&&(this.onFulfilled=tt,this.callFulfilled=this.otherCallFulfilled),"function"==typeof Ke&&(this.onRejected=Ke,this.callRejected=this.otherCallRejected)}function ze(Ve,tt,Ke){Le(function(){var Ne;try{Ne=tt(Ke)}catch(rt){return we.reject(Ve,rt)}Ne===Ve?we.reject(Ve,new TypeError("Cannot resolve promise with itself")):we.resolve(Ve,Ne)})}function Xe(Ve){var tt=Ve&&Ve.then;if(Ve&&("object"==typeof Ve||"function"==typeof Ve)&&"function"==typeof tt)return function(){tt.apply(Ve,arguments)}}function vt(Ve,tt){var Ke=!1;function Ne(he){Ke||(Ke=!0,we.reject(Ve,he))}function rt(he){Ke||(Ke=!0,we.resolve(Ve,he))}var ut=lt(function ie(){tt(rt,Ne)});"error"===ut.status&&Ne(ut.value)}function lt(Ve,tt){var Ke={};try{Ke.value=Ve(tt),Ke.status="success"}catch(Ne){Ke.status="error",Ke.value=Ne}return Ke}W.exports=de,de.prototype.catch=function(Ve){return this.then(null,Ve)},de.prototype.then=function(Ve,tt){if("function"!=typeof Ve&&this.state===$e||"function"!=typeof tt&&this.state===Se)return this;var Ke=new this.constructor(He);return this.state!==xe?ze(Ke,this.state===$e?Ve:tt,this.outcome):this.queue.push(new Te(Ke,Ve,tt)),Ke},Te.prototype.callFulfilled=function(Ve){we.resolve(this.promise,Ve)},Te.prototype.otherCallFulfilled=function(Ve){ze(this.promise,this.onFulfilled,Ve)},Te.prototype.callRejected=function(Ve){we.reject(this.promise,Ve)},Te.prototype.otherCallRejected=function(Ve){ze(this.promise,this.onRejected,Ve)},we.resolve=function(Ve,tt){var Ke=lt(Xe,tt);if("error"===Ke.status)return we.reject(Ve,Ke.value);var Ne=Ke.value;if(Ne)vt(Ve,Ne);else{Ve.state=$e,Ve.outcome=tt;for(var rt=-1,ie=Ve.queue.length;++rt<ie;)Ve.queue[rt].callFulfilled(tt)}return Ve},we.reject=function(Ve,tt){Ve.state=Se,Ve.outcome=tt;for(var Ke=-1,Ne=Ve.queue.length;++Ke<Ne;)Ve.queue[Ke].callRejected(tt);return Ve},de.resolve=function at(Ve){return Ve instanceof this?Ve:we.resolve(new this(He),Ve)},de.reject=function ye(Ve){var tt=new this(He);return we.reject(tt,Ve)},de.all=function Ce(Ve){var tt=this;if("[object Array]"!==Object.prototype.toString.call(Ve))return this.reject(new TypeError("must be an array"));var Ke=Ve.length,Ne=!1;if(!Ke)return this.resolve([]);for(var rt=new Array(Ke),ie=0,ut=-1,he=new this(He);++ut<Ke;)B(Ve[ut],ut);return he;function B(ke,Oe){tt.resolve(ke).then(function et(Rt){rt[Oe]=Rt,++ie===Ke&&!Ne&&(Ne=!0,we.resolve(he,rt))},function(Rt){Ne||(Ne=!0,we.reject(he,Rt))})}},de.race=function wt(Ve){var tt=this;if("[object Array]"!==Object.prototype.toString.call(Ve))return this.reject(new TypeError("must be an array"));var Ke=Ve.length,Ne=!1;if(!Ke)return this.resolve([]);for(var rt=-1,ie=new this(He);++rt<Ke;)tt.resolve(Ve[rt]).then(function(B){Ne||(Ne=!0,we.resolve(ie,B))},function(B){Ne||(Ne=!0,we.reject(ie,B))});return ie}},{1:1}],3:[function(ne,W,Ue){(function(Le){"use strict";"function"!=typeof Le.Promise&&(Le.Promise=ne(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(ne,W,Ue){"use strict";var Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ie){return typeof Ie}:function(Ie){return Ie&&"function"==typeof Symbol&&Ie.constructor===Symbol&&Ie!==Symbol.prototype?"symbol":typeof Ie};var Se=function we(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch(Ie){return}}();function xe(Ie,ct){Ie=Ie||[],ct=ct||{};try{return new Blob(Ie,ct)}catch(ae){if("TypeError"!==ae.name)throw ae;for(var J=new(typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder),me=0;me<Ie.length;me+=1)J.append(Ie[me]);return J.getBlob(ct.type)}}typeof Promise>"u"&&ne(3);var de=Promise;function Te(Ie,ct){ct&&Ie.then(function(N){ct(null,N)},function(N){ct(N)})}function ze(Ie,ct,N){"function"==typeof ct&&Ie.then(ct),"function"==typeof N&&Ie.catch(N)}function Xe(Ie){return"string"!=typeof Ie&&(console.warn(Ie+" used as a key, but it is not a string."),Ie=String(Ie)),Ie}function vt(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var lt="local-forage-detect-blob-support",at=void 0,ye={},Ce=Object.prototype.toString,wt="readonly",Ve="readwrite";function tt(Ie){for(var ct=Ie.length,N=new ArrayBuffer(ct),J=new Uint8Array(N),me=0;me<ct;me++)J[me]=Ie.charCodeAt(me);return N}function Ne(Ie){return"boolean"==typeof at?de.resolve(at):function Ke(Ie){return new de(function(ct){var N=Ie.transaction(lt,Ve),J=xe([""]);N.objectStore(lt).put(J,"key"),N.onabort=function(me){me.preventDefault(),me.stopPropagation(),ct(!1)},N.oncomplete=function(){var me=navigator.userAgent.match(/Chrome\/(\d+)/),ae=navigator.userAgent.match(/Edge\//);ct(ae||!me||parseInt(me[1],10)>=43)}}).catch(function(){return!1})}(Ie).then(function(ct){return at=ct})}function rt(Ie){var ct=ye[Ie.name],N={};N.promise=new de(function(J,me){N.resolve=J,N.reject=me}),ct.deferredOperations.push(N),ct.dbReady=ct.dbReady?ct.dbReady.then(function(){return N.promise}):N.promise}function ie(Ie){var N=ye[Ie.name].deferredOperations.pop();if(N)return N.resolve(),N.promise}function ut(Ie,ct){var J=ye[Ie.name].deferredOperations.pop();if(J)return J.reject(ct),J.promise}function he(Ie,ct){return new de(function(N,J){if(ye[Ie.name]=ye[Ie.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},Ie.db){if(!ct)return N(Ie.db);rt(Ie),Ie.db.close()}var me=[Ie.name];ct&&me.push(Ie.version);var ae=Se.open.apply(Se,me);ct&&(ae.onupgradeneeded=function(Je){var ue=ae.result;try{ue.createObjectStore(Ie.storeName),Je.oldVersion<=1&&ue.createObjectStore(lt)}catch(Fe){if("ConstraintError"!==Fe.name)throw Fe;console.warn('The database "'+Ie.name+'" has been upgraded from version '+Je.oldVersion+" to version "+Je.newVersion+', but the storage "'+Ie.storeName+'" already exists.')}}),ae.onerror=function(Je){Je.preventDefault(),J(ae.error)},ae.onsuccess=function(){var Je=ae.result;Je.onversionchange=function(ue){ue.target.close()},N(Je),ie(Ie)}})}function B(Ie){return he(Ie,!1)}function ke(Ie){return he(Ie,!0)}function Oe(Ie,ct){if(!Ie.db)return!0;var N=!Ie.db.objectStoreNames.contains(Ie.storeName),me=Ie.version>Ie.db.version;if(Ie.version<Ie.db.version&&(Ie.version!==ct&&console.warn('The database "'+Ie.name+"\" can't be downgraded from version "+Ie.db.version+" to version "+Ie.version+"."),Ie.version=Ie.db.version),me||N){if(N){var ae=Ie.db.version+1;ae>Ie.version&&(Ie.version=ae)}return!0}return!1}function Rt(Ie){return xe([tt(atob(Ie.data))],{type:Ie.type})}function qt(Ie){return Ie&&Ie.__local_forage_encoded_blob}function qe(Ie){var ct=this,N=ct._initReady().then(function(){var J=ye[ct._dbInfo.name];if(J&&J.dbReady)return J.dbReady});return ze(N,Ie,Ie),N}function K(Ie,ct,N,J){void 0===J&&(J=1);try{var me=Ie.db.transaction(Ie.storeName,ct);N(null,me)}catch(ae){if(J>0&&(!Ie.db||"InvalidStateError"===ae.name||"NotFoundError"===ae.name))return de.resolve().then(function(){if(!Ie.db||"NotFoundError"===ae.name&&!Ie.db.objectStoreNames.contains(Ie.storeName)&&Ie.version<=Ie.db.version)return Ie.db&&(Ie.version=Ie.db.version+1),ke(Ie)}).then(function(){return function be(Ie){rt(Ie);for(var ct=ye[Ie.name],N=ct.forages,J=0;J<N.length;J++){var me=N[J];me._dbInfo.db&&(me._dbInfo.db.close(),me._dbInfo.db=null)}return Ie.db=null,B(Ie).then(function(ae){return Ie.db=ae,Oe(Ie)?ke(Ie):ae}).then(function(ae){Ie.db=ct.db=ae;for(var Je=0;Je<N.length;Je++)N[Je]._dbInfo.db=ae}).catch(function(ae){throw ut(Ie,ae),ae})}(Ie).then(function(){K(Ie,ct,N,J-1)})}).catch(N);N(ae)}}var Fn={_driver:"asyncStorage",_initStorage:function ve(Ie){var ct=this,N={db:null};if(Ie)for(var J in Ie)N[J]=Ie[J];var me=ye[N.name];me||(ye[N.name]=me={forages:[],db:null,dbReady:null,deferredOperations:[]}),me.forages.push(ct),ct._initReady||(ct._initReady=ct.ready,ct.ready=qe);var ae=[];function Je(){return de.resolve()}for(var ue=0;ue<me.forages.length;ue++){var Fe=me.forages[ue];Fe!==ct&&ae.push(Fe._initReady().catch(Je))}var We=me.forages.slice(0);return de.all(ae).then(function(){return N.db=me.db,B(N)}).then(function(dt){return N.db=dt,Oe(N,ct._defaultConfig.version)?ke(N):dt}).then(function(dt){N.db=me.db=dt,ct._dbInfo=N;for(var bt=0;bt<We.length;bt++){var Kt=We[bt];Kt!==ct&&(Kt._dbInfo.db=N.db,Kt._dbInfo.version=N.version)}})},_support:function $e(){try{if(!Se||!Se.open)return!1;var Ie=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),ct="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!Ie||ct)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch(N){return!1}}(),iterate:function Be(Ie,ct){var N=this,J=new de(function(me,ae){N.ready().then(function(){K(N._dbInfo,wt,function(Je,ue){if(Je)return ae(Je);try{var We=ue.objectStore(N._dbInfo.storeName).openCursor(),dt=1;We.onsuccess=function(){var bt=We.result;if(bt){var Kt=bt.value;qt(Kt)&&(Kt=Rt(Kt));var sn=Ie(Kt,bt.key,dt++);void 0!==sn?me(sn):bt.continue()}else me()},We.onerror=function(){ae(We.error)}}catch(bt){ae(bt)}})}).catch(ae)});return Te(J,ct),J},getItem:function Me(Ie,ct){var N=this;Ie=Xe(Ie);var J=new de(function(me,ae){N.ready().then(function(){K(N._dbInfo,wt,function(Je,ue){if(Je)return ae(Je);try{var We=ue.objectStore(N._dbInfo.storeName).get(Ie);We.onsuccess=function(){var dt=We.result;void 0===dt&&(dt=null),qt(dt)&&(dt=Rt(dt)),me(dt)},We.onerror=function(){ae(We.error)}}catch(dt){ae(dt)}})}).catch(ae)});return Te(J,ct),J},setItem:function At(Ie,ct,N){var J=this;Ie=Xe(Ie);var me=new de(function(ae,Je){var ue;J.ready().then(function(){return ue=J._dbInfo,"[object Blob]"===Ce.call(ct)?Ne(ue.db).then(function(Fe){return Fe?ct:function et(Ie){return new de(function(ct,N){var J=new FileReader;J.onerror=N,J.onloadend=function(me){var ae=btoa(me.target.result||"");ct({__local_forage_encoded_blob:!0,data:ae,type:Ie.type})},J.readAsBinaryString(Ie)})}(ct)}):ct}).then(function(Fe){K(J._dbInfo,Ve,function(We,dt){if(We)return Je(We);try{var bt=dt.objectStore(J._dbInfo.storeName);null===Fe&&(Fe=void 0);var Kt=bt.put(Fe,Ie);dt.oncomplete=function(){void 0===Fe&&(Fe=null),ae(Fe)},dt.onabort=dt.onerror=function(){Je(Kt.error?Kt.error:Kt.transaction.error)}}catch(sn){Je(sn)}})}).catch(Je)});return Te(me,N),me},removeItem:function Ot(Ie,ct){var N=this;Ie=Xe(Ie);var J=new de(function(me,ae){N.ready().then(function(){K(N._dbInfo,Ve,function(Je,ue){if(Je)return ae(Je);try{var We=ue.objectStore(N._dbInfo.storeName).delete(Ie);ue.oncomplete=function(){me()},ue.onerror=function(){ae(We.error)},ue.onabort=function(){ae(We.error?We.error:We.transaction.error)}}catch(dt){ae(dt)}})}).catch(ae)});return Te(J,ct),J},clear:function Bt(Ie){var ct=this,N=new de(function(J,me){ct.ready().then(function(){K(ct._dbInfo,Ve,function(ae,Je){if(ae)return me(ae);try{var Fe=Je.objectStore(ct._dbInfo.storeName).clear();Je.oncomplete=function(){J()},Je.onabort=Je.onerror=function(){me(Fe.error?Fe.error:Fe.transaction.error)}}catch(We){me(We)}})}).catch(me)});return Te(N,Ie),N},length:function Ht(Ie){var ct=this,N=new de(function(J,me){ct.ready().then(function(){K(ct._dbInfo,wt,function(ae,Je){if(ae)return me(ae);try{var Fe=Je.objectStore(ct._dbInfo.storeName).count();Fe.onsuccess=function(){J(Fe.result)},Fe.onerror=function(){me(Fe.error)}}catch(We){me(We)}})}).catch(me)});return Te(N,Ie),N},key:function An(Ie,ct){var N=this,J=new de(function(me,ae){Ie<0?me(null):N.ready().then(function(){K(N._dbInfo,wt,function(Je,ue){if(Je)return ae(Je);try{var Fe=ue.objectStore(N._dbInfo.storeName),We=!1,dt=Fe.openKeyCursor();dt.onsuccess=function(){var bt=dt.result;bt?0===Ie||We?me(bt.key):(We=!0,bt.advance(Ie)):me(null)},dt.onerror=function(){ae(dt.error)}}catch(bt){ae(bt)}})}).catch(ae)});return Te(J,ct),J},keys:function vn(Ie){var ct=this,N=new de(function(J,me){ct.ready().then(function(){K(ct._dbInfo,wt,function(ae,Je){if(ae)return me(ae);try{var Fe=Je.objectStore(ct._dbInfo.storeName).openKeyCursor(),We=[];Fe.onsuccess=function(){var dt=Fe.result;dt?(We.push(dt.key),dt.continue()):J(We)},Fe.onerror=function(){me(Fe.error)}}catch(dt){me(dt)}})}).catch(me)});return Te(N,Ie),N},dropInstance:function Pn(Ie,ct){ct=vt.apply(this,arguments);var N=this.config();(Ie="function"!=typeof Ie&&Ie||{}).name||(Ie.name=Ie.name||N.name,Ie.storeName=Ie.storeName||N.storeName);var me,J=this;if(Ie.name){var Je=Ie.name===N.name&&J._dbInfo.db?de.resolve(J._dbInfo.db):B(Ie).then(function(ue){var Fe=ye[Ie.name],We=Fe.forages;Fe.db=ue;for(var dt=0;dt<We.length;dt++)We[dt]._dbInfo.db=ue;return ue});me=Je.then(Ie.storeName?function(ue){if(ue.objectStoreNames.contains(Ie.storeName)){var Fe=ue.version+1;rt(Ie);var We=ye[Ie.name],dt=We.forages;ue.close();for(var bt=0;bt<dt.length;bt++){var Kt=dt[bt];Kt._dbInfo.db=null,Kt._dbInfo.version=Fe}return new de(function(mn,vr){var kn=Se.open(Ie.name,Fe);kn.onerror=function(yt){kn.result.close(),vr(yt)},kn.onupgradeneeded=function(){kn.result.deleteObjectStore(Ie.storeName)},kn.onsuccess=function(){var yt=kn.result;yt.close(),mn(yt)}}).then(function(mn){We.db=mn;for(var vr=0;vr<dt.length;vr++){var kn=dt[vr];kn._dbInfo.db=mn,ie(kn._dbInfo)}}).catch(function(mn){throw(ut(Ie,mn)||de.resolve()).catch(function(){}),mn})}}:function(ue){rt(Ie);var Fe=ye[Ie.name],We=Fe.forages;ue.close();for(var dt=0;dt<We.length;dt++)We[dt]._dbInfo.db=null;return new de(function(sn,mn){var vr=Se.deleteDatabase(Ie.name);vr.onerror=function(){var kn=vr.result;kn&&kn.close(),mn(vr.error)},vr.onblocked=function(){console.warn('dropInstance blocked for database "'+Ie.name+'" until all open connections are closed')},vr.onsuccess=function(){var kn=vr.result;kn&&kn.close(),sn(kn)}}).then(function(sn){Fe.db=sn;for(var mn=0;mn<We.length;mn++)ie(We[mn]._dbInfo)}).catch(function(sn){throw(ut(Ie,sn)||de.resolve()).catch(function(){}),sn})})}else me=de.reject("Invalid arguments");return Te(me,ct),me}};var En="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Or=/^~~local_forage_type~([^~]+)~/,Yt="__lfsc__:",wn=Yt.length,fr="arbf",ni="blob",Sr=wn+fr.length,Gr=Object.prototype.toString;function qr(Ie){var J,ae,Je,ue,Fe,ct=.75*Ie.length,N=Ie.length,me=0;"="===Ie[Ie.length-1]&&(ct--,"="===Ie[Ie.length-2]&&ct--);var We=new ArrayBuffer(ct),dt=new Uint8Array(We);for(J=0;J<N;J+=4)ae=En.indexOf(Ie[J]),Je=En.indexOf(Ie[J+1]),ue=En.indexOf(Ie[J+2]),Fe=En.indexOf(Ie[J+3]),dt[me++]=ae<<2|Je>>4,dt[me++]=(15&Je)<<4|ue>>2,dt[me++]=(3&ue)<<6|63&Fe;return We}function vi(Ie){var J,ct=new Uint8Array(Ie),N="";for(J=0;J<ct.length;J+=3)N+=En[ct[J]>>2],N+=En[(3&ct[J])<<4|ct[J+1]>>4],N+=En[(15&ct[J+1])<<2|ct[J+2]>>6],N+=En[63&ct[J+2]];return ct.length%3==2?N=N.substring(0,N.length-1)+"=":ct.length%3==1&&(N=N.substring(0,N.length-2)+"=="),N}var ar={serialize:function Ir(Ie,ct){var N="";if(Ie&&(N=Gr.call(Ie)),Ie&&("[object ArrayBuffer]"===N||Ie.buffer&&"[object ArrayBuffer]"===Gr.call(Ie.buffer))){var J,me=Yt;Ie instanceof ArrayBuffer?(J=Ie,me+=fr):(J=Ie.buffer,"[object Int8Array]"===N?me+="si08":"[object Uint8Array]"===N?me+="ui08":"[object Uint8ClampedArray]"===N?me+="uic8":"[object Int16Array]"===N?me+="si16":"[object Uint16Array]"===N?me+="ur16":"[object Int32Array]"===N?me+="si32":"[object Uint32Array]"===N?me+="ui32":"[object Float32Array]"===N?me+="fl32":"[object Float64Array]"===N?me+="fl64":ct(new Error("Failed to get type for BinaryArray"))),ct(me+vi(J))}else if("[object Blob]"===N){var ae=new FileReader;ae.onload=function(){var Je="~~local_forage_type~"+Ie.type+"~"+vi(this.result);ct(Yt+ni+Je)},ae.readAsArrayBuffer(Ie)}else try{ct(JSON.stringify(Ie))}catch(Je){console.error("Couldn't convert value into a JSON string: ",Ie),ct(null,Je)}},deserialize:function oi(Ie){if(Ie.substring(0,wn)!==Yt)return JSON.parse(Ie);var J,ct=Ie.substring(Sr),N=Ie.substring(wn,Sr);if(N===ni&&Or.test(ct)){var me=ct.match(Or);J=me[1],ct=ct.substring(me[0].length)}var ae=qr(ct);switch(N){case fr:return ae;case ni:return xe([ae],{type:J});case"si08":return new Int8Array(ae);case"ui08":return new Uint8Array(ae);case"uic8":return new Uint8ClampedArray(ae);case"si16":return new Int16Array(ae);case"ur16":return new Uint16Array(ae);case"si32":return new Int32Array(ae);case"ui32":return new Uint32Array(ae);case"fl32":return new Float32Array(ae);case"fl64":return new Float64Array(ae);default:throw new Error("Unkown type: "+N)}},stringToBuffer:qr,bufferToString:vi};function er(Ie,ct,N,J){Ie.executeSql("CREATE TABLE IF NOT EXISTS "+ct.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],N,J)}function yn(Ie,ct,N,J,me,ae){Ie.executeSql(N,J,me,function(Je,ue){ue.code===ue.SYNTAX_ERR?Je.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[ct.storeName],function(Fe,We){We.rows.length?ae(Fe,ue):er(Fe,ct,function(){Fe.executeSql(N,J,me,ae)},ae)},ae):ae(Je,ue)},ae)}function nr(Ie,ct,N,J){var me=this;Ie=Xe(Ie);var ae=new de(function(Je,ue){me.ready().then(function(){void 0===ct&&(ct=null);var Fe=ct,We=me._dbInfo;We.serializer.serialize(ct,function(dt,bt){bt?ue(bt):We.db.transaction(function(Kt){yn(Kt,We,"INSERT OR REPLACE INTO "+We.storeName+" (key, value) VALUES (?, ?)",[Ie,dt],function(){Je(Fe)},function(sn,mn){ue(mn)})},function(Kt){if(Kt.code===Kt.QUOTA_ERR){if(J>0)return void Je(nr.apply(me,[Ie,Fe,N,J-1]));ue(Kt)}})})}).catch(ue)});return Te(ae,N),ae}function Mt(Ie){return new de(function(ct,N){Ie.transaction(function(J){J.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(me,ae){for(var Je=[],ue=0;ue<ae.rows.length;ue++)Je.push(ae.rows.item(ue).name);ct({db:Ie,storeNames:Je})},function(me,ae){N(ae)})},function(J){N(J)})})}var Qn={_driver:"webSQLStorage",_initStorage:function gr(Ie){var ct=this,N={db:null};if(Ie)for(var J in Ie)N[J]="string"!=typeof Ie[J]?Ie[J].toString():Ie[J];var me=new de(function(ae,Je){try{N.db=openDatabase(N.name,String(N.version),N.description,N.size)}catch(ue){return Je(ue)}N.db.transaction(function(ue){er(ue,N,function(){ct._dbInfo=N,ae()},function(Fe,We){Je(We)})},Je)});return N.serializer=ar,me},_support:function rn(){return"function"==typeof openDatabase}(),iterate:function Sn(Ie,ct){var N=this,J=new de(function(me,ae){N.ready().then(function(){var Je=N._dbInfo;Je.db.transaction(function(ue){yn(ue,Je,"SELECT * FROM "+Je.storeName,[],function(Fe,We){for(var dt=We.rows,bt=dt.length,Kt=0;Kt<bt;Kt++){var sn=dt.item(Kt),mn=sn.value;if(mn&&(mn=Je.serializer.deserialize(mn)),void 0!==(mn=Ie(mn,sn.key,Kt+1)))return void me(mn)}me()},function(Fe,We){ae(We)})})}).catch(ae)});return Te(J,ct),J},getItem:function zt(Ie,ct){var N=this;Ie=Xe(Ie);var J=new de(function(me,ae){N.ready().then(function(){var Je=N._dbInfo;Je.db.transaction(function(ue){yn(ue,Je,"SELECT * FROM "+Je.storeName+" WHERE key = ? LIMIT 1",[Ie],function(Fe,We){var dt=We.rows.length?We.rows.item(0).value:null;dt&&(dt=Je.serializer.deserialize(dt)),me(dt)},function(Fe,We){ae(We)})})}).catch(ae)});return Te(J,ct),J},setItem:function Xn(Ie,ct,N){return nr.apply(this,[Ie,ct,N,1])},removeItem:function hr(Ie,ct){var N=this;Ie=Xe(Ie);var J=new de(function(me,ae){N.ready().then(function(){var Je=N._dbInfo;Je.db.transaction(function(ue){yn(ue,Je,"DELETE FROM "+Je.storeName+" WHERE key = ?",[Ie],function(){me()},function(Fe,We){ae(We)})})}).catch(ae)});return Te(J,ct),J},clear:function ot(Ie){var ct=this,N=new de(function(J,me){ct.ready().then(function(){var ae=ct._dbInfo;ae.db.transaction(function(Je){yn(Je,ae,"DELETE FROM "+ae.storeName,[],function(){J()},function(ue,Fe){me(Fe)})})}).catch(me)});return Te(N,Ie),N},length:function Ze(Ie){var ct=this,N=new de(function(J,me){ct.ready().then(function(){var ae=ct._dbInfo;ae.db.transaction(function(Je){yn(Je,ae,"SELECT COUNT(key) as c FROM "+ae.storeName,[],function(ue,Fe){var We=Fe.rows.item(0).c;J(We)},function(ue,Fe){me(Fe)})})}).catch(me)});return Te(N,Ie),N},key:function ht(Ie,ct){var N=this,J=new de(function(me,ae){N.ready().then(function(){var Je=N._dbInfo;Je.db.transaction(function(ue){yn(ue,Je,"SELECT key FROM "+Je.storeName+" WHERE id = ? LIMIT 1",[Ie+1],function(Fe,We){var dt=We.rows.length?We.rows.item(0).key:null;me(dt)},function(Fe,We){ae(We)})})}).catch(ae)});return Te(J,ct),J},keys:function Pt(Ie){var ct=this,N=new de(function(J,me){ct.ready().then(function(){var ae=ct._dbInfo;ae.db.transaction(function(Je){yn(Je,ae,"SELECT key FROM "+ae.storeName,[],function(ue,Fe){for(var We=[],dt=0;dt<Fe.rows.length;dt++)We.push(Fe.rows.item(dt).key);J(We)},function(ue,Fe){me(Fe)})})}).catch(me)});return Te(N,Ie),N},dropInstance:function Vn(Ie,ct){ct=vt.apply(this,arguments);var N=this.config();(Ie="function"!=typeof Ie&&Ie||{}).name||(Ie.name=Ie.name||N.name,Ie.storeName=Ie.storeName||N.storeName);var me,J=this;return Te(me=Ie.name?new de(function(ae){var Je;Je=Ie.name===N.name?J._dbInfo.db:openDatabase(Ie.name,"","",0),ae(Ie.storeName?{db:Je,storeNames:[Ie.storeName]}:Mt(Je))}).then(function(ae){return new de(function(Je,ue){ae.db.transaction(function(Fe){function We(sn){return new de(function(mn,vr){Fe.executeSql("DROP TABLE IF EXISTS "+sn,[],function(){mn()},function(kn,yt){vr(yt)})})}for(var dt=[],bt=0,Kt=ae.storeNames.length;bt<Kt;bt++)dt.push(We(ae.storeNames[bt]));de.all(dt).then(function(){Je()}).catch(function(sn){ue(sn)})},function(Fe){ue(Fe)})})}):de.reject("Invalid arguments"),ct),me}};function ur(Ie,ct){var N=Ie.name+"/";return Ie.storeName!==ct.storeName&&(N+=Ie.storeName+"/"),N}function Tt(){return!function $r(){var Ie="_localforage_support_test";try{return localStorage.setItem(Ie,!0),localStorage.removeItem(Ie),!1}catch(ct){return!0}}()||localStorage.length>0}var Rn={_driver:"localStorageWrapper",_initStorage:function it(Ie){var N={};if(Ie)for(var J in Ie)N[J]=Ie[J];return N.keyPrefix=ur(Ie,this._defaultConfig),Tt()?(this._dbInfo=N,N.serializer=ar,de.resolve()):de.reject()},_support:function br(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch(Ie){return!1}}(),iterate:function Ye(Ie,ct){var N=this,J=N.ready().then(function(){for(var me=N._dbInfo,ae=me.keyPrefix,Je=ae.length,ue=localStorage.length,Fe=1,We=0;We<ue;We++){var dt=localStorage.key(We);if(0===dt.indexOf(ae)){var bt=localStorage.getItem(dt);if(bt&&(bt=me.serializer.deserialize(bt)),void 0!==(bt=Ie(bt,dt.substring(Je),Fe++)))return bt}}});return Te(J,ct),J},getItem:function pe(Ie,ct){var N=this;Ie=Xe(Ie);var J=N.ready().then(function(){var me=N._dbInfo,ae=localStorage.getItem(me.keyPrefix+Ie);return ae&&(ae=me.serializer.deserialize(ae)),ae});return Te(J,ct),J},setItem:function Cn(Ie,ct,N){var J=this;Ie=Xe(Ie);var me=J.ready().then(function(){void 0===ct&&(ct=null);var ae=ct;return new de(function(Je,ue){var Fe=J._dbInfo;Fe.serializer.serialize(ct,function(We,dt){if(dt)ue(dt);else try{localStorage.setItem(Fe.keyPrefix+Ie,We),Je(ae)}catch(bt){("QuotaExceededError"===bt.name||"NS_ERROR_DOM_QUOTA_REACHED"===bt.name)&&ue(bt),ue(bt)}})})});return Te(me,N),me},removeItem:function tn(Ie,ct){var N=this;Ie=Xe(Ie);var J=N.ready().then(function(){localStorage.removeItem(N._dbInfo.keyPrefix+Ie)});return Te(J,ct),J},clear:function Z(Ie){var ct=this,N=ct.ready().then(function(){for(var J=ct._dbInfo.keyPrefix,me=localStorage.length-1;me>=0;me--){var ae=localStorage.key(me);0===ae.indexOf(J)&&localStorage.removeItem(ae)}});return Te(N,Ie),N},length:function en(Ie){var N=this.keys().then(function(J){return J.length});return Te(N,Ie),N},key:function pt(Ie,ct){var N=this,J=N.ready().then(function(){var ae,me=N._dbInfo;try{ae=localStorage.key(Ie)}catch(Je){ae=null}return ae&&(ae=ae.substring(me.keyPrefix.length)),ae});return Te(J,ct),J},keys:function Lt(Ie){var ct=this,N=ct.ready().then(function(){for(var J=ct._dbInfo,me=localStorage.length,ae=[],Je=0;Je<me;Je++){var ue=localStorage.key(Je);0===ue.indexOf(J.keyPrefix)&&ae.push(ue.substring(J.keyPrefix.length))}return ae});return Te(N,Ie),N},dropInstance:function hn(Ie,ct){if(ct=vt.apply(this,arguments),!(Ie="function"!=typeof Ie&&Ie||{}).name){var N=this.config();Ie.name=Ie.name||N.name,Ie.storeName=Ie.storeName||N.storeName}var me,J=this;return Te(me=Ie.name?new de(function(ae){ae(Ie.storeName?ur(Ie,J._defaultConfig):Ie.name+"/")}).then(function(ae){for(var Je=localStorage.length-1;Je>=0;Je--){var ue=localStorage.key(Je);0===ue.indexOf(ae)&&localStorage.removeItem(ue)}}):de.reject("Invalid arguments"),ct),me}},Dr=function(ct,N){return ct===N||"number"==typeof ct&&"number"==typeof N&&isNaN(ct)&&isNaN(N)},Yr=function(ct,N){for(var J=ct.length,me=0;me<J;){if(Dr(ct[me],N))return!0;me++}return!1},di=Array.isArray||function(Ie){return"[object Array]"===Object.prototype.toString.call(Ie)},mr={},Er={},Fr={INDEXEDDB:Fn,WEBSQL:Qn,LOCALSTORAGE:Rn},Si=[Fr.INDEXEDDB._driver,Fr.WEBSQL._driver,Fr.LOCALSTORAGE._driver],pr=["dropInstance"],hi=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(pr),Dn={description:"",driver:Si.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ir(Ie,ct){Ie[ct]=function(){var N=arguments;return Ie.ready().then(function(){return Ie[ct].apply(Ie,N)})}}function Tr(){for(var Ie=1;Ie<arguments.length;Ie++){var ct=arguments[Ie];if(ct)for(var N in ct)ct.hasOwnProperty(N)&&(arguments[0][N]=di(ct[N])?ct[N].slice():ct[N])}return arguments[0]}var mi=function(){function Ie(ct){for(var N in function He(Ie,ct){if(!(Ie instanceof ct))throw new TypeError("Cannot call a class as a function")}(this,Ie),Fr)if(Fr.hasOwnProperty(N)){var J=Fr[N],me=J._driver;this[N]=me,mr[me]||this.defineDriver(J)}this._defaultConfig=Tr({},Dn),this._config=Tr({},this._defaultConfig,ct),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return Ie.prototype.config=function(N){if("object"===(typeof N>"u"?"undefined":Le(N))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var J in N){if("storeName"===J&&(N[J]=N[J].replace(/\W/g,"_")),"version"===J&&"number"!=typeof N[J])return new Error("Database version must be a number.");this._config[J]=N[J]}return!("driver"in N)||!N.driver||this.setDriver(this._config.driver)}return"string"==typeof N?this._config[N]:this._config},Ie.prototype.defineDriver=function(N,J,me){var ae=new de(function(Je,ue){try{var Fe=N._driver,We=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!N._driver)return void ue(We);for(var dt=hi.concat("_initStorage"),bt=0,Kt=dt.length;bt<Kt;bt++){var sn=dt[bt];if((!Yr(pr,sn)||N[sn])&&"function"!=typeof N[sn])return void ue(We)}!function(){for(var gt=function(xn){return function(){var Kn=new Error("Method "+xn+" is not implemented by the current driver"),Un=de.reject(Kn);return Te(Un,arguments[arguments.length-1]),Un}},St=0,Xt=pr.length;St<Xt;St++){var un=pr[St];N[un]||(N[un]=gt(un))}}();var kn=function(gt){mr[Fe]&&console.info("Redefining LocalForage driver: "+Fe),mr[Fe]=N,Er[Fe]=gt,Je()};"_support"in N?N._support&&"function"==typeof N._support?N._support().then(kn,ue):kn(!!N._support):kn(!0)}catch(yt){ue(yt)}});return ze(ae,J,me),ae},Ie.prototype.driver=function(){return this._driver||null},Ie.prototype.getDriver=function(N,J,me){var ae=mr[N]?de.resolve(mr[N]):de.reject(new Error("Driver not found."));return ze(ae,J,me),ae},Ie.prototype.getSerializer=function(N){var J=de.resolve(ar);return ze(J,N),J},Ie.prototype.ready=function(N){var J=this,me=J._driverSet.then(function(){return null===J._ready&&(J._ready=J._initDriver()),J._ready});return ze(me,N,N),me},Ie.prototype.setDriver=function(N,J,me){var ae=this;di(N)||(N=[N]);var Je=this._getSupportedDrivers(N);function ue(){ae._config.driver=ae.driver()}function Fe(bt){return ae._extend(bt),ue(),ae._ready=ae._initStorage(ae._config),ae._ready}var dt=null!==this._driverSet?this._driverSet.catch(function(){return de.resolve()}):de.resolve();return this._driverSet=dt.then(function(){var bt=Je[0];return ae._dbInfo=null,ae._ready=null,ae.getDriver(bt).then(function(Kt){ae._driver=Kt._driver,ue(),ae._wrapLibraryMethodsWithReady(),ae._initDriver=function We(bt){return function(){var Kt=0;return function sn(){for(;Kt<bt.length;){var mn=bt[Kt];return Kt++,ae._dbInfo=null,ae._ready=null,ae.getDriver(mn).then(Fe).catch(sn)}ue();var vr=new Error("No available storage method found.");return ae._driverSet=de.reject(vr),ae._driverSet}()}}(Je)})}).catch(function(){ue();var bt=new Error("No available storage method found.");return ae._driverSet=de.reject(bt),ae._driverSet}),ze(this._driverSet,J,me),this._driverSet},Ie.prototype.supports=function(N){return!!Er[N]},Ie.prototype._extend=function(N){Tr(this,N)},Ie.prototype._getSupportedDrivers=function(N){for(var J=[],me=0,ae=N.length;me<ae;me++){var Je=N[me];this.supports(Je)&&J.push(Je)}return J},Ie.prototype._wrapLibraryMethodsWithReady=function(){for(var N=0,J=hi.length;N<J;N++)ir(this,hi[N])},Ie.prototype.createInstance=function(N){return new Ie(N)},Ie}(),Li=new mi;W.exports=Li},{3:3}]},{},[4])(4)},6351:(gn,_t,$)=>{"use strict";$.d(_t,{Bg:()=>qt,YL:()=>qe});var c=$(4650);function $e(be,K,le,ve){return new(le||(le=Promise))(function(Be,At){function Ot(An){try{Ht(ve.next(An))}catch(vn){At(vn)}}function Bt(An){try{Ht(ve.throw(An))}catch(vn){At(vn)}}function Ht(An){An.done?Be(An.value):function Me(Be){return Be instanceof le?Be:new le(function(At){At(Be)})}(An.value).then(Ot,Bt)}Ht((ve=ve.apply(be,K||[])).next())})}var ie=$(1082),ut=$(6895);const he=["sliderRef"],B=function(be){return{"no-title":be}},ke=function(be){return{"no-text":be}};class Oe{constructor(){}}Oe.\u0275fac=function(K){return new(K||Oe)},Oe.\u0275prov=c.Yz7({token:Oe,factory:Oe.\u0275fac,providedIn:"root"}),Oe.ngInjectableDef=(0,c.Yz7)({factory:function(){return new Oe},token:Oe,providedIn:"root"});let et=(()=>{class be{constructor(le){this.modalController=le,this.alt="",this.scheme="auto",this.slideOptions={},this.srcFallback="",this.srcHighRes="",this.swipeToClose=!0,this.text="",this.title="",this.titleSize="",this.defaultSlideOptions={centeredSlides:!0,passiveListeners:!1,zoom:{enabled:!0}},this.options={},this.swipeState={phase:"init",direction:"none",swipeType:"none",startX:0,startY:0,distance:0,distanceX:0,distanceY:0,threshold:150,restraint:100,allowedTime:500,elapsedTime:0,startTime:0}}ngOnInit(){return $e(this,void 0,void 0,function*(){this.options=Object.assign({},this.defaultSlideOptions,this.slideOptions),this.src=this.srcHighRes||this.src,this.setStyle(),this.setScheme(this.scheme),this.initSwipeToClose(this.swipeToClose),(yield this.slides.getSwiper()).appendSlide(`<ion-slide><img alt="${this.alt}" src="${this.src}" onerror="this.src='${this.srcFallback}'"/></ion-slide>`)})}setStyle(){const le=document.querySelector(".ion-img-viewer");le.style.setProperty("--height","100%"),le.style.setProperty("--width","100%"),le.style.setProperty("--border-radius","0")}setScheme(le){if("auto"===le)return;const ve=document.querySelector(".ion-img-viewer");"light"===this.scheme&&(ve.style.setProperty("--ion-background-color","#ffffff"),ve.style.setProperty("--ion-background-color-rgb","255, 255, 255"),ve.style.setProperty("--ion-text-color","#000"),ve.style.setProperty("--ion-text-color-rgb","0,0,0")),"dark"===this.scheme&&(ve.classList.contains("ios")?(ve.style.setProperty("--ion-background-color","#000000"),ve.style.setProperty("--ion-background-color-rgb","0, 0, 0")):(ve.style.setProperty("--ion-background-color","#121212"),ve.style.setProperty("--ion-background-color-rgb","18,18,18")),ve.style.setProperty("--ion-text-color","#ffffff"),ve.style.setProperty("--ion-text-color-rgb","255,255,255"))}initSwipeToClose(le=!0){if(!le)return;const ve=document.querySelector("ion-modal");ve.addEventListener("mousedown",Me=>this.swipeStart(Me),!0),ve.addEventListener("mousemove",Me=>this.swipeMove(Me),!0),ve.addEventListener("mouseup",Me=>this.swipeEnd(Me),!0),ve.addEventListener("touchstart",Me=>this.swipeStart(Me),!0),ve.addEventListener("touchmove",Me=>this.swipeMove(Me),!0),ve.addEventListener("touchend",Me=>this.swipeEnd(Me),!0),this.modalController.getTop().then(Me=>{Me.onWillDismiss().then(()=>{document.removeEventListener("mousedown",this.swipeStart,!0),document.removeEventListener("mousemove",this.swipeMove,!0),document.removeEventListener("mouseup",this.swipeMove,!0),document.removeEventListener("touchstart",this.swipeStart,!0),document.removeEventListener("touchmove",this.swipeMove,!0),document.removeEventListener("touchend",this.swipeMove,!0)})})}swipeStart(le){const{pageX:ve,pageY:Me}="touchstart"===le.type?le.changedTouches[0]:le;this.swipeState=Object.assign({},this.swipeState,{phase:"start",direction:"none",distance:0,startX:ve,startY:Me,startTime:(new Date).getTime()})}swipeMove(le){if("none"===this.swipeState.phase)return;const{pageX:ve,pageY:Me}="touchmove"===le.type?le.changedTouches[0]:le,Be=ve-this.swipeState.startX,At=Me-this.swipeState.startY;let Ot,Bt;Math.abs(Be)>Math.abs(At)?(Ot=Be<0?"left":"right",Bt=Be):(Ot=At<0?"up":"down",Bt=At),this.swipeState=Object.assign({},this.swipeState,{phase:"move",direction:Ot,distance:Bt,distanceX:Be,distanceY:At}),le.preventDefault()}swipeEnd(le){if("none"===this.swipeState.phase)return;const{allowedTime:ve,direction:Me,restraint:Be,startTime:At,threshold:Ot,distanceX:Bt,distanceY:Ht}=this.swipeState;let An;return(new Date).getTime()-At<=ve&&(Math.abs(Bt)>=Ot&&Math.abs(Ht)<=Be||Math.abs(Ht)>=Ot&&Math.abs(Bt)<=Be)&&(An=Me),this.swipeState=Object.assign({},this.swipeState,{phase:"end",swipeType:An}),"down"===An?this.closeModal():void 0}closeModal(){this.modalController.dismiss()}}return be.\u0275fac=function(le){return new(le||be)(c.Y36(ie.IN))},be.\u0275cmp=c.Xpm({type:be,selectors:[["ion-viewer-modal"]],viewQuery:function(le,ve){if(1&le&&c.Gf(he,7),2&le){let Me;c.iGM(Me=c.CRH())&&(ve.slides=Me.first)}},inputs:{alt:"alt",scheme:"scheme",slideOptions:"slideOptions",srcFallback:"srcFallback",srcHighRes:"srcHighRes",swipeToClose:"swipeToClose",text:"text",title:"title",titleSize:"titleSize",src:"src"},decls:14,vars:11,consts:[[3,"ngClass"],["slot","primary"],[3,"click"],["slot","icon-only","name","close"],[3,"size"],[3,"forceOverscroll"],[3,"options"],["sliderRef",""],[1,"ion-text-center"]],template:function(le,ve){1&le&&(c.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1)(3,"ion-button",2),c.NdJ("click",function(){return ve.closeModal()}),c._UZ(4,"ion-icon",3),c.qZA()(),c.TgZ(5,"ion-title",4),c._uU(6),c.qZA()()(),c.TgZ(7,"ion-content",5),c._UZ(8,"ion-slides",6,7),c.qZA(),c.TgZ(10,"ion-footer",0)(11,"ion-toolbar",8)(12,"ion-text"),c._uU(13),c.qZA()()()),2&le&&(c.Q6J("ngClass",c.VKq(7,B,ve.title.length<=0)),c.xp6(5),c.Q6J("size",ve.titleSize),c.xp6(1),c.Oqu(ve.title),c.xp6(1),c.Q6J("forceOverscroll",!1),c.xp6(1),c.Q6J("options",ve.options),c.xp6(2),c.Q6J("ngClass",c.VKq(9,ke,ve.text.length<=0)),c.xp6(3),c.Oqu(ve.text))},dependencies:[ut.mk,ie.YG,ie.Sm,ie.W2,ie.fr,ie.Gu,ie.gu,ie.Hr,ie.yW,ie.wd,ie.sr],styles:["ion-slides[_ngcontent-%COMP%]{--height:100%;height:100%}ion-toolbar[_ngcontent-%COMP%]{--border-style:none;--background:rgba(var(--ion-background-color-rgb, (255, 255, 255)), 0.6);background:rgba(var(--ion-background-color-rgb,255,255,255),.6)}ion-header[_ngcontent-%COMP%]{opacity:1;position:absolute}ion-header.no-title[_ngcontent-%COMP%]:after{content:none}ion-header.no-title[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background:rgba(0, 0, 0, 0);background:rgba(0,0,0,0)}ion-footer[_ngcontent-%COMP%]{position:absolute;bottom:0}ion-footer.no-text[_ngcontent-%COMP%]:before{content:none}ion-footer.no-text[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background:rgba(0, 0, 0, 0);background:rgba(0,0,0,0)}"]}),be})(),qt=(()=>{class be{constructor(le,ve,Me){this.el=le,this.renderer=ve,this.modalController=Me}onClick(){this.viewImage(this.src,this.srcFallback,this.srcHighRes,this.title,this.titleSize,this.text,this.scheme,this.slideOptions,this.swipeToClose)}onError(le){this.src!==this.el.nativeElement.src&&(this.src=this.el.nativeElement.src),this.srcFallback&&this.renderer.setAttribute(this.el.nativeElement,"src",this.srcFallback)}ngOnInit(){this.el.nativeElement.hasAttribute("src")||this.renderer.setAttribute(this.el.nativeElement,"src",this.src)}viewImage(le,ve="",Me="",Be="",At="",Ot="",Bt="auto",Ht={},An=!0){return $e(this,void 0,void 0,function*(){return yield(yield this.modalController.create({component:et,componentProps:{src:le,srcFallback:ve,srcHighRes:Me,title:Be,titleSize:At,text:Ot,scheme:Bt,slideOptions:Ht,swipeToClose:An},cssClass:this.cssClass instanceof Array?["ion-img-viewer",...this.cssClass]:["ion-img-viewer",this.cssClass],keyboardClose:!0,showBackdrop:!0})).present()})}}return be.\u0275fac=function(le){return new(le||be)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(ie.IN))},be.\u0275dir=c.lG2({type:be,selectors:[["","ionImgViewer",""]],hostBindings:function(le,ve){1&le&&c.NdJ("click",function(){return ve.onClick()})("error",function(Be){return ve.onError(Be)})},inputs:{src:"src",cssClass:"cssClass",scheme:"scheme",slideOptions:"slideOptions",srcFallback:"srcFallback",srcHighRes:"srcHighRes",swipeToClose:"swipeToClose",text:"text",title:"title",titleSize:"titleSize"}}),be})(),qe=(()=>{class be{}return be.\u0275fac=function(le){return new(le||be)},be.\u0275mod=c.oAB({type:be}),be.\u0275inj=c.cJS({imports:[ut.ez,ie.Pc]}),be})()},1135:(gn,_t,$)=>{"use strict";$.d(_t,{X:()=>ne});var c=$(7579);class ne extends c.x{constructor(Ue){super(),this._value=Ue}get value(){return this.getValue()}_subscribe(Ue){const Le=super._subscribe(Ue);return!Le.closed&&Ue.next(this._value),Le}getValue(){const{hasError:Ue,thrownError:Le,_value:He}=this;if(Ue)throw Le;return this._throwIfClosed(),He}next(Ue){super.next(this._value=Ue)}}},9751:(gn,_t,$)=>{"use strict";$.d(_t,{y:()=>Se});var c=$(930),ne=$(727),W=$(8822),Ue=$(9635),Le=$(2416),He=$(576),we=$(2806);let Se=(()=>{class Te{constructor(Xe){Xe&&(this._subscribe=Xe)}lift(Xe){const vt=new Te;return vt.source=this,vt.operator=Xe,vt}subscribe(Xe,vt,lt){const at=function de(Te){return Te&&Te instanceof c.Lv||function xe(Te){return Te&&(0,He.m)(Te.next)&&(0,He.m)(Te.error)&&(0,He.m)(Te.complete)}(Te)&&(0,ne.Nn)(Te)}(Xe)?Xe:new c.Hp(Xe,vt,lt);return(0,we.x)(()=>{const{operator:ye,source:Ce}=this;at.add(ye?ye.call(at,Ce):Ce?this._subscribe(at):this._trySubscribe(at))}),at}_trySubscribe(Xe){try{return this._subscribe(Xe)}catch(vt){Xe.error(vt)}}forEach(Xe,vt){return new(vt=$e(vt))((lt,at)=>{const ye=new c.Hp({next:Ce=>{try{Xe(Ce)}catch(wt){at(wt),ye.unsubscribe()}},error:at,complete:lt});this.subscribe(ye)})}_subscribe(Xe){var vt;return null===(vt=this.source)||void 0===vt?void 0:vt.subscribe(Xe)}[W.L](){return this}pipe(...Xe){return(0,Ue.U)(Xe)(this)}toPromise(Xe){return new(Xe=$e(Xe))((vt,lt)=>{let at;this.subscribe(ye=>at=ye,ye=>lt(ye),()=>vt(at))})}}return Te.create=ze=>new Te(ze),Te})();function $e(Te){var ze;return null!==(ze=null!=Te?Te:Le.v.Promise)&&void 0!==ze?ze:Promise}},7579:(gn,_t,$)=>{"use strict";$.d(_t,{x:()=>we});var c=$(9751),ne=$(727);const Ue=(0,$(3888).d)($e=>function(){$e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Le=$(8737),He=$(2806);let we=(()=>{class $e extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(de){const Te=new Se(this,this);return Te.operator=de,Te}_throwIfClosed(){if(this.closed)throw new Ue}next(de){(0,He.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Te of this.currentObservers)Te.next(de)}})}error(de){(0,He.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=de;const{observers:Te}=this;for(;Te.length;)Te.shift().error(de)}})}complete(){(0,He.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:de}=this;for(;de.length;)de.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var de;return(null===(de=this.observers)||void 0===de?void 0:de.length)>0}_trySubscribe(de){return this._throwIfClosed(),super._trySubscribe(de)}_subscribe(de){return this._throwIfClosed(),this._checkFinalizedStatuses(de),this._innerSubscribe(de)}_innerSubscribe(de){const{hasError:Te,isStopped:ze,observers:Xe}=this;return Te||ze?ne.Lc:(this.currentObservers=null,Xe.push(de),new ne.w0(()=>{this.currentObservers=null,(0,Le.P)(Xe,de)}))}_checkFinalizedStatuses(de){const{hasError:Te,thrownError:ze,isStopped:Xe}=this;Te?de.error(ze):Xe&&de.complete()}asObservable(){const de=new c.y;return de.source=this,de}}return $e.create=(xe,de)=>new Se(xe,de),$e})();class Se extends we{constructor(xe,de){super(),this.destination=xe,this.source=de}next(xe){var de,Te;null===(Te=null===(de=this.destination)||void 0===de?void 0:de.next)||void 0===Te||Te.call(de,xe)}error(xe){var de,Te;null===(Te=null===(de=this.destination)||void 0===de?void 0:de.error)||void 0===Te||Te.call(de,xe)}complete(){var xe,de;null===(de=null===(xe=this.destination)||void 0===xe?void 0:xe.complete)||void 0===de||de.call(xe)}_subscribe(xe){var de,Te;return null!==(Te=null===(de=this.source)||void 0===de?void 0:de.subscribe(xe))&&void 0!==Te?Te:ne.Lc}}},930:(gn,_t,$)=>{"use strict";$.d(_t,{Hp:()=>lt,Lv:()=>Te});var c=$(576),ne=$(727),W=$(2416),Ue=$(7849),Le=$(5032);const He=$e("C",void 0,void 0);function $e(Ve,tt,Ke){return{kind:Ve,value:tt,error:Ke}}var xe=$(3410),de=$(2806);class Te extends ne.w0{constructor(tt){super(),this.isStopped=!1,tt?(this.destination=tt,(0,ne.Nn)(tt)&&tt.add(this)):this.destination=wt}static create(tt,Ke,Ne){return new lt(tt,Ke,Ne)}next(tt){this.isStopped?Ce(function Se(Ve){return $e("N",Ve,void 0)}(tt),this):this._next(tt)}error(tt){this.isStopped?Ce(function we(Ve){return $e("E",void 0,Ve)}(tt),this):(this.isStopped=!0,this._error(tt))}complete(){this.isStopped?Ce(He,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(tt){this.destination.next(tt)}_error(tt){try{this.destination.error(tt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ze=Function.prototype.bind;function Xe(Ve,tt){return ze.call(Ve,tt)}class vt{constructor(tt){this.partialObserver=tt}next(tt){const{partialObserver:Ke}=this;if(Ke.next)try{Ke.next(tt)}catch(Ne){at(Ne)}}error(tt){const{partialObserver:Ke}=this;if(Ke.error)try{Ke.error(tt)}catch(Ne){at(Ne)}else at(tt)}complete(){const{partialObserver:tt}=this;if(tt.complete)try{tt.complete()}catch(Ke){at(Ke)}}}class lt extends Te{constructor(tt,Ke,Ne){let rt;if(super(),(0,c.m)(tt)||!tt)rt={next:null!=tt?tt:void 0,error:null!=Ke?Ke:void 0,complete:null!=Ne?Ne:void 0};else{let ie;this&&W.v.useDeprecatedNextContext?(ie=Object.create(tt),ie.unsubscribe=()=>this.unsubscribe(),rt={next:tt.next&&Xe(tt.next,ie),error:tt.error&&Xe(tt.error,ie),complete:tt.complete&&Xe(tt.complete,ie)}):rt=tt}this.destination=new vt(rt)}}function at(Ve){W.v.useDeprecatedSynchronousErrorHandling?(0,de.O)(Ve):(0,Ue.h)(Ve)}function Ce(Ve,tt){const{onStoppedNotification:Ke}=W.v;Ke&&xe.z.setTimeout(()=>Ke(Ve,tt))}const wt={closed:!0,next:Le.Z,error:function ye(Ve){throw Ve},complete:Le.Z}},727:(gn,_t,$)=>{"use strict";$.d(_t,{Lc:()=>He,w0:()=>Le,Nn:()=>we});var c=$(576);const W=(0,$(3888).d)($e=>function(de){$e(this),this.message=de?`${de.length} errors occurred during unsubscription:\n${de.map((Te,ze)=>`${ze+1}) ${Te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=de});var Ue=$(8737);class Le{constructor(xe){this.initialTeardown=xe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let xe;if(!this.closed){this.closed=!0;const{_parentage:de}=this;if(de)if(this._parentage=null,Array.isArray(de))for(const Xe of de)Xe.remove(this);else de.remove(this);const{initialTeardown:Te}=this;if((0,c.m)(Te))try{Te()}catch(Xe){xe=Xe instanceof W?Xe.errors:[Xe]}const{_finalizers:ze}=this;if(ze){this._finalizers=null;for(const Xe of ze)try{Se(Xe)}catch(vt){xe=null!=xe?xe:[],vt instanceof W?xe=[...xe,...vt.errors]:xe.push(vt)}}if(xe)throw new W(xe)}}add(xe){var de;if(xe&&xe!==this)if(this.closed)Se(xe);else{if(xe instanceof Le){if(xe.closed||xe._hasParent(this))return;xe._addParent(this)}(this._finalizers=null!==(de=this._finalizers)&&void 0!==de?de:[]).push(xe)}}_hasParent(xe){const{_parentage:de}=this;return de===xe||Array.isArray(de)&&de.includes(xe)}_addParent(xe){const{_parentage:de}=this;this._parentage=Array.isArray(de)?(de.push(xe),de):de?[de,xe]:xe}_removeParent(xe){const{_parentage:de}=this;de===xe?this._parentage=null:Array.isArray(de)&&(0,Ue.P)(de,xe)}remove(xe){const{_finalizers:de}=this;de&&(0,Ue.P)(de,xe),xe instanceof Le&&xe._removeParent(this)}}Le.EMPTY=(()=>{const $e=new Le;return $e.closed=!0,$e})();const He=Le.EMPTY;function we($e){return $e instanceof Le||$e&&"closed"in $e&&(0,c.m)($e.remove)&&(0,c.m)($e.add)&&(0,c.m)($e.unsubscribe)}function Se($e){(0,c.m)($e)?$e():$e.unsubscribe()}},2416:(gn,_t,$)=>{"use strict";$.d(_t,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(gn,_t,$)=>{"use strict";$.d(_t,{z:()=>Le});var c=$(8189),W=$(7669),Ue=$(8996);function Le(...He){return function ne(){return(0,c.J)(1)}()((0,Ue.D)(He,(0,W.yG)(He)))}},9770:(gn,_t,$)=>{"use strict";$.d(_t,{P:()=>W});var c=$(9751),ne=$(8421);function W(Ue){return new c.y(Le=>{(0,ne.Xf)(Ue()).subscribe(Le)})}},515:(gn,_t,$)=>{"use strict";$.d(_t,{E:()=>ne});const ne=new($(9751).y)(Le=>Le.complete())},4128:(gn,_t,$)=>{"use strict";$.d(_t,{D:()=>Se});var c=$(9751),ne=$(4742),W=$(8421),Ue=$(7669),Le=$(5403),He=$(3268),we=$(1810);function Se(...$e){const xe=(0,Ue.jO)($e),{args:de,keys:Te}=(0,ne.D)($e),ze=new c.y(Xe=>{const{length:vt}=de;if(!vt)return void Xe.complete();const lt=new Array(vt);let at=vt,ye=vt;for(let Ce=0;Ce<vt;Ce++){let wt=!1;(0,W.Xf)(de[Ce]).subscribe((0,Le.x)(Xe,Ve=>{wt||(wt=!0,ye--),lt[Ce]=Ve},()=>at--,void 0,()=>{(!at||!wt)&&(ye||Xe.next(Te?(0,we.n)(Te,lt):lt),Xe.complete())}))}});return xe?ze.pipe((0,He.Z)(xe)):ze}},8996:(gn,_t,$)=>{"use strict";$.d(_t,{D:()=>tt});var c=$(8421),ne=$(5363),W=$(9468),He=$(9751),Se=$(2202),$e=$(576),xe=$(9672);function Te(Ke,Ne){if(!Ke)throw new Error("Iterable cannot be null");return new He.y(rt=>{(0,xe.f)(rt,Ne,()=>{const ie=Ke[Symbol.asyncIterator]();(0,xe.f)(rt,Ne,()=>{ie.next().then(ut=>{ut.done?rt.complete():rt.next(ut.value)})},0,!0)})})}var ze=$(3670),Xe=$(8239),vt=$(1144),lt=$(6495),at=$(2206),ye=$(4532),Ce=$(3260);function tt(Ke,Ne){return Ne?function Ve(Ke,Ne){if(null!=Ke){if((0,ze.c)(Ke))return function Ue(Ke,Ne){return(0,c.Xf)(Ke).pipe((0,W.R)(Ne),(0,ne.Q)(Ne))}(Ke,Ne);if((0,vt.z)(Ke))return function we(Ke,Ne){return new He.y(rt=>{let ie=0;return Ne.schedule(function(){ie===Ke.length?rt.complete():(rt.next(Ke[ie++]),rt.closed||this.schedule())})})}(Ke,Ne);if((0,Xe.t)(Ke))return function Le(Ke,Ne){return(0,c.Xf)(Ke).pipe((0,W.R)(Ne),(0,ne.Q)(Ne))}(Ke,Ne);if((0,at.D)(Ke))return Te(Ke,Ne);if((0,lt.T)(Ke))return function de(Ke,Ne){return new He.y(rt=>{let ie;return(0,xe.f)(rt,Ne,()=>{ie=Ke[Se.h](),(0,xe.f)(rt,Ne,()=>{let ut,he;try{({value:ut,done:he}=ie.next())}catch(B){return void rt.error(B)}he?rt.complete():rt.next(ut)},0,!0)}),()=>(0,$e.m)(null==ie?void 0:ie.return)&&ie.return()})}(Ke,Ne);if((0,Ce.L)(Ke))return function wt(Ke,Ne){return Te((0,Ce.Q)(Ke),Ne)}(Ke,Ne)}throw(0,ye.z)(Ke)}(Ke,Ne):(0,c.Xf)(Ke)}},8421:(gn,_t,$)=>{"use strict";$.d(_t,{Xf:()=>ze});var c=$(655),ne=$(1144),W=$(8239),Ue=$(9751),Le=$(3670),He=$(2206),we=$(4532),Se=$(6495),$e=$(3260),xe=$(576),de=$(7849),Te=$(8822);function ze(Ve){if(Ve instanceof Ue.y)return Ve;if(null!=Ve){if((0,Le.c)(Ve))return function Xe(Ve){return new Ue.y(tt=>{const Ke=Ve[Te.L]();if((0,xe.m)(Ke.subscribe))return Ke.subscribe(tt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ve);if((0,ne.z)(Ve))return function vt(Ve){return new Ue.y(tt=>{for(let Ke=0;Ke<Ve.length&&!tt.closed;Ke++)tt.next(Ve[Ke]);tt.complete()})}(Ve);if((0,W.t)(Ve))return function lt(Ve){return new Ue.y(tt=>{Ve.then(Ke=>{tt.closed||(tt.next(Ke),tt.complete())},Ke=>tt.error(Ke)).then(null,de.h)})}(Ve);if((0,He.D)(Ve))return ye(Ve);if((0,Se.T)(Ve))return function at(Ve){return new Ue.y(tt=>{for(const Ke of Ve)if(tt.next(Ke),tt.closed)return;tt.complete()})}(Ve);if((0,$e.L)(Ve))return function Ce(Ve){return ye((0,$e.Q)(Ve))}(Ve)}throw(0,we.z)(Ve)}function ye(Ve){return new Ue.y(tt=>{(function wt(Ve,tt){var Ke,Ne,rt,ie;return(0,c.mG)(this,void 0,void 0,function*(){try{for(Ke=(0,c.KL)(Ve);!(Ne=yield Ke.next()).done;)if(tt.next(Ne.value),tt.closed)return}catch(ut){rt={error:ut}}finally{try{Ne&&!Ne.done&&(ie=Ke.return)&&(yield ie.call(Ke))}finally{if(rt)throw rt.error}}tt.complete()})})(Ve,tt).catch(Ke=>tt.error(Ke))})}},6451:(gn,_t,$)=>{"use strict";$.d(_t,{T:()=>He});var c=$(8189),ne=$(8421),W=$(515),Ue=$(7669),Le=$(8996);function He(...we){const Se=(0,Ue.yG)(we),$e=(0,Ue._6)(we,1/0),xe=we;return xe.length?1===xe.length?(0,ne.Xf)(xe[0]):(0,c.J)($e)((0,Le.D)(xe,Se)):W.E}},9646:(gn,_t,$)=>{"use strict";$.d(_t,{of:()=>W});var c=$(7669),ne=$(8996);function W(...Ue){const Le=(0,c.yG)(Ue);return(0,ne.D)(Ue,Le)}},5403:(gn,_t,$)=>{"use strict";$.d(_t,{x:()=>ne});var c=$(930);function ne(Ue,Le,He,we,Se){return new W(Ue,Le,He,we,Se)}class W extends c.Lv{constructor(Le,He,we,Se,$e,xe){super(Le),this.onFinalize=$e,this.shouldUnsubscribe=xe,this._next=He?function(de){try{He(de)}catch(Te){Le.error(Te)}}:super._next,this._error=Se?function(de){try{Se(de)}catch(Te){Le.error(Te)}finally{this.unsubscribe()}}:super._error,this._complete=we?function(){try{we()}catch(de){Le.error(de)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Le;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:He}=this;super.unsubscribe(),!He&&(null===(Le=this.onFinalize)||void 0===Le||Le.call(this))}}}},4351:(gn,_t,$)=>{"use strict";$.d(_t,{b:()=>W});var c=$(5577),ne=$(576);function W(Ue,Le){return(0,ne.m)(Le)?(0,c.z)(Ue,Le,1):(0,c.z)(Ue,1)}},6590:(gn,_t,$)=>{"use strict";$.d(_t,{d:()=>W});var c=$(4482),ne=$(5403);function W(Ue){return(0,c.e)((Le,He)=>{let we=!1;Le.subscribe((0,ne.x)(He,Se=>{we=!0,He.next(Se)},()=>{we||He.next(Ue),He.complete()}))})}},1884:(gn,_t,$)=>{"use strict";$.d(_t,{x:()=>Ue});var c=$(4671),ne=$(4482),W=$(5403);function Ue(He,we=c.y){return He=null!=He?He:Le,(0,ne.e)((Se,$e)=>{let xe,de=!0;Se.subscribe((0,W.x)($e,Te=>{const ze=we(Te);(de||!He(xe,ze))&&(de=!1,xe=ze,$e.next(Te))}))})}function Le(He,we){return He===we}},9300:(gn,_t,$)=>{"use strict";$.d(_t,{h:()=>W});var c=$(4482),ne=$(5403);function W(Ue,Le){return(0,c.e)((He,we)=>{let Se=0;He.subscribe((0,ne.x)(we,$e=>Ue.call(Le,$e,Se++)&&we.next($e)))})}},590:(gn,_t,$)=>{"use strict";$.d(_t,{P:()=>we});var c=$(6805),ne=$(9300),W=$(5698),Ue=$(6590),Le=$(8068),He=$(4671);function we(Se,$e){const xe=arguments.length>=2;return de=>de.pipe(Se?(0,ne.h)((Te,ze)=>Se(Te,ze,de)):He.y,(0,W.q)(1),xe?(0,Ue.d)($e):(0,Le.T)(()=>new c.K))}},4004:(gn,_t,$)=>{"use strict";$.d(_t,{U:()=>W});var c=$(4482),ne=$(5403);function W(Ue,Le){return(0,c.e)((He,we)=>{let Se=0;He.subscribe((0,ne.x)(we,$e=>{we.next(Ue.call(Le,$e,Se++))}))})}},8189:(gn,_t,$)=>{"use strict";$.d(_t,{J:()=>W});var c=$(5577),ne=$(4671);function W(Ue=1/0){return(0,c.z)(ne.y,Ue)}},5577:(gn,_t,$)=>{"use strict";$.d(_t,{z:()=>Se});var c=$(4004),ne=$(8421),W=$(4482),Ue=$(9672),Le=$(5403),we=$(576);function Se($e,xe,de=1/0){return(0,we.m)(xe)?Se((Te,ze)=>(0,c.U)((Xe,vt)=>xe(Te,Xe,ze,vt))((0,ne.Xf)($e(Te,ze))),de):("number"==typeof xe&&(de=xe),(0,W.e)((Te,ze)=>function He($e,xe,de,Te,ze,Xe,vt,lt){const at=[];let ye=0,Ce=0,wt=!1;const Ve=()=>{wt&&!at.length&&!ye&&xe.complete()},tt=Ne=>ye<Te?Ke(Ne):at.push(Ne),Ke=Ne=>{Xe&&xe.next(Ne),ye++;let rt=!1;(0,ne.Xf)(de(Ne,Ce++)).subscribe((0,Le.x)(xe,ie=>{null==ze||ze(ie),Xe?tt(ie):xe.next(ie)},()=>{rt=!0},void 0,()=>{if(rt)try{for(ye--;at.length&&ye<Te;){const ie=at.shift();vt?(0,Ue.f)(xe,vt,()=>Ke(ie)):Ke(ie)}Ve()}catch(ie){xe.error(ie)}}))};return $e.subscribe((0,Le.x)(xe,tt,()=>{wt=!0,Ve()})),()=>{null==lt||lt()}}(Te,ze,$e,de)))}},5363:(gn,_t,$)=>{"use strict";$.d(_t,{Q:()=>Ue});var c=$(9672),ne=$(4482),W=$(5403);function Ue(Le,He=0){return(0,ne.e)((we,Se)=>{we.subscribe((0,W.x)(Se,$e=>(0,c.f)(Se,Le,()=>Se.next($e),He),()=>(0,c.f)(Se,Le,()=>Se.complete(),He),$e=>(0,c.f)(Se,Le,()=>Se.error($e),He)))})}},5026:(gn,_t,$)=>{"use strict";$.d(_t,{R:()=>Ue});var c=$(4482),ne=$(5403);function W(Le,He,we,Se,$e){return(xe,de)=>{let Te=we,ze=He,Xe=0;xe.subscribe((0,ne.x)(de,vt=>{const lt=Xe++;ze=Te?Le(ze,vt,lt):(Te=!0,vt),Se&&de.next(ze)},$e&&(()=>{Te&&de.next(ze),de.complete()})))}}function Ue(Le,He){return(0,c.e)(W(Le,He,arguments.length>=2,!0))}},3099:(gn,_t,$)=>{"use strict";$.d(_t,{B:()=>Le});var c=$(8421),ne=$(7579),W=$(930),Ue=$(4482);function Le(we={}){const{connector:Se=(()=>new ne.x),resetOnError:$e=!0,resetOnComplete:xe=!0,resetOnRefCountZero:de=!0}=we;return Te=>{let ze,Xe,vt,lt=0,at=!1,ye=!1;const Ce=()=>{null==Xe||Xe.unsubscribe(),Xe=void 0},wt=()=>{Ce(),ze=vt=void 0,at=ye=!1},Ve=()=>{const tt=ze;wt(),null==tt||tt.unsubscribe()};return(0,Ue.e)((tt,Ke)=>{lt++,!ye&&!at&&Ce();const Ne=vt=null!=vt?vt:Se();Ke.add(()=>{lt--,0===lt&&!ye&&!at&&(Xe=He(Ve,de))}),Ne.subscribe(Ke),!ze&&lt>0&&(ze=new W.Hp({next:rt=>Ne.next(rt),error:rt=>{ye=!0,Ce(),Xe=He(wt,$e,rt),Ne.error(rt)},complete:()=>{at=!0,Ce(),Xe=He(wt,xe),Ne.complete()}}),(0,c.Xf)(tt).subscribe(ze))})(Te)}}function He(we,Se,...$e){if(!0===Se)return void we();if(!1===Se)return;const xe=new W.Hp({next:()=>{xe.unsubscribe(),we()}});return Se(...$e).subscribe(xe)}},3151:(gn,_t,$)=>{"use strict";$.d(_t,{d:()=>Le});var c=$(7579),ne=$(6063);class W extends c.x{constructor(we=1/0,Se=1/0,$e=ne.l){super(),this._bufferSize=we,this._windowTime=Se,this._timestampProvider=$e,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Se===1/0,this._bufferSize=Math.max(1,we),this._windowTime=Math.max(1,Se)}next(we){const{isStopped:Se,_buffer:$e,_infiniteTimeWindow:xe,_timestampProvider:de,_windowTime:Te}=this;Se||($e.push(we),!xe&&$e.push(de.now()+Te)),this._trimBuffer(),super.next(we)}_subscribe(we){this._throwIfClosed(),this._trimBuffer();const Se=this._innerSubscribe(we),{_infiniteTimeWindow:$e,_buffer:xe}=this,de=xe.slice();for(let Te=0;Te<de.length&&!we.closed;Te+=$e?1:2)we.next(de[Te]);return this._checkFinalizedStatuses(we),Se}_trimBuffer(){const{_bufferSize:we,_timestampProvider:Se,_buffer:$e,_infiniteTimeWindow:xe}=this,de=(xe?1:2)*we;if(we<1/0&&de<$e.length&&$e.splice(0,$e.length-de),!xe){const Te=Se.now();let ze=0;for(let Xe=1;Xe<$e.length&&$e[Xe]<=Te;Xe+=2)ze=Xe;ze&&$e.splice(0,ze+1)}}}var Ue=$(3099);function Le(He,we,Se){let $e,xe=!1;return He&&"object"==typeof He?({bufferSize:$e=1/0,windowTime:we=1/0,refCount:xe=!1,scheduler:Se}=He):$e=null!=He?He:1/0,(0,Ue.B)({connector:()=>new W($e,we,Se),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:xe})}},8675:(gn,_t,$)=>{"use strict";$.d(_t,{O:()=>Ue});var c=$(7272),ne=$(7669),W=$(4482);function Ue(...Le){const He=(0,ne.yG)(Le);return(0,W.e)((we,Se)=>{(He?(0,c.z)(Le,we,He):(0,c.z)(Le,we)).subscribe(Se)})}},9468:(gn,_t,$)=>{"use strict";$.d(_t,{R:()=>ne});var c=$(4482);function ne(W,Ue=0){return(0,c.e)((Le,He)=>{He.add(W.schedule(()=>Le.subscribe(He),Ue))})}},3900:(gn,_t,$)=>{"use strict";$.d(_t,{w:()=>Ue});var c=$(8421),ne=$(4482),W=$(5403);function Ue(Le,He){return(0,ne.e)((we,Se)=>{let $e=null,xe=0,de=!1;const Te=()=>de&&!$e&&Se.complete();we.subscribe((0,W.x)(Se,ze=>{null==$e||$e.unsubscribe();let Xe=0;const vt=xe++;(0,c.Xf)(Le(ze,vt)).subscribe($e=(0,W.x)(Se,lt=>Se.next(He?He(ze,lt,vt,Xe++):lt),()=>{$e=null,Te()}))},()=>{de=!0,Te()}))})}},5698:(gn,_t,$)=>{"use strict";$.d(_t,{q:()=>Ue});var c=$(515),ne=$(4482),W=$(5403);function Ue(Le){return Le<=0?()=>c.E:(0,ne.e)((He,we)=>{let Se=0;He.subscribe((0,W.x)(we,$e=>{++Se<=Le&&(we.next($e),Le<=Se&&we.complete())}))})}},8505:(gn,_t,$)=>{"use strict";$.d(_t,{b:()=>Le});var c=$(576),ne=$(4482),W=$(5403),Ue=$(4671);function Le(He,we,Se){const $e=(0,c.m)(He)||we||Se?{next:He,error:we,complete:Se}:He;return $e?(0,ne.e)((xe,de)=>{var Te;null===(Te=$e.subscribe)||void 0===Te||Te.call($e);let ze=!0;xe.subscribe((0,W.x)(de,Xe=>{var vt;null===(vt=$e.next)||void 0===vt||vt.call($e,Xe),de.next(Xe)},()=>{var Xe;ze=!1,null===(Xe=$e.complete)||void 0===Xe||Xe.call($e),de.complete()},Xe=>{var vt;ze=!1,null===(vt=$e.error)||void 0===vt||vt.call($e,Xe),de.error(Xe)},()=>{var Xe,vt;ze&&(null===(Xe=$e.unsubscribe)||void 0===Xe||Xe.call($e)),null===(vt=$e.finalize)||void 0===vt||vt.call($e)}))}):Ue.y}},8068:(gn,_t,$)=>{"use strict";$.d(_t,{T:()=>Ue});var c=$(6805),ne=$(4482),W=$(5403);function Ue(He=Le){return(0,ne.e)((we,Se)=>{let $e=!1;we.subscribe((0,W.x)(Se,xe=>{$e=!0,Se.next(xe)},()=>$e?Se.complete():Se.error(He())))})}function Le(){return new c.K}},4408:(gn,_t,$)=>{"use strict";$.d(_t,{o:()=>Le});var c=$(727);class ne extends c.w0{constructor(we,Se){super()}schedule(we,Se=0){return this}}const W={setInterval(He,we,...Se){const{delegate:$e}=W;return null!=$e&&$e.setInterval?$e.setInterval(He,we,...Se):setInterval(He,we,...Se)},clearInterval(He){const{delegate:we}=W;return((null==we?void 0:we.clearInterval)||clearInterval)(He)},delegate:void 0};var Ue=$(8737);class Le extends ne{constructor(we,Se){super(we,Se),this.scheduler=we,this.work=Se,this.pending=!1}schedule(we,Se=0){var $e;if(this.closed)return this;this.state=we;const xe=this.id,de=this.scheduler;return null!=xe&&(this.id=this.recycleAsyncId(de,xe,Se)),this.pending=!0,this.delay=Se,this.id=null!==($e=this.id)&&void 0!==$e?$e:this.requestAsyncId(de,this.id,Se),this}requestAsyncId(we,Se,$e=0){return W.setInterval(we.flush.bind(we,this),$e)}recycleAsyncId(we,Se,$e=0){if(null!=$e&&this.delay===$e&&!1===this.pending)return Se;null!=Se&&W.clearInterval(Se)}execute(we,Se){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const $e=this._execute(we,Se);if($e)return $e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(we,Se){let xe,$e=!1;try{this.work(we)}catch(de){$e=!0,xe=de||new Error("Scheduled action threw falsy error")}if($e)return this.unsubscribe(),xe}unsubscribe(){if(!this.closed){const{id:we,scheduler:Se}=this,{actions:$e}=Se;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ue.P)($e,this),null!=we&&(this.id=this.recycleAsyncId(Se,we,null)),this.delay=null,super.unsubscribe()}}}},7565:(gn,_t,$)=>{"use strict";$.d(_t,{v:()=>W});var c=$(6063);class ne{constructor(Le,He=ne.now){this.schedulerActionCtor=Le,this.now=He}schedule(Le,He=0,we){return new this.schedulerActionCtor(this,Le).schedule(we,He)}}ne.now=c.l.now;class W extends ne{constructor(Le,He=ne.now){super(Le,He),this.actions=[],this._active=!1}flush(Le){const{actions:He}=this;if(this._active)return void He.push(Le);let we;this._active=!0;do{if(we=Le.execute(Le.state,Le.delay))break}while(Le=He.shift());if(this._active=!1,we){for(;Le=He.shift();)Le.unsubscribe();throw we}}}},4986:(gn,_t,$)=>{"use strict";$.d(_t,{z:()=>W});var c=$(4408);const W=new($(7565).v)(c.o)},6063:(gn,_t,$)=>{"use strict";$.d(_t,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(gn,_t,$)=>{"use strict";$.d(_t,{z:()=>c});const c={setTimeout(ne,W,...Ue){const{delegate:Le}=c;return null!=Le&&Le.setTimeout?Le.setTimeout(ne,W,...Ue):setTimeout(ne,W,...Ue)},clearTimeout(ne){const{delegate:W}=c;return((null==W?void 0:W.clearTimeout)||clearTimeout)(ne)},delegate:void 0}},2202:(gn,_t,$)=>{"use strict";$.d(_t,{h:()=>ne});const ne=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(gn,_t,$)=>{"use strict";$.d(_t,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(gn,_t,$)=>{"use strict";$.d(_t,{K:()=>ne});const ne=(0,$(3888).d)(W=>function(){W(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(gn,_t,$)=>{"use strict";$.d(_t,{_6:()=>He,jO:()=>Ue,yG:()=>Le});var c=$(576);function W(we){return we[we.length-1]}function Ue(we){return(0,c.m)(W(we))?we.pop():void 0}function Le(we){return function ne(we){return we&&(0,c.m)(we.schedule)}(W(we))?we.pop():void 0}function He(we,Se){return"number"==typeof W(we)?we.pop():Se}},4742:(gn,_t,$)=>{"use strict";$.d(_t,{D:()=>Le});const{isArray:c}=Array,{getPrototypeOf:ne,prototype:W,keys:Ue}=Object;function Le(we){if(1===we.length){const Se=we[0];if(c(Se))return{args:Se,keys:null};if(function He(we){return we&&"object"==typeof we&&ne(we)===W}(Se)){const $e=Ue(Se);return{args:$e.map(xe=>Se[xe]),keys:$e}}}return{args:we,keys:null}}},8737:(gn,_t,$)=>{"use strict";function c(ne,W){if(ne){const Ue=ne.indexOf(W);0<=Ue&&ne.splice(Ue,1)}}$.d(_t,{P:()=>c})},3888:(gn,_t,$)=>{"use strict";function c(ne){const Ue=ne(Le=>{Error.call(Le),Le.stack=(new Error).stack});return Ue.prototype=Object.create(Error.prototype),Ue.prototype.constructor=Ue,Ue}$.d(_t,{d:()=>c})},1810:(gn,_t,$)=>{"use strict";function c(ne,W){return ne.reduce((Ue,Le,He)=>(Ue[Le]=W[He],Ue),{})}$.d(_t,{n:()=>c})},2806:(gn,_t,$)=>{"use strict";$.d(_t,{O:()=>Ue,x:()=>W});var c=$(2416);let ne=null;function W(Le){if(c.v.useDeprecatedSynchronousErrorHandling){const He=!ne;if(He&&(ne={errorThrown:!1,error:null}),Le(),He){const{errorThrown:we,error:Se}=ne;if(ne=null,we)throw Se}}else Le()}function Ue(Le){c.v.useDeprecatedSynchronousErrorHandling&&ne&&(ne.errorThrown=!0,ne.error=Le)}},9672:(gn,_t,$)=>{"use strict";function c(ne,W,Ue,Le=0,He=!1){const we=W.schedule(function(){Ue(),He?ne.add(this.schedule(null,Le)):this.unsubscribe()},Le);if(ne.add(we),!He)return we}$.d(_t,{f:()=>c})},4671:(gn,_t,$)=>{"use strict";function c(ne){return ne}$.d(_t,{y:()=>c})},1144:(gn,_t,$)=>{"use strict";$.d(_t,{z:()=>c});const c=ne=>ne&&"number"==typeof ne.length&&"function"!=typeof ne},2206:(gn,_t,$)=>{"use strict";$.d(_t,{D:()=>ne});var c=$(576);function ne(W){return Symbol.asyncIterator&&(0,c.m)(null==W?void 0:W[Symbol.asyncIterator])}},576:(gn,_t,$)=>{"use strict";function c(ne){return"function"==typeof ne}$.d(_t,{m:()=>c})},3670:(gn,_t,$)=>{"use strict";$.d(_t,{c:()=>W});var c=$(8822),ne=$(576);function W(Ue){return(0,ne.m)(Ue[c.L])}},6495:(gn,_t,$)=>{"use strict";$.d(_t,{T:()=>W});var c=$(2202),ne=$(576);function W(Ue){return(0,ne.m)(null==Ue?void 0:Ue[c.h])}},8239:(gn,_t,$)=>{"use strict";$.d(_t,{t:()=>ne});var c=$(576);function ne(W){return(0,c.m)(null==W?void 0:W.then)}},3260:(gn,_t,$)=>{"use strict";$.d(_t,{L:()=>Ue,Q:()=>W});var c=$(655),ne=$(576);function W(Le){return(0,c.FC)(this,arguments,function*(){const we=Le.getReader();try{for(;;){const{value:Se,done:$e}=yield(0,c.qq)(we.read());if($e)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(Se)}}finally{we.releaseLock()}})}function Ue(Le){return(0,ne.m)(null==Le?void 0:Le.getReader)}},4482:(gn,_t,$)=>{"use strict";$.d(_t,{A:()=>ne,e:()=>W});var c=$(576);function ne(Ue){return(0,c.m)(null==Ue?void 0:Ue.lift)}function W(Ue){return Le=>{if(ne(Le))return Le.lift(function(He){try{return Ue(He,this)}catch(we){this.error(we)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(gn,_t,$)=>{"use strict";$.d(_t,{Z:()=>Ue});var c=$(4004);const{isArray:ne}=Array;function Ue(Le){return(0,c.U)(He=>function W(Le,He){return ne(He)?Le(...He):Le(He)}(Le,He))}},5032:(gn,_t,$)=>{"use strict";function c(){}$.d(_t,{Z:()=>c})},9635:(gn,_t,$)=>{"use strict";$.d(_t,{U:()=>W,z:()=>ne});var c=$(4671);function ne(...Ue){return W(Ue)}function W(Ue){return 0===Ue.length?c.y:1===Ue.length?Ue[0]:function(He){return Ue.reduce((we,Se)=>Se(we),He)}}},7849:(gn,_t,$)=>{"use strict";$.d(_t,{h:()=>W});var c=$(2416),ne=$(3410);function W(Ue){ne.z.setTimeout(()=>{const{onUnhandledError:Le}=c.v;if(!Le)throw Ue;Le(Ue)})}},4532:(gn,_t,$)=>{"use strict";function c(ne){return new TypeError(`You provided ${null!==ne&&"object"==typeof ne?"an invalid object":`'${ne}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}$.d(_t,{z:()=>c})},863:(gn,_t,$)=>{var c={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,3236],"./ion-avatar_3.entry.js":[4753,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[8372,5652],"./ion-card_5.entry.js":[388,388],"./ion-checkbox.entry.js":[9922,9922],"./ion-chip.entry.js":[657,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime-button.entry.js":[9230,1435,9230],"./ion-datetime_3.entry.js":[4959,1435,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,5817],"./ion-input.entry.js":[1217,8592,1217],"./ion-item-option_3.entry.js":[2933,8592,4651],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,8592,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,8592,3804],"./ion-progress-bar.entry.js":[4174,4174],"./ion-radio_2.entry.js":[4432,4432],"./ion-range.entry.js":[1709,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,2175],"./ion-reorder_2.entry.js":[3583,8592,1186],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,2773],"./ion-slide_2.entry.js":[1650,1650],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,8592,1536],"./ion-text.entry.js":[4376,4376],"./ion-textarea.entry.js":[6560,6560],"./ion-toast.entry.js":[6120,8592,6120],"./ion-toggle.entry.js":[5168,8592,5168],"./ion-virtual-scroll.entry.js":[2289,2289]};function ne(W){if(!$.o(c,W))return Promise.resolve().then(()=>{var He=new Error("Cannot find module '"+W+"'");throw He.code="MODULE_NOT_FOUND",He});var Ue=c[W],Le=Ue[0];return Promise.all(Ue.slice(1).map($.e)).then(()=>$(Le))}ne.keys=()=>Object.keys(c),ne.id=863,gn.exports=ne},5899:(gn,_t,$)=>{var c={"./pwa-action-sheet.entry.js":[2987,2987],"./pwa-camera-modal-instance.entry.js":[3527,3527],"./pwa-camera-modal.entry.js":[7839,7839],"./pwa-camera.entry.js":[7943,7943],"./pwa-toast.entry.js":[3822,3822]};function ne(W){if(!$.o(c,W))return Promise.resolve().then(()=>{var He=new Error("Cannot find module '"+W+"'");throw He.code="MODULE_NOT_FOUND",He});var Ue=c[W],Le=Ue[0];return $.e(Ue[1]).then(()=>$(Le))}ne.keys=()=>Object.keys(c),ne.id=5899,gn.exports=ne},655:(gn,_t,$)=>{"use strict";function Ue(he,B){var ke={};for(var Oe in he)Object.prototype.hasOwnProperty.call(he,Oe)&&B.indexOf(Oe)<0&&(ke[Oe]=he[Oe]);if(null!=he&&"function"==typeof Object.getOwnPropertySymbols){var et=0;for(Oe=Object.getOwnPropertySymbols(he);et<Oe.length;et++)B.indexOf(Oe[et])<0&&Object.prototype.propertyIsEnumerable.call(he,Oe[et])&&(ke[Oe[et]]=he[Oe[et]])}return ke}function Le(he,B,ke,Oe){var qt,et=arguments.length,Rt=et<3?B:null===Oe?Oe=Object.getOwnPropertyDescriptor(B,ke):Oe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Rt=Reflect.decorate(he,B,ke,Oe);else for(var qe=he.length-1;qe>=0;qe--)(qt=he[qe])&&(Rt=(et<3?qt(Rt):et>3?qt(B,ke,Rt):qt(B,ke))||Rt);return et>3&&Rt&&Object.defineProperty(B,ke,Rt),Rt}function Se(he,B,ke,Oe){return new(ke||(ke=Promise))(function(Rt,qt){function qe(le){try{K(Oe.next(le))}catch(ve){qt(ve)}}function be(le){try{K(Oe.throw(le))}catch(ve){qt(ve)}}function K(le){le.done?Rt(le.value):function et(Rt){return Rt instanceof ke?Rt:new ke(function(qt){qt(Rt)})}(le.value).then(qe,be)}K((Oe=Oe.apply(he,B||[])).next())})}function at(he){return this instanceof at?(this.v=he,this):new at(he)}function ye(he,B,ke){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var et,Oe=ke.apply(he,B||[]),Rt=[];return et={},qt("next"),qt("throw"),qt("return"),et[Symbol.asyncIterator]=function(){return this},et;function qt(Me){Oe[Me]&&(et[Me]=function(Be){return new Promise(function(At,Ot){Rt.push([Me,Be,At,Ot])>1||qe(Me,Be)})})}function qe(Me,Be){try{!function be(Me){Me.value instanceof at?Promise.resolve(Me.value.v).then(K,le):ve(Rt[0][2],Me)}(Oe[Me](Be))}catch(At){ve(Rt[0][3],At)}}function K(Me){qe("next",Me)}function le(Me){qe("throw",Me)}function ve(Me,Be){Me(Be),Rt.shift(),Rt.length&&qe(Rt[0][0],Rt[0][1])}}function wt(he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ke,B=he[Symbol.asyncIterator];return B?B.call(he):(he=function Te(he){var B="function"==typeof Symbol&&Symbol.iterator,ke=B&&he[B],Oe=0;if(ke)return ke.call(he);if(he&&"number"==typeof he.length)return{next:function(){return he&&Oe>=he.length&&(he=void 0),{value:he&&he[Oe++],done:!he}}};throw new TypeError(B?"Object is not iterable.":"Symbol.iterator is not defined.")}(he),ke={},Oe("next"),Oe("throw"),Oe("return"),ke[Symbol.asyncIterator]=function(){return this},ke);function Oe(Rt){ke[Rt]=he[Rt]&&function(qt){return new Promise(function(qe,be){!function et(Rt,qt,qe,be){Promise.resolve(be).then(function(K){Rt({value:K,done:qe})},qt)}(qe,be,(qt=he[Rt](qt)).done,qt.value)})}}}$.d(_t,{FC:()=>ye,KL:()=>wt,_T:()=>Ue,gn:()=>Le,mG:()=>Se,qq:()=>at})},6895:(gn,_t,$)=>{"use strict";$.d(_t,{Do:()=>wt,ED:()=>We,EM:()=>Wi,H9:()=>Vs,HT:()=>Le,JF:()=>Ys,JJ:()=>Ni,K0:()=>we,Mx:()=>hi,NF:()=>Us,O5:()=>J,Ov:()=>un,PM:()=>Ks,RF:()=>ue,S$:()=>at,V_:()=>xe,Ye:()=>Ve,b0:()=>Ce,bD:()=>fo,ez:()=>zi,gd:()=>Un,mk:()=>Dn,n9:()=>Fe,q:()=>W,qS:()=>pr,sg:()=>Ie,tP:()=>mn,w_:()=>He});var c=$(4650);let ne=null;function W(){return ne}function Le(L){ne||(ne=L)}class He{}const we=new c.OlP("DocumentToken");let Se=(()=>{class L{historyGo(U){throw new Error("Not implemented")}}return L.\u0275fac=function(U){return new(U||L)},L.\u0275prov=c.Yz7({token:L,factory:function(){return function $e(){return(0,c.LFG)(de)}()},providedIn:"platform"}),L})();const xe=new c.OlP("Location Initialized");let de=(()=>{class L extends Se{constructor(U){super(),this._doc=U,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return W().getBaseHref(this._doc)}onPopState(U){const ce=W().getGlobalEventTarget(this._doc,"window");return ce.addEventListener("popstate",U,!1),()=>ce.removeEventListener("popstate",U)}onHashChange(U){const ce=W().getGlobalEventTarget(this._doc,"window");return ce.addEventListener("hashchange",U,!1),()=>ce.removeEventListener("hashchange",U)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(U){this.location.pathname=U}pushState(U,ce,nt){Te()?this._history.pushState(U,ce,nt):this.location.hash=nt}replaceState(U,ce,nt){Te()?this._history.replaceState(U,ce,nt):this.location.hash=nt}forward(){this._history.forward()}back(){this._history.back()}historyGo(U=0){this._history.go(U)}getState(){return this._history.state}}return L.\u0275fac=function(U){return new(U||L)(c.LFG(we))},L.\u0275prov=c.Yz7({token:L,factory:function(){return function ze(){return new de((0,c.LFG)(we))}()},providedIn:"platform"}),L})();function Te(){return!!window.history.pushState}function Xe(L,ee){if(0==L.length)return ee;if(0==ee.length)return L;let U=0;return L.endsWith("/")&&U++,ee.startsWith("/")&&U++,2==U?L+ee.substring(1):1==U?L+ee:L+"/"+ee}function vt(L){const ee=L.match(/#|\?|$/),U=ee&&ee.index||L.length;return L.slice(0,U-("/"===L[U-1]?1:0))+L.slice(U)}function lt(L){return L&&"?"!==L[0]?"?"+L:L}let at=(()=>{class L{historyGo(U){throw new Error("Not implemented")}}return L.\u0275fac=function(U){return new(U||L)},L.\u0275prov=c.Yz7({token:L,factory:function(){return(0,c.f3M)(Ce)},providedIn:"root"}),L})();const ye=new c.OlP("appBaseHref");let Ce=(()=>{class L extends at{constructor(U,ce){var nt,Gt,Zt;super(),this._platformLocation=U,this._removeListenerFns=[],this._baseHref=null!==(nt=null!==(Gt=null!=ce?ce:this._platformLocation.getBaseHrefFromDOM())&&void 0!==Gt?Gt:null===(Zt=(0,c.f3M)(we).location)||void 0===Zt?void 0:Zt.origin)&&void 0!==nt?nt:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}prepareExternalUrl(U){return Xe(this._baseHref,U)}path(U=!1){const ce=this._platformLocation.pathname+lt(this._platformLocation.search),nt=this._platformLocation.hash;return nt&&U?`${ce}${nt}`:ce}pushState(U,ce,nt,Gt){const Zt=this.prepareExternalUrl(nt+lt(Gt));this._platformLocation.pushState(U,ce,Zt)}replaceState(U,ce,nt,Gt){const Zt=this.prepareExternalUrl(nt+lt(Gt));this._platformLocation.replaceState(U,ce,Zt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){var ce,nt;null===(ce=(nt=this._platformLocation).historyGo)||void 0===ce||ce.call(nt,U)}}return L.\u0275fac=function(U){return new(U||L)(c.LFG(Se),c.LFG(ye,8))},L.\u0275prov=c.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})(),wt=(()=>{class L extends at{constructor(U,ce){super(),this._platformLocation=U,this._baseHref="",this._removeListenerFns=[],null!=ce&&(this._baseHref=ce)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}path(U=!1){let ce=this._platformLocation.hash;return null==ce&&(ce="#"),ce.length>0?ce.substring(1):ce}prepareExternalUrl(U){const ce=Xe(this._baseHref,U);return ce.length>0?"#"+ce:ce}pushState(U,ce,nt,Gt){let Zt=this.prepareExternalUrl(nt+lt(Gt));0==Zt.length&&(Zt=this._platformLocation.pathname),this._platformLocation.pushState(U,ce,Zt)}replaceState(U,ce,nt,Gt){let Zt=this.prepareExternalUrl(nt+lt(Gt));0==Zt.length&&(Zt=this._platformLocation.pathname),this._platformLocation.replaceState(U,ce,Zt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){var ce,nt;null===(ce=(nt=this._platformLocation).historyGo)||void 0===ce||ce.call(nt,U)}}return L.\u0275fac=function(U){return new(U||L)(c.LFG(Se),c.LFG(ye,8))},L.\u0275prov=c.Yz7({token:L,factory:L.\u0275fac}),L})(),Ve=(()=>{class L{constructor(U){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=U;const ce=this._locationStrategy.getBaseHref();this._baseHref=vt(Ne(ce)),this._locationStrategy.onPopState(nt=>{this._subject.emit({url:this.path(!0),pop:!0,state:nt.state,type:nt.type})})}ngOnDestroy(){var U;null===(U=this._urlChangeSubscription)||void 0===U||U.unsubscribe(),this._urlChangeListeners=[]}path(U=!1){return this.normalize(this._locationStrategy.path(U))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(U,ce=""){return this.path()==this.normalize(U+lt(ce))}normalize(U){return L.stripTrailingSlash(function Ke(L,ee){return L&&ee.startsWith(L)?ee.substring(L.length):ee}(this._baseHref,Ne(U)))}prepareExternalUrl(U){return U&&"/"!==U[0]&&(U="/"+U),this._locationStrategy.prepareExternalUrl(U)}go(U,ce="",nt=null){this._locationStrategy.pushState(nt,"",U,ce),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+lt(ce)),nt)}replaceState(U,ce="",nt=null){this._locationStrategy.replaceState(nt,"",U,ce),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+lt(ce)),nt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(U=0){var ce,nt;null===(ce=(nt=this._locationStrategy).historyGo)||void 0===ce||ce.call(nt,U)}onUrlChange(U){return this._urlChangeListeners.push(U),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ce=>{this._notifyUrlChangeListeners(ce.url,ce.state)})),()=>{const ce=this._urlChangeListeners.indexOf(U);var nt;this._urlChangeListeners.splice(ce,1),0===this._urlChangeListeners.length&&(null===(nt=this._urlChangeSubscription)||void 0===nt||nt.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(U="",ce){this._urlChangeListeners.forEach(nt=>nt(U,ce))}subscribe(U,ce,nt){return this._subject.subscribe({next:U,error:ce,complete:nt})}}return L.normalizeQueryParams=lt,L.joinWithSlash=Xe,L.stripTrailingSlash=vt,L.\u0275fac=function(U){return new(U||L)(c.LFG(at))},L.\u0275prov=c.Yz7({token:L,factory:function(){return function tt(){return new Ve((0,c.LFG)(at))}()},providedIn:"root"}),L})();function Ne(L){return L.replace(/\/index.html$/,"")}const rt={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var ie=(()=>((ie=ie||{})[ie.Decimal=0]="Decimal",ie[ie.Percent=1]="Percent",ie[ie.Currency=2]="Currency",ie[ie.Scientific=3]="Scientific",ie))(),Oe=(()=>((Oe=Oe||{})[Oe.Decimal=0]="Decimal",Oe[Oe.Group=1]="Group",Oe[Oe.List=2]="List",Oe[Oe.PercentSign=3]="PercentSign",Oe[Oe.PlusSign=4]="PlusSign",Oe[Oe.MinusSign=5]="MinusSign",Oe[Oe.Exponential=6]="Exponential",Oe[Oe.SuperscriptingExponent=7]="SuperscriptingExponent",Oe[Oe.PerMille=8]="PerMille",Oe[Oe.Infinity=9]="Infinity",Oe[Oe.NaN=10]="NaN",Oe[Oe.TimeSeparator=11]="TimeSeparator",Oe[Oe.CurrencyDecimal=12]="CurrencyDecimal",Oe[Oe.CurrencyGroup=13]="CurrencyGroup",Oe))();function Ot(L,ee){const U=(0,c.cg1)(L),ce=U[c.wAp.NumberSymbols][ee];if(typeof ce>"u"){if(ee===Oe.CurrencyDecimal)return U[c.wAp.NumberSymbols][Oe.Decimal];if(ee===Oe.CurrencyGroup)return U[c.wAp.NumberSymbols][Oe.Group]}return ce}function Bt(L,ee){return(0,c.cg1)(L)[c.wAp.NumberFormats][ee]}const ur=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function en(L,ee,U,ce,nt,Gt,Zt=!1){let qn="",fi=!1;if(isFinite(L)){let ui=function Yr(L){let ce,nt,Gt,Zt,qn,ee=Math.abs(L)+"",U=0;for((nt=ee.indexOf("."))>-1&&(ee=ee.replace(".","")),(Gt=ee.search(/e/i))>0?(nt<0&&(nt=Gt),nt+=+ee.slice(Gt+1),ee=ee.substring(0,Gt)):nt<0&&(nt=ee.length),Gt=0;"0"===ee.charAt(Gt);Gt++);if(Gt===(qn=ee.length))ce=[0],nt=1;else{for(qn--;"0"===ee.charAt(qn);)qn--;for(nt-=Gt,ce=[],Zt=0;Gt<=qn;Gt++,Zt++)ce[Zt]=Number(ee.charAt(Gt))}return nt>22&&(ce=ce.splice(0,21),U=nt-1,nt=1),{digits:ce,exponent:U,integerLen:nt}}(L);Zt&&(ui=function Dr(L){if(0===L.digits[0])return L;const ee=L.digits.length-L.integerLen;return L.exponent?L.exponent+=2:(0===ee?L.digits.push(0,0):1===ee&&L.digits.push(0),L.integerLen+=2),L}(ui));let Gn=ee.minInt,or=ee.minFrac,ri=ee.maxFrac;if(Gt){const as=Gt.match(ur);if(null===as)throw new Error(`${Gt} is not a valid digit info`);const Tn=as[1],Yn=as[3],Wo=as[5];null!=Tn&&(Gn=mr(Tn)),null!=Yn&&(or=mr(Yn)),null!=Wo?ri=mr(Wo):null!=Yn&&or>ri&&(ri=or)}!function di(L,ee,U){if(ee>U)throw new Error(`The minimum number of digits after fraction (${ee}) is higher than the maximum (${U}).`);let ce=L.digits,nt=ce.length-L.integerLen;const Gt=Math.min(Math.max(ee,nt),U);let Zt=Gt+L.integerLen,qn=ce[Zt];if(Zt>0){ce.splice(Math.max(L.integerLen,Zt));for(let or=Zt;or<ce.length;or++)ce[or]=0}else{nt=Math.max(0,nt),L.integerLen=1,ce.length=Math.max(1,Zt=Gt+1),ce[0]=0;for(let or=1;or<Zt;or++)ce[or]=0}if(qn>=5)if(Zt-1<0){for(let or=0;or>Zt;or--)ce.unshift(0),L.integerLen++;ce.unshift(1),L.integerLen++}else ce[Zt-1]++;for(;nt<Math.max(0,Gt);nt++)ce.push(0);let fi=0!==Gt;const ui=ee+L.integerLen,Gn=ce.reduceRight(function(or,ri,Ci,Pi){return Pi[Ci]=(ri+=or)<10?ri:ri-10,fi&&(0===Pi[Ci]&&Ci>=ui?Pi.pop():fi=!1),ri>=10?1:0},0);Gn&&(ce.unshift(Gn),L.integerLen++)}(ui,or,ri);let Ci=ui.digits,Pi=ui.integerLen;const cn=ui.exponent;let jr=[];for(fi=Ci.every(as=>!as);Pi<Gn;Pi++)Ci.unshift(0);for(;Pi<0;Pi++)Ci.unshift(0);Pi>0?jr=Ci.splice(Pi,Ci.length):(jr=Ci,Ci=[0]);const qi=[];for(Ci.length>=ee.lgSize&&qi.unshift(Ci.splice(-ee.lgSize,Ci.length).join(""));Ci.length>ee.gSize;)qi.unshift(Ci.splice(-ee.gSize,Ci.length).join(""));Ci.length&&qi.unshift(Ci.join("")),qn=qi.join(Ot(U,ce)),jr.length&&(qn+=Ot(U,nt)+jr.join("")),cn&&(qn+=Ot(U,Oe.Exponential)+"+"+cn)}else qn=Ot(U,Oe.Infinity);return qn=L<0&&!fi?ee.negPre+qn+ee.negSuf:ee.posPre+qn+ee.posSuf,qn}function Rn(L,ee="-"){const U={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},ce=L.split(";"),nt=ce[0],Gt=ce[1],Zt=-1!==nt.indexOf(".")?nt.split("."):[nt.substring(0,nt.lastIndexOf("0")+1),nt.substring(nt.lastIndexOf("0")+1)],qn=Zt[0],fi=Zt[1]||"";U.posPre=qn.substring(0,qn.indexOf("#"));for(let Gn=0;Gn<fi.length;Gn++){const or=fi.charAt(Gn);"0"===or?U.minFrac=U.maxFrac=Gn+1:"#"===or?U.maxFrac=Gn+1:U.posSuf+=or}const ui=qn.split(",");if(U.gSize=ui[1]?ui[1].length:0,U.lgSize=ui[2]||ui[1]?(ui[2]||ui[1]).length:0,Gt){const Gn=nt.length-U.posPre.length-U.posSuf.length,or=Gt.indexOf("#");U.negPre=Gt.substring(0,or).replace(/'/g,""),U.negSuf=Gt.slice(or+Gn).replace(/'/g,"")}else U.negPre=ee+U.posPre,U.negSuf=U.posSuf;return U}function mr(L){const ee=parseInt(L);if(isNaN(ee))throw new Error("Invalid integer literal when parsing "+L);return ee}function pr(L,ee,U){return(0,c.dwT)(L,ee,U)}function hi(L,ee){ee=encodeURIComponent(ee);for(const U of L.split(";")){const ce=U.indexOf("="),[nt,Gt]=-1==ce?[U,""]:[U.slice(0,ce),U.slice(ce+1)];if(nt.trim()===ee)return decodeURIComponent(Gt)}return null}let Dn=(()=>{class L{constructor(U,ce,nt,Gt){this._iterableDiffers=U,this._keyValueDiffers=ce,this._ngEl=nt,this._renderer=Gt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(U){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof U?U.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(U){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof U?U.split(/\s+/):U,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const U=this._iterableDiffer.diff(this._rawClass);U&&this._applyIterableChanges(U)}else if(this._keyValueDiffer){const U=this._keyValueDiffer.diff(this._rawClass);U&&this._applyKeyValueChanges(U)}}_applyKeyValueChanges(U){U.forEachAddedItem(ce=>this._toggleClass(ce.key,ce.currentValue)),U.forEachChangedItem(ce=>this._toggleClass(ce.key,ce.currentValue)),U.forEachRemovedItem(ce=>{ce.previousValue&&this._toggleClass(ce.key,!1)})}_applyIterableChanges(U){U.forEachAddedItem(ce=>{if("string"!=typeof ce.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(ce.item)}`);this._toggleClass(ce.item,!0)}),U.forEachRemovedItem(ce=>this._toggleClass(ce.item,!1))}_applyClasses(U){U&&(Array.isArray(U)||U instanceof Set?U.forEach(ce=>this._toggleClass(ce,!0)):Object.keys(U).forEach(ce=>this._toggleClass(ce,!!U[ce])))}_removeClasses(U){U&&(Array.isArray(U)||U instanceof Set?U.forEach(ce=>this._toggleClass(ce,!1)):Object.keys(U).forEach(ce=>this._toggleClass(ce,!1)))}_toggleClass(U,ce){(U=U.trim())&&U.split(/\s+/g).forEach(nt=>{ce?this._renderer.addClass(this._ngEl.nativeElement,nt):this._renderer.removeClass(this._ngEl.nativeElement,nt)})}}return L.\u0275fac=function(U){return new(U||L)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},L.\u0275dir=c.lG2({type:L,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),L})();class Li{constructor(ee,U,ce,nt){this.$implicit=ee,this.ngForOf=U,this.index=ce,this.count=nt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ie=(()=>{class L{constructor(U,ce,nt){this._viewContainer=U,this._template=ce,this._differs=nt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(U){this._ngForOf=U,this._ngForOfDirty=!0}set ngForTrackBy(U){this._trackByFn=U}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(U){U&&(this._template=U)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const U=this._ngForOf;!this._differ&&U&&(this._differ=this._differs.find(U).create(this.ngForTrackBy))}if(this._differ){const U=this._differ.diff(this._ngForOf);U&&this._applyChanges(U)}}_applyChanges(U){const ce=this._viewContainer;U.forEachOperation((nt,Gt,Zt)=>{if(null==nt.previousIndex)ce.createEmbeddedView(this._template,new Li(nt.item,this._ngForOf,-1,-1),null===Zt?void 0:Zt);else if(null==Zt)ce.remove(null===Gt?void 0:Gt);else if(null!==Gt){const qn=ce.get(Gt);ce.move(qn,Zt),ct(qn,nt)}});for(let nt=0,Gt=ce.length;nt<Gt;nt++){const qn=ce.get(nt).context;qn.index=nt,qn.count=Gt,qn.ngForOf=this._ngForOf}U.forEachIdentityChange(nt=>{ct(ce.get(nt.currentIndex),nt)})}static ngTemplateContextGuard(U,ce){return!0}}return L.\u0275fac=function(U){return new(U||L)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},L.\u0275dir=c.lG2({type:L,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),L})();function ct(L,ee){L.context.$implicit=ee.item}let J=(()=>{class L{constructor(U,ce){this._viewContainer=U,this._context=new me,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ce}set ngIf(U){this._context.$implicit=this._context.ngIf=U,this._updateView()}set ngIfThen(U){ae("ngIfThen",U),this._thenTemplateRef=U,this._thenViewRef=null,this._updateView()}set ngIfElse(U){ae("ngIfElse",U),this._elseTemplateRef=U,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(U,ce){return!0}}return L.\u0275fac=function(U){return new(U||L)(c.Y36(c.s_b),c.Y36(c.Rgc))},L.\u0275dir=c.lG2({type:L,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),L})();class me{constructor(){this.$implicit=null,this.ngIf=null}}function ae(L,ee){if(ee&&!ee.createEmbeddedView)throw new Error(`${L} must be a TemplateRef, but received '${(0,c.AaK)(ee)}'.`)}class Je{constructor(ee,U){this._viewContainerRef=ee,this._templateRef=U,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(ee){ee&&!this._created?this.create():!ee&&this._created&&this.destroy()}}let ue=(()=>{class L{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(U){this._ngSwitch=U,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(U){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(U)}_matchCase(U){const ce=U==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||ce,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),ce}_updateDefaultCases(U){if(this._defaultViews&&U!==this._defaultUsed){this._defaultUsed=U;for(let ce=0;ce<this._defaultViews.length;ce++)this._defaultViews[ce].enforceState(U)}}}return L.\u0275fac=function(U){return new(U||L)},L.\u0275dir=c.lG2({type:L,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),L})(),Fe=(()=>{class L{constructor(U,ce,nt){this.ngSwitch=nt,nt._addCase(),this._view=new Je(U,ce)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return L.\u0275fac=function(U){return new(U||L)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(ue,9))},L.\u0275dir=c.lG2({type:L,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),L})(),We=(()=>{class L{constructor(U,ce,nt){nt._addDefault(new Je(U,ce))}}return L.\u0275fac=function(U){return new(U||L)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(ue,9))},L.\u0275dir=c.lG2({type:L,selectors:[["","ngSwitchDefault",""]],standalone:!0}),L})(),mn=(()=>{class L{constructor(U){this._viewContainerRef=U,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(U){if(U.ngTemplateOutlet||U.ngTemplateOutletInjector){const ce=this._viewContainerRef;if(this._viewRef&&ce.remove(ce.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:nt,ngTemplateOutletContext:Gt,ngTemplateOutletInjector:Zt}=this;this._viewRef=ce.createEmbeddedView(nt,Gt,Zt?{injector:Zt}:void 0)}else this._viewRef=null}else this._viewRef&&U.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return L.\u0275fac=function(U){return new(U||L)(c.Y36(c.s_b))},L.\u0275dir=c.lG2({type:L,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[c.TTD]}),L})();function kn(L,ee){return new c.vHH(2100,!1)}class yt{createSubscription(ee,U){return ee.subscribe({next:U,error:ce=>{throw ce}})}dispose(ee){ee.unsubscribe()}}class gt{createSubscription(ee,U){return ee.then(U,ce=>{throw ce})}dispose(ee){}}const St=new gt,Xt=new yt;let un=(()=>{class L{constructor(U){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=U}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(U){return this._obj?U!==this._obj?(this._dispose(),this.transform(U)):this._latestValue:(U&&this._subscribe(U),this._latestValue)}_subscribe(U){this._obj=U,this._strategy=this._selectStrategy(U),this._subscription=this._strategy.createSubscription(U,ce=>this._updateLatestValue(U,ce))}_selectStrategy(U){if((0,c.QGY)(U))return St;if((0,c.F4k)(U))return Xt;throw kn()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(U,ce){U===this._obj&&(this._latestValue=ce,this._ref.markForCheck())}}return L.\u0275fac=function(U){return new(U||L)(c.Y36(c.sBO,16))},L.\u0275pipe=c.Yjl({name:"async",type:L,pure:!1,standalone:!0}),L})(),Un=(()=>{class L{transform(U){if(null==U)return null;if("string"!=typeof U)throw kn();return U.toUpperCase()}}return L.\u0275fac=function(U){return new(U||L)},L.\u0275pipe=c.Yjl({name:"uppercase",type:L,pure:!0,standalone:!0}),L})(),Ni=(()=>{class L{constructor(U){this._locale=U}transform(U,ce,nt){if(!Is(U))return null;nt=nt||this._locale;try{return function hn(L,ee,U){return en(L,Rn(Bt(ee,ie.Decimal),Ot(ee,Oe.MinusSign)),ee,Oe.Group,Oe.Decimal,U)}(Ws(U),nt,ce)}catch(Gt){throw kn()}}}return L.\u0275fac=function(U){return new(U||L)(c.Y36(c.soG,16))},L.\u0275pipe=c.Yjl({name:"number",type:L,pure:!0,standalone:!0}),L})(),Vs=(()=>{class L{constructor(U,ce="USD"){this._locale=U,this._defaultCurrencyCode=ce}transform(U,ce=this._defaultCurrencyCode,nt="symbol",Gt,Zt){if(!Is(U))return null;Zt=Zt||this._locale,"boolean"==typeof nt&&(nt=nt?"symbol":"code");let qn=ce||this._defaultCurrencyCode;"code"!==nt&&(qn="symbol"===nt||"symbol-narrow"===nt?function fr(L,ee,U="en"){const ce=function Pn(L){return(0,c.cg1)(L)[c.wAp.Currencies]}(U)[L]||rt[L]||[],nt=ce[1];return"narrow"===ee&&"string"==typeof nt?nt:ce[0]||L}(qn,"symbol"===nt?"wide":"narrow",Zt):nt);try{return function tn(L,ee,U,ce,nt){const Zt=Rn(Bt(ee,ie.Currency),Ot(ee,Oe.MinusSign));return Zt.minFrac=function wr(L){let ee;const U=rt[L];return U&&(ee=U[2]),"number"==typeof ee?ee:2}(ce),Zt.maxFrac=Zt.minFrac,en(L,Zt,ee,Oe.CurrencyGroup,Oe.CurrencyDecimal,nt).replace("\xa4",U).replace("\xa4","").trim()}(Ws(U),Zt,qn,ce,Gt)}catch(fi){throw kn()}}}return L.\u0275fac=function(U){return new(U||L)(c.Y36(c.soG,16),c.Y36(c.EJc,16))},L.\u0275pipe=c.Yjl({name:"currency",type:L,pure:!0,standalone:!0}),L})();function Is(L){return!(null==L||""===L||L!=L)}function Ws(L){if("string"==typeof L&&!isNaN(Number(L)-parseFloat(L)))return Number(L);if("number"!=typeof L)throw new Error(`${L} is not a number`);return L}let zi=(()=>{class L{}return L.\u0275fac=function(U){return new(U||L)},L.\u0275mod=c.oAB({type:L}),L.\u0275inj=c.cJS({}),L})();const fo="browser";function Us(L){return L===fo}function Ks(L){return"server"===L}let Wi=(()=>{class L{}return L.\u0275prov=(0,c.Yz7)({token:L,providedIn:"root",factory:()=>new is((0,c.LFG)(we),window)}),L})();class is{constructor(ee,U){this.document=ee,this.window=U,this.offset=()=>[0,0]}setOffset(ee){this.offset=Array.isArray(ee)?()=>ee:ee}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ee){this.supportsScrolling()&&this.window.scrollTo(ee[0],ee[1])}scrollToAnchor(ee){if(!this.supportsScrolling())return;const U=function qs(L,ee){const U=L.getElementById(ee)||L.getElementsByName(ee)[0];if(U)return U;if("function"==typeof L.createTreeWalker&&L.body&&(L.body.createShadowRoot||L.body.attachShadow)){const ce=L.createTreeWalker(L.body,NodeFilter.SHOW_ELEMENT);let nt=ce.currentNode;for(;nt;){const Gt=nt.shadowRoot;if(Gt){const Zt=Gt.getElementById(ee)||Gt.querySelector(`[name="${ee}"]`);if(Zt)return Zt}nt=ce.nextNode()}}return null}(this.document,ee);U&&(this.scrollToElement(U),U.focus())}setHistoryScrollRestoration(ee){if(this.supportScrollRestoration()){const U=this.window.history;U&&U.scrollRestoration&&(U.scrollRestoration=ee)}}scrollToElement(ee){const U=ee.getBoundingClientRect(),ce=U.left+this.window.pageXOffset,nt=U.top+this.window.pageYOffset,Gt=this.offset();this.window.scrollTo(ce-Gt[0],nt-Gt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const ee=Oi(this.window.history)||Oi(Object.getPrototypeOf(this.window.history));return!(!ee||!ee.writable&&!ee.set)}catch(ee){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(ee){return!1}}}function Oi(L){return Object.getOwnPropertyDescriptor(L,"scrollRestoration")}class Ys{}},4650:(gn,_t,$)=>{"use strict";$.d(_t,{$8M:()=>ju,$Z:()=>sd,AFp:()=>GE,ALo:()=>uE,AaK:()=>Se,Akn:()=>Fu,AsE:()=>Vv,BQk:()=>Hr,CHM:()=>ba,CRH:()=>EE,CZH:()=>u_,CqO:()=>yd,D6c:()=>zb,DdM:()=>nE,EJc:()=>ob,EpF:()=>gs,F$t:()=>ey,F4k:()=>Bs,FYo:()=>Yu,FiY:()=>_r,G48:()=>Sb,Gf:()=>vE,GfV:()=>Ls,GkF:()=>Ii,Gpc:()=>de,Hsn:()=>ty,JOm:()=>Ja,KtG:()=>ca,LFG:()=>gr,LSH:()=>Nf,Lbi:()=>rb,Lck:()=>eI,MAs:()=>te,MGl:()=>yf,MMx:()=>K_,MR2:()=>Up,NdJ:()=>Rc,OlP:()=>zr,Oqu:()=>yh,P3R:()=>Qc,PXZ:()=>wb,Q6J:()=>ge,QGY:()=>ms,QP$:()=>Si,Qsj:()=>am,R0b:()=>Pc,RDi:()=>x,Rgc:()=>vv,SBq:()=>Ol,Sil:()=>lb,Suo:()=>_E,TTD:()=>qs,TgZ:()=>Ft,Tol:()=>Ug,VKq:()=>rE,W1O:()=>CE,X6Q:()=>Tb,XFs:()=>wn,Xpm:()=>Lt,Xts:()=>$h,Y36:()=>Sc,YKP:()=>K0,YNc:()=>D,Yjl:()=>di,Yz7:()=>At,Z0I:()=>An,ZZ4:()=>_0,_Bn:()=>W0,_UZ:()=>Jt,_Vd:()=>_c,_c5:()=>Hb,_uU:()=>Bv,aQg:()=>E0,c2e:()=>ib,cJS:()=>Bt,cg1:()=>wd,dDg:()=>yb,dqk:()=>rr,dwT:()=>lv,eFA:()=>rw,ekj:()=>oy,eoX:()=>ew,f3M:()=>zt,g9A:()=>WE,h0i:()=>uy,hGG:()=>Gb,hYB:()=>bp,hij:()=>Ap,iGM:()=>yE,ifc:()=>Qn,ip1:()=>HE,jDz:()=>Y0,kL8:()=>Xv,kYT:()=>Rn,lG2:()=>Yr,lcZ:()=>cE,lnq:()=>Uv,lqb:()=>qu,lri:()=>QE,n5z:()=>fu,oAB:()=>hn,oxw:()=>Gy,q4F:()=>Wp,qLn:()=>Ec,qOj:()=>$y,qZA:()=>Nt,rWj:()=>JE,sBO:()=>Ab,sIi:()=>fd,s_b:()=>o_,soG:()=>c_,tb:()=>KE,tp0:()=>Nn,uIk:()=>Ym,vHH:()=>lt,vpe:()=>Eh,wAp:()=>Wr,xi3:()=>dE,xp6:()=>Yf,ynx:()=>Rr,z2F:()=>d_,zSh:()=>Gp,zs3:()=>nd});var c=$(7579),ne=$(727),W=$(9751),Ue=$(6451),Le=$(3099);function He(n){for(let r in n)if(n[r]===He)return r;throw Error("Could not find renamed property on target object.")}function we(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function Se(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Se).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function $e(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const xe=He({__forward_ref__:He});function de(n){return n.__forward_ref__=de,n.toString=function(){return Se(this())},n}function Te(n){return ze(n)?n():n}function ze(n){return"function"==typeof n&&n.hasOwnProperty(xe)&&n.__forward_ref__===de}function Xe(n){return n&&!!n.\u0275providers}class lt extends Error{constructor(r,s){super(function at(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}(r,s)),this.code=r}}function ye(n){return"string"==typeof n?n:null==n?"":String(n)}function Ke(n,r){throw new lt(-201,!1)}function K(n,r){null==n&&function le(n,r,s,d){throw new Error(`ASSERTION ERROR: ${n}`+(null==d?"":` [Expected=> ${s} ${d} ${r} <=Actual]`))}(r,n,null,"!=")}function At(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Bt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ht(n){return vn(n,En)||vn(n,Or)}function An(n){return null!==Ht(n)}function vn(n,r){return n.hasOwnProperty(r)?n[r]:null}function rn(n){return n&&(n.hasOwnProperty(zn)||n.hasOwnProperty(Yt))?n[zn]:null}const En=He({\u0275prov:He}),zn=He({\u0275inj:He}),Or=He({ngInjectableDef:He}),Yt=He({ngInjectorDef:He});var wn=(()=>((wn=wn||{})[wn.Default=0]="Default",wn[wn.Host=1]="Host",wn[wn.Self=2]="Self",wn[wn.SkipSelf=4]="SkipSelf",wn[wn.Optional=8]="Optional",wn))();let fr;function wr(n){const r=fr;return fr=n,r}function Kr(n,r,s){const d=Ht(n);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:s&wn.Optional?null:void 0!==r?r:void Ke(Se(n))}const rr=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Jr={},Pr="__NG_DI_FLAG__",Sr="ngTempTokenPath",qr=/\n/gm,Ir="__source";let oi;function ar(n){const r=oi;return oi=n,r}function er(n,r=wn.Default){if(void 0===oi)throw new lt(-203,!1);return null===oi?Kr(n,void 0,r):oi.get(n,r&wn.Optional?null:void 0,r)}function gr(n,r=wn.Default){return(function ni(){return fr}()||er)(Te(n),r)}function zt(n,r=wn.Default){return gr(n,Sn(r))}function Sn(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function nr(n){const r=[];for(let s=0;s<n.length;s++){const d=Te(n[s]);if(Array.isArray(d)){if(0===d.length)throw new lt(900,!1);let p,y=wn.Default;for(let b=0;b<d.length;b++){const M=d[b],V=hr(M);"number"==typeof V?-1===V?p=M.token:y|=V:p=M}r.push(gr(p,y))}else r.push(gr(d))}return r}function Xn(n,r){return n[Pr]=r,n.prototype[Pr]=r,n}function hr(n){return n[Pr]}function ht(n){return{toString:n}.toString()}var Pt=(()=>((Pt=Pt||{})[Pt.OnPush=0]="OnPush",Pt[Pt.Default=1]="Default",Pt))(),Qn=(()=>{return(n=Qn||(Qn={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Qn;var n})();const br={},ur=[],$r=He({\u0275cmp:He}),Tt=He({\u0275dir:He}),it=He({\u0275pipe:He}),Z=He({\u0275mod:He}),pe=He({\u0275fac:He}),Ye=He({__NG_ELEMENT_ID__:He});let pt=0;function Lt(n){return ht(()=>{const s=!0===n.standalone,d={},p={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Pt.OnPush,directiveDefs:null,pipeDefs:null,standalone:s,dependencies:s&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||ur,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Qn.Emulated,id:"c"+pt++,styles:n.styles||ur,_:null,setInput:null,schemas:n.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},y=n.dependencies,b=n.features;return p.inputs=Dr(n.inputs,d),p.outputs=Dr(n.outputs),b&&b.forEach(M=>M(p)),p.directiveDefs=y?()=>("function"==typeof y?y():y).map(tn).filter(Cn):null,p.pipeDefs=y?()=>("function"==typeof y?y():y).map(Fr).filter(Cn):null,p})}function tn(n){return mr(n)||Er(n)}function Cn(n){return null!==n}function hn(n){return ht(()=>({type:n.type,bootstrap:n.bootstrap||ur,declarations:n.declarations||ur,imports:n.imports||ur,exports:n.exports||ur,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Rn(n,r){return ht(()=>{const s=pr(n,!0);s.declarations=r.declarations||ur,s.imports=r.imports||ur,s.exports=r.exports||ur})}function Dr(n,r){if(null==n)return br;const s={};for(const d in n)if(n.hasOwnProperty(d)){let p=n[d],y=p;Array.isArray(p)&&(y=p[1],p=p[0]),s[p]=d,r&&(r[p]=y)}return s}const Yr=Lt;function di(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function mr(n){return n[$r]||null}function Er(n){return n[Tt]||null}function Fr(n){return n[it]||null}function Si(n){const r=mr(n)||Er(n)||Fr(n);return null!==r&&r.standalone}function pr(n,r){const s=n[Z]||null;if(!s&&!0===r)throw new Error(`Type ${Se(n)} does not have '\u0275mod' property.`);return s}function ai(n){return Array.isArray(n)&&"object"==typeof n[1]}function xr(n){return Array.isArray(n)&&!0===n[1]}function ki(n){return 0!=(4&n.flags)}function ws(n){return n.componentOffset>-1}function Zi(n){return 1==(1&n.flags)}function Ai(n){return null!==n.template}function yi(n){return 0!=(256&n[2])}function is(n,r){return n.hasOwnProperty(pe)?n[pe]:null}class Oi{constructor(r,s,d){this.previousValue=r,this.currentValue=s,this.firstChange=d}isFirstChange(){return this.firstChange}}function qs(){return $i}function $i(n){return n.type.prototype.ngOnChanges&&(n.setInput=Ki),Ys}function Ys(){const n=ko(this),r=null==n?void 0:n.current;if(r){const s=n.previous;if(s===br)n.previous=r;else for(let d in r)s[d]=r[d];n.current=null,this.ngOnChanges(r)}}function Ki(n,r,s,d){const p=this.declaredInputs[s],y=ko(n)||function po(n,r){return n[la]=r}(n,{previous:br,current:null}),b=y.current||(y.current={}),M=y.previous,V=M[p];b[p]=new Oi(V&&V.currentValue,r,M===br),n[d]=r}qs.ngInherit=!0;const la="__ngSimpleChanges__";function ko(n){return n[la]||null}function Ei(n){for(;Array.isArray(n);)n=n[0];return n}function js(n,r){return Ei(r[n])}function Qi(n,r){return Ei(r[n.index])}function X(n,r){return n.data[r]}function w(n,r){return n[r]}function G(n,r){const s=r[n];return ai(s)?s:s[0]}function Ct(n){return 64==(64&n[2])}function F(n,r){return null==r?null:n[r]}function P(n){n[18]=0}function oe(n,r){n[5]+=r;let s=n,d=n[3];for(;null!==d&&(1===r&&1===s[5]||-1===r&&0===s[5]);)d[5]+=r,s=d,d=d[3]}const mt={lFrame:zo(null),bindingsEnabled:!0};function Hs(){return mt.bindingsEnabled}function on(){return mt.lFrame.lView}function li(){return mt.lFrame.tView}function ba(n){return mt.lFrame.contextLView=n,n[8]}function ca(n){return mt.lFrame.contextLView=null,n}function fs(){let n=yo();for(;null!==n&&64===n.type;)n=n.parent;return n}function yo(){return mt.lFrame.currentTNode}function Cs(n,r){const s=mt.lFrame;s.currentTNode=n,s.isParent=r}function da(){return mt.lFrame.isParent}function Ho(){mt.lFrame.isParent=!1}function es(){const n=mt.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function Zs(){return mt.lFrame.bindingIndex}function Os(){return mt.lFrame.bindingIndex++}function _o(n){const r=mt.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}function Sl(n,r){const s=mt.lFrame;s.bindingIndex=s.bindingRootIndex=n,ha(r)}function ha(n){mt.lFrame.currentDirectiveIndex=n}function Ps(){return mt.lFrame.currentQueryIndex}function Xs(n){mt.lFrame.currentQueryIndex=n}function du(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function hu(n,r,s){if(s&wn.SkipSelf){let p=r,y=n;for(;!(p=p.parent,null!==p||s&wn.Host||(p=du(y),null===p||(y=y[15],10&p.type))););if(null===p)return!1;r=p,n=y}const d=mt.lFrame=cl();return d.currentTNode=r,d.lView=n,!0}function fa(n){const r=cl(),s=n[1];mt.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function cl(){const n=mt.lFrame,r=null===n?null:n.child;return null===r?zo(n):r}function zo(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function ss(){const n=mt.lFrame;return mt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Gs=ss;function ja(){const n=ss();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ee(){return mt.lFrame.selectedIndex}function U(n){mt.lFrame.selectedIndex=n}function ce(){const n=mt.lFrame;return X(n.tView,n.selectedIndex)}function Gn(n,r){for(let s=r.directiveStart,d=r.directiveEnd;s<d;s++){const y=n.data[s].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:M,ngAfterViewInit:V,ngAfterViewChecked:Q,ngOnDestroy:_e}=y;b&&(n.contentHooks||(n.contentHooks=[])).push(-s,b),M&&((n.contentHooks||(n.contentHooks=[])).push(s,M),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,M)),V&&(n.viewHooks||(n.viewHooks=[])).push(-s,V),Q&&((n.viewHooks||(n.viewHooks=[])).push(s,Q),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,Q)),null!=_e&&(n.destroyHooks||(n.destroyHooks=[])).push(s,_e)}}function or(n,r,s){Pi(n,r,3,s)}function ri(n,r,s,d){(3&n[2])===s&&Pi(n,r,s,d)}function Ci(n,r){let s=n[2];(3&s)===r&&(s&=2047,s+=1,n[2]=s)}function Pi(n,r,s,d){const y=null!=d?d:-1,b=r.length-1;let M=0;for(let V=void 0!==d?65535&n[18]:0;V<b;V++)if("number"==typeof r[V+1]){if(M=r[V],null!=d&&M>=d)break}else r[V]<0&&(n[18]+=65536),(M<y||-1==y)&&(cn(n,s,r,V),n[18]=(4294901760&n[18])+V+2),V++}function cn(n,r,s,d){const p=s[d]<0,y=s[d+1],M=n[p?-s[d]:s[d]];if(p){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{y.call(M)}finally{}}}else try{y.call(M)}finally{}}class qi{constructor(r,s,d){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=d}}function dl(n,r,s){let d=0;for(;d<s.length;){const p=s[d];if("number"==typeof p){if(0!==p)break;d++;const y=s[d++],b=s[d++],M=s[d++];n.setAttribute(r,b,M,y)}else{const y=p,b=s[++d];No(y)?n.setProperty(r,y,b):n.setAttribute(r,y,b),d++}}return d}function $u(n){return 3===n||4===n||6===n}function No(n){return 64===n.charCodeAt(0)}function Ha(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let d=0;d<r.length;d++){const p=r[d];"number"==typeof p?s=p:0===s||Ta(n,s,p,null,-1===s||2===s?r[++d]:null)}}return n}function Ta(n,r,s,d,p){let y=0,b=n.length;if(-1===r)b=-1;else for(;y<n.length;){const M=n[y++];if("number"==typeof M){if(M===r){b=-1;break}if(M>r){b=y-1;break}}}for(;y<n.length;){const M=n[y];if("number"==typeof M)break;if(M===s){if(null===d)return void(null!==p&&(n[y+1]=p));if(d===n[y+1])return void(n[y+2]=p)}y++,null!==d&&y++,null!==p&&y++}-1!==b&&(n.splice(b,0,r),y=b+1),n.splice(y++,0,s),null!==d&&n.splice(y++,0,d),null!==p&&n.splice(y++,0,p)}function hl(n){return-1!==n}function Sa(n){return 32767&n}function Ko(n,r){let s=function Bu(n){return n>>16}(n),d=r;for(;s>0;)d=d[15],s--;return d}let Ul=!0;function fl(n){const r=Ul;return Ul=n,r}let Bi=0;const Ln={};function ei(n,r){const s=Di(n,r);if(-1!==s)return s;const d=r[1];d.firstCreatePass&&(n.injectorIndex=r.length,pl(d.data,n),pl(r,null),pl(d.blueprint,null));const p=$n(n,r),y=n.injectorIndex;if(hl(p)){const b=Sa(p),M=Ko(p,r),V=M[1].data;for(let Q=0;Q<8;Q++)r[y+Q]=M[b+Q]|V[b+Q]}return r[y+8]=p,y}function pl(n,r){n.push(0,0,0,0,0,0,0,0,r)}function Di(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function $n(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,d=null,p=r;for(;null!==p;){if(d=Zo(p),null===d)return-1;if(s++,p=p[15],-1!==d.injectorIndex)return d.injectorIndex|s<<16}return-1}function Ga(n,r,s){!function pa(n,r,s){let d;"string"==typeof s?d=s.charCodeAt(0)||0:s.hasOwnProperty(Ye)&&(d=s[Ye]),null==d&&(d=s[Ye]=Bi++);const p=255&d;r.data[n+(p>>5)]|=1<<p}(n,r,s)}function qo(n,r,s){if(s&wn.Optional||void 0!==n)return n;Ke()}function Vu(n,r,s,d){if(s&wn.Optional&&void 0===d&&(d=null),0==(s&(wn.Self|wn.Host))){const p=n[9],y=wr(void 0);try{return p?p.get(r,d,s&wn.Optional):Kr(r,d,s&wn.Optional)}finally{wr(y)}}return qo(d,0,s)}function uo(n,r,s,d=wn.Default,p){if(null!==n){if(1024&r[2]){const b=function Hl(n,r,s,d,p){let y=n,b=r;for(;null!==y&&null!==b&&1024&b[2]&&!(256&b[2]);){const M=Wa(y,b,s,d|wn.Self,Ln);if(M!==Ln)return M;let V=y.parent;if(!V){const Q=b[21];if(Q){const _e=Q.get(s,Ln,d);if(_e!==Ln)return _e}V=Zo(b),b=b[15]}y=V}return p}(n,r,s,d,Ln);if(b!==Ln)return b}const y=Wa(n,r,s,d,Ln);if(y!==Ln)return y}return Vu(r,s,d,p)}function Wa(n,r,s,d,p){const y=function vs(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(Ye)?n[Ye]:void 0;return"number"==typeof r?r>=0?255&r:Ka:r}(s);if("function"==typeof y){if(!hu(r,n,d))return d&wn.Host?qo(p,0,d):Vu(r,s,d,p);try{const b=y(d);if(null!=b||d&wn.Optional)return b;Ke()}finally{Gs()}}else if("number"==typeof y){let b=null,M=Di(n,r),V=-1,Q=d&wn.Host?r[16][6]:null;for((-1===M||d&wn.SkipSelf)&&(V=-1===M?$n(n,r):r[M+8],-1!==V&&Uu(d,!1)?(b=r[1],M=Sa(V),r=Ko(V,r)):M=-1);-1!==M;){const _e=r[1];if(gl(y,M,_e.data)){const Ge=Aa(M,r,s,b,d,Q);if(Ge!==Ln)return Ge}V=r[M+8],-1!==V&&Uu(d,r[1].data[M+8]===Q)&&gl(y,M,r)?(b=_e,M=Sa(V),r=Ko(V,r)):M=-1}}return p}function Aa(n,r,s,d,p,y){const b=r[1],M=b.data[n+8],_e=jl(M,b,s,null==d?ws(M)&&Ul:d!=b&&0!=(3&M.type),p&wn.Host&&y===M);return null!==_e?Yo(r,b,_e,M):Ln}function jl(n,r,s,d,p){const y=n.providerIndexes,b=r.data,M=1048575&y,V=n.directiveStart,_e=y>>20,Et=p?M+_e:n.directiveEnd;for(let Vt=d?M:M+_e;Vt<Et;Vt++){const ln=b[Vt];if(Vt<V&&s===ln||Vt>=V&&ln.type===s)return Vt}if(p){const Vt=b[V];if(Vt&&Ai(Vt)&&Vt.type===s)return V}return null}function Yo(n,r,s,d){let p=n[s];const y=r.data;if(function as(n){return n instanceof qi}(p)){const b=p;b.resolving&&function wt(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new lt(-200,`Circular dependency in DI detected for ${n}${s}`)}(function Ce(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ye(n)}(y[s]));const M=fl(b.canSeeViewProviders);b.resolving=!0;const V=b.injectImpl?wr(b.injectImpl):null;hu(n,d,wn.Default);try{p=n[s]=b.factory(void 0,y,n,d),r.firstCreatePass&&s>=d.directiveStart&&function ui(n,r,s){const{ngOnChanges:d,ngOnInit:p,ngDoCheck:y}=r.type.prototype;if(d){const b=$i(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,b),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,b)}p&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,p),y&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,y),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,y))}(s,y[s],r)}finally{null!==V&&wr(V),fl(M),b.resolving=!1,Gs()}}return p}function gl(n,r,s){return!!(s[r+(n>>5)]&1<<n)}function Uu(n,r){return!(n&wn.Self||n&wn.Host&&r)}class xa{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,d){return uo(this._tNode,this._lView,r,Sn(d),s)}}function Ka(){return new xa(fs(),on())}function fu(n){return ht(()=>{const r=n.prototype.constructor,s=r[pe]||jt(r),d=Object.prototype;let p=Object.getPrototypeOf(n.prototype).constructor;for(;p&&p!==d;){const y=p[pe]||jt(p);if(y&&y!==s)return y;p=Object.getPrototypeOf(p)}return y=>new y})}function jt(n){return ze(n)?()=>{const r=jt(Te(n));return r&&r()}:is(n)}function Zo(n){const r=n[1],s=r.type;return 2===s?r.declTNode:1===s?n[6]:null}function ju(n){return function za(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const d=s.length;let p=0;for(;p<d;){const y=s[p];if($u(y))break;if(0===y)p+=2;else if("number"==typeof y)for(p++;p<d&&"string"==typeof s[p];)p++;else{if(y===r)return s[p+1];p+=2}}}return null}(fs(),n)}const co="__parameters__";function qa(n,r,s){return ht(()=>{const d=function Qo(n){return function(...s){if(n){const d=n(...s);for(const p in d)this[p]=d[p]}}}(r);function p(...y){if(this instanceof p)return d.apply(this,y),this;const b=new p(...y);return M.annotation=b,M;function M(V,Q,_e){const Ge=V.hasOwnProperty(co)?V[co]:Object.defineProperty(V,co,{value:[]})[co];for(;Ge.length<=_e;)Ge.push(null);return(Ge[_e]=Ge[_e]||[]).push(b),V}}return s&&(p.prototype=Object.create(s.prototype)),p.prototype.ngMetadataName=n,p.annotationCls=p,p})}class zr{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=At({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function je(n,r){void 0===r&&(r=n);for(let s=0;s<n.length;s++){let d=n[s];Array.isArray(d)?(r===n&&(r=n.slice(0,s)),je(d,r)):r!==n&&r.push(d)}return r}function Qe(n,r){n.forEach(s=>Array.isArray(s)?Qe(s,r):r(s))}function kt(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function pn(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function Wn(n,r){const s=[];for(let d=0;d<n;d++)s.push(r);return s}function Mi(n,r,s){let d=Lo(n,r);return d>=0?n[1|d]=s:(d=~d,function Qr(n,r,s,d){let p=n.length;if(p==r)n.push(s,d);else if(1===p)n.push(d,n[0]),n[0]=s;else{for(p--,n.push(n[p-1],n[p]);p>r;)n[p]=n[p-2],p--;n[r]=s,n[r+1]=d}}(n,d,r,s)),d}function wo(n,r){const s=Lo(n,r);if(s>=0)return n[1|s]}function Lo(n,r){return function ql(n,r,s){let d=0,p=n.length>>s;for(;p!==d;){const y=d+(p-d>>1),b=n[y<<s];if(r===b)return y<<s;b>r?p=y:d=y+1}return~(p<<s)}(n,r,1)}const _r=Xn(qa("Optional"),8),Nn=Xn(qa("SkipSelf"),4);var Ja=(()=>((Ja=Ja||{})[Ja.Important=1]="Important",Ja[Ja.DashCase=2]="DashCase",Ja))();const Bc=new Map;let Vc=0;const ic="__ngContext__";function ks(n,r){ai(r)?(n[ic]=r[20],function Tf(n){Bc.set(n[20],n)}(r)):n[ic]=r}function el(n,r){return undefined(n,r)}function vl(n){const r=n[3];return xr(r)?r[3]:r}function xh(n){return ac(n[13])}function _u(n){return ac(n[4])}function ac(n){for(;null!==n&&!xr(n);)n=n[4];return n}function ya(n,r,s,d,p){if(null!=d){let y,b=!1;xr(d)?y=d:ai(d)&&(b=!0,d=d[0]);const M=Ei(d);0===n&&null!==s?null==p?Gu(r,s,M):wl(r,s,M,p||null,!0):1===n&&null!==s?wl(r,s,M,p||null,!0):2===n?function Wc(n,r,s){const d=kd(n,r);d&&function Pd(n,r,s,d){n.removeChild(r,s,d)}(n,d,r,s)}(r,M,b):3===n&&r.destroyNode(M),null!=y&&function Il(n,r,s,d,p){const y=s[7];y!==Ei(s)&&ya(r,n,d,y,p);for(let M=10;M<s.length;M++){const V=s[M];Cu(V[1],V,n,r,d,y)}}(r,n,y,s,p)}}function Od(n,r,s){return n.createElement(r,s)}function Hc(n,r){const s=n[9],d=s.indexOf(r),p=r[3];512&r[2]&&(r[2]&=-513,oe(p,-1)),s.splice(d,1)}function _l(n,r){if(n.length<=10)return;const s=10+r,d=n[s];if(d){const p=d[17];null!==p&&p!==n&&Hc(p,d),r>0&&(n[s-1][4]=d[4]);const y=pn(n,10+r);!function Eu(n,r){Cu(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(d[1],d);const b=y[19];null!==b&&b.detachView(y[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function ta(n,r){if(!(128&r[2])){const s=r[11];s.destroyNode&&Cu(n,r,s,3,null,null),function eo(n){let r=n[13];if(!r)return to(n[1],n);for(;r;){let s=null;if(ai(r))s=r[13];else{const d=r[10];d&&(s=d)}if(!s){for(;r&&!r[4]&&r!==n;)ai(r)&&to(r[1],r),r=r[3];null===r&&(r=n),ai(r)&&to(r[1],r),s=r&&r[4]}r=s}}(r)}}function to(n,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function Ml(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let d=0;d<s.length;d+=2){const p=r[s[d]];if(!(p instanceof qi)){const y=s[d+1];if(Array.isArray(y))for(let b=0;b<y.length;b+=2){const M=p[y[b]],V=y[b+1];try{V.call(M)}finally{}}else try{y.call(p)}finally{}}}}(n,r),function El(n,r){const s=n.cleanup,d=r[7];let p=-1;if(null!==s)for(let y=0;y<s.length-1;y+=2)if("string"==typeof s[y]){const b=s[y+1],M="function"==typeof b?b(r):Ei(r[b]),V=d[p=s[y+2]],Q=s[y+3];"boolean"==typeof Q?M.removeEventListener(s[y],V,Q):Q>=0?d[p=Q]():d[p=-Q].unsubscribe(),y+=2}else{const b=d[p=s[y+1]];s[y].call(b)}if(null!==d){for(let y=p+1;y<d.length;y++)(0,d[y])();r[7]=null}}(n,r),1===r[1].type&&r[11].destroy();const s=r[17];if(null!==s&&xr(r[3])){s!==r[3]&&Hc(s,r);const d=r[19];null!==d&&d.detachView(n)}!function jc(n){Bc.delete(n[20])}(r)}}function na(n,r,s){return function xo(n,r,s){let d=r;for(;null!==d&&40&d.type;)d=(r=d).parent;if(null===d)return s[0];{const{componentOffset:p}=d;if(p>-1){const{encapsulation:y}=n.data[d.directiveStart+p];if(y===Qn.None||y===Qn.Emulated)return null}return Qi(d,s)}}(n,r.parent,s)}function wl(n,r,s,d,p){n.insertBefore(r,s,d,p)}function Gu(n,r,s){n.appendChild(r,s)}function no(n,r,s,d,p){null!==d?wl(n,r,s,d,p):Gu(n,r,s)}function kd(n,r){return n.parentNode(r)}function Iu(n,r,s){return dc(n,r,s)}let _,De,dc=function cc(n,r,s){return 40&n.type?Qi(n,s):null};function ru(n,r,s,d){const p=na(n,d,r),y=r[11],M=Iu(d.parent||r[6],d,r);if(null!=p)if(Array.isArray(s))for(let V=0;V<s.length;V++)no(y,p,s[V],M,!1);else no(y,p,s,M,!1)}function bu(n,r){if(null!==r){const s=r.type;if(3&s)return Qi(r,n);if(4&s)return zc(-1,n[r.index]);if(8&s){const d=r.child;if(null!==d)return bu(n,d);{const p=n[r.index];return xr(p)?zc(-1,p):Ei(p)}}if(32&s)return el(r,n)()||Ei(n[r.index]);{const d=Gc(n,r);return null!==d?Array.isArray(d)?d[0]:bu(vl(n[16]),d):bu(n,r.next)}}return null}function Gc(n,r){return null!==r?n[16][6].projection[r.projection]:null}function zc(n,r){const s=10+n+1;if(s<r.length){const d=r[s],p=d[1].firstChild;if(null!==p)return bu(d,p)}return r[7]}function Mo(n,r,s,d,p,y,b){for(;null!=s;){const M=d[s.index],V=s.type;if(b&&0===r&&(M&&ks(Ei(M),d),s.flags|=2),32!=(32&s.flags))if(8&V)Mo(n,r,s.child,d,p,y,!1),ya(r,n,p,M,y);else if(32&V){const Q=el(s,d);let _e;for(;_e=Q();)ya(r,n,p,_e,y);ya(r,n,p,M,y)}else 16&V?Ro(n,r,d,s,p,y):ya(r,n,p,M,y);s=b?s.projectionNext:s.next}}function Cu(n,r,s,d,p,y){Mo(s,d,n.firstChild,r,p,y,!1)}function Ro(n,r,s,d,p,y){const b=s[16],V=b[6].projection[d.projection];if(Array.isArray(V))for(let Q=0;Q<V.length;Q++)ya(r,n,p,V[Q],y);else Mo(n,r,V,b[3],p,y,!0)}function qc(n,r,s){""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s)}function Ld(n,r,s){const{mergedAttrs:d,classes:p,styles:y}=s;null!==d&&dl(n,r,d),null!==p&&qc(n,r,p),null!==y&&function Ns(n,r,s){n.setAttribute(r,"style",s)}(n,r,y)}function x(n){_=n}function cr(n){var r;return(null===(r=function It(){if(void 0===De&&(De=null,rr.trustedTypes))try{De=rr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return De}())||void 0===r?void 0:r.createScriptURL(n))||n}class Lr{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ra(n){return n instanceof Lr?n.changingThisBreaksApplicationSecurity:n}function nl(n,r){const s=function Ph(n){return n instanceof Lr&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}const hy=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var io=(()=>((io=io||{})[io.NONE=0]="NONE",io[io.HTML=1]="HTML",io[io.STYLE=2]="STYLE",io[io.SCRIPT=3]="SCRIPT",io[io.URL=4]="URL",io[io.RESOURCE_URL=5]="RESOURCE_URL",io))();function Nf(n){const r=Jc();return r?r.sanitize(io.URL,n)||"":nl(n,"URL")?ra(n):function Fp(n){return(n=String(n)).match(hy)?n:"unsafe:"+n}(ye(n))}function Ff(n){const r=Jc();if(r)return cr(r.sanitize(io.RESOURCE_URL,n)||"");if(nl(n,"ResourceURL"))return cr(ra(n));throw new lt(904,!1)}function Qc(n,r,s){return function gc(n,r){return"src"===r&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===r&&("base"===n||"link"===n)?Ff:Nf}(r,s)(n)}function Jc(){const n=on();return n&&n[12]}const $h=new zr("ENVIRONMENT_INITIALIZER"),Vp=new zr("INJECTOR",-1),tm=new zr("INJECTOR_DEF_TYPES");class $f{get(r,s=Jr){if(s===Jr){const d=new Error(`NullInjectorError: No provider for ${Se(r)}!`);throw d.name="NullInjectorError",d}return s}}function Up(n){return{\u0275providers:n}}function Bh(...n){return{\u0275providers:Bd(0,n),\u0275fromNgModule:!0}}function Bd(n,...r){const s=[],d=new Set;let p;return Qe(r,y=>{const b=y;jp(b,s,[],d)&&(p||(p=[]),p.push(b))}),void 0!==p&&mc(p,s),s}function mc(n,r){for(let s=0;s<n.length;s++){const{providers:p}=n[s];Hp(p,y=>{r.push(y)})}}function jp(n,r,s,d){if(!(n=Te(n)))return!1;let p=null,y=rn(n);const b=!y&&mr(n);if(y||b){if(b&&!b.standalone)return!1;p=n}else{const V=n.ngModule;if(y=rn(V),!y)return!1;p=V}const M=d.has(p);if(b){if(M)return!1;if(d.add(p),b.dependencies){const V="function"==typeof b.dependencies?b.dependencies():b.dependencies;for(const Q of V)jp(Q,r,s,d)}}else{if(!y)return!1;{if(null!=y.imports&&!M){let Q;d.add(p);try{Qe(y.imports,_e=>{jp(_e,r,s,d)&&(Q||(Q=[]),Q.push(_e))})}finally{}void 0!==Q&&mc(Q,r)}if(!M){const Q=is(p)||(()=>new p);r.push({provide:p,useFactory:Q,deps:ur},{provide:tm,useValue:p,multi:!0},{provide:$h,useValue:()=>gr(p),multi:!0})}const V=y.providers;null==V||M||Hp(V,_e=>{r.push(_e)})}}return p!==n&&void 0!==n.providers}function Hp(n,r){for(let s of n)Xe(s)&&(s=s.\u0275providers),Array.isArray(s)?Hp(s,r):r(s)}const gy=He({provide:String,useValue:He});function Bf(n){return null!==n&&"object"==typeof n&&gy in n}function rl(n){return"function"==typeof n}const Gp=new zr("Set Injector scope."),Ud={},my={};let vc;function jd(){return void 0===vc&&(vc=new $f),vc}class qu{}class Vh extends qu{constructor(r,s,d,p){super(),this.parent=s,this.source=d,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ed(r,b=>this.processProvider(b)),this.records.set(Vp,Du(void 0,this)),p.has("environment")&&this.records.set(qu,Du(void 0,this));const y=this.records.get(Gp);null!=y&&"string"==typeof y.value&&this.scopes.add(y.value),this.injectorDefTypes=new Set(this.get(tm.multi,ur,wn.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const s=ar(this),d=wr(void 0);try{return r()}finally{ar(s),wr(d)}}get(r,s=Jr,d=wn.Default){this.assertNotDestroyed(),d=Sn(d);const p=ar(this),y=wr(void 0);try{if(!(d&wn.SkipSelf)){let M=this.records.get(r);if(void 0===M){const V=function sm(n){return"function"==typeof n||"object"==typeof n&&n instanceof zr}(r)&&Ht(r);M=V&&this.injectableDefInScope(V)?Du(Uh(r),Ud):null,this.records.set(r,M)}if(null!=M)return this.hydrate(r,M)}return(d&wn.Self?jd():this.parent).get(r,s=d&wn.Optional&&s===Jr?null:s)}catch(b){if("NullInjectorError"===b.name){if((b[Sr]=b[Sr]||[]).unshift(Se(r)),p)throw b;return function ot(n,r,s,d){const p=n[Sr];throw r[Ir]&&p.unshift(r[Ir]),n.message=function Ze(n,r,s,d=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let p=Se(r);if(Array.isArray(r))p=r.map(Se).join(" -> ");else if("object"==typeof r){let y=[];for(let b in r)if(r.hasOwnProperty(b)){let M=r[b];y.push(b+":"+("string"==typeof M?JSON.stringify(M):Se(M)))}p=`{${y.join(", ")}}`}return`${s}${d?"("+d+")":""}[${p}]: ${n.replace(qr,"\n  ")}`}("\n"+n.message,p,s,d),n.ngTokenPath=p,n[Sr]=null,n}(b,r,"R3InjectorError",this.source)}throw b}finally{wr(y),ar(p)}}resolveInjectorInitializers(){const r=ar(this),s=wr(void 0);try{const d=this.get($h.multi,ur,wn.Self);for(const p of d)p()}finally{ar(r),wr(s)}}toString(){const r=[],s=this.records;for(const d of s.keys())r.push(Se(d));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new lt(205,!1)}processProvider(r){let s=rl(r=Te(r))?r:Te(r&&r.provide);const d=function Vf(n){return Bf(n)?Du(void 0,n.useValue):Du(Fs(n),Ud)}(r);if(rl(r)||!0!==r.multi)this.records.get(s);else{let p=this.records.get(s);p||(p=Du(void 0,Ud,!0),p.factory=()=>nr(p.multi),this.records.set(s,p)),s=r,p.multi.push(r)}this.records.set(s,d)}hydrate(r,s){return s.value===Ud&&(s.value=my,s.value=s.factory()),"object"==typeof s.value&&s.value&&function yy(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=Te(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function Uh(n){const r=Ht(n),s=null!==r?r.factory:is(n);if(null!==s)return s;if(n instanceof zr)throw new lt(204,!1);if(n instanceof Function)return function im(n){const r=n.length;if(r>0)throw Wn(r,"?"),new lt(204,!1);const s=function Pn(n){const r=n&&(n[En]||n[Or]);if(r){const s=function Fn(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new lt(204,!1)}function Fs(n,r,s){let d;if(rl(n)){const p=Te(n);return is(p)||Uh(p)}if(Bf(n))d=()=>Te(n.useValue);else if(function yc(n){return!(!n||!n.useFactory)}(n))d=()=>n.useFactory(...nr(n.deps||[]));else if(function Vd(n){return!(!n||!n.useExisting)}(n))d=()=>gr(Te(n.useExisting));else{const p=Te(n&&(n.useClass||n.provide));if(!function Hd(n){return!!n.deps}(n))return is(p)||Uh(p);d=()=>new p(...nr(n.deps))}return d}function Du(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function ed(n,r){for(const s of n)Array.isArray(s)?ed(s,r):s&&Xe(s)?ed(s.\u0275providers,r):r(s)}class Uf{}class Gd{}class om{resolveComponentFactory(r){throw function zp(n){const r=Error(`No component factory found for ${Se(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let _c=(()=>{class n{}return n.NULL=new om,n})();function jh(){return td(fs(),on())}function td(n,r){return new Ol(Qi(n,r))}let Ol=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=jh,n})();function zd(n){return n instanceof Ol?n.nativeElement:n}class Yu{}let am=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Tu(){const n=on(),s=G(fs().index,n);return(ai(s)?s:n)[11]}(),n})(),Kd=(()=>{class n{}return n.\u0275prov=At({token:n,providedIn:"root",factory:()=>null}),n})();class Ls{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Wp=new Ls("15.0.0"),Kp={};function Yp(n){return n.ngOriginalError}class Ec{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Yp(r);for(;s&&Yp(s);)s=Yp(s);return s||null}}function Au(n){return n instanceof Function?n():n}function cm(n,r,s){let d=n.length;for(;;){const p=n.indexOf(r,s);if(-1===p)return p;if(0===p||n.charCodeAt(p-1)<=32){const y=r.length;if(p+y===d||n.charCodeAt(p+y)<=32)return p}s=p+1}}const dm="ng-template";function _y(n,r,s){let d=0;for(;d<n.length;){let p=n[d++];if(s&&"class"===p){if(p=n[d],-1!==cm(p.toLowerCase(),r,0))return!0}else if(1===p){for(;d<n.length&&"string"==typeof(p=n[d++]);)if(p.toLowerCase()===r)return!0;return!1}}return!1}function ka(n){return 4===n.type&&n.value!==dm}function Xp(n,r,s){return r===(4!==n.type||s?n.value:dm)}function qd(n,r,s){let d=4;const p=n.attrs||[],y=function zh(n){for(let r=0;r<n.length;r++)if($u(n[r]))return r;return n.length}(p);let b=!1;for(let M=0;M<r.length;M++){const V=r[M];if("number"!=typeof V){if(!b)if(4&d){if(d=2|1&d,""!==V&&!Xp(n,V,s)||""===V&&1===r.length){if(kl(d))return!1;b=!0}}else{const Q=8&d?V:r[++M];if(8&d&&null!==n.attrs){if(!_y(n.attrs,Q,s)){if(kl(d))return!1;b=!0}continue}const Ge=hm(8&d?"class":V,p,ka(n),s);if(-1===Ge){if(kl(d))return!1;b=!0;continue}if(""!==Q){let Et;Et=Ge>y?"":p[Ge+1].toLowerCase();const Vt=8&d?Et:null;if(Vt&&-1!==cm(Vt,Q,0)||2&d&&Q!==Et){if(kl(d))return!1;b=!0}}}}else{if(!b&&!kl(d)&&!kl(V))return!1;if(b&&kl(V))continue;b=!1,d=V|1&d}}return kl(d)||b}function kl(n){return 0==(1&n)}function hm(n,r,s,d){if(null===r)return-1;let p=0;if(d||!s){let y=!1;for(;p<r.length;){const b=r[p];if(b===n)return p;if(3===b||6===b)y=!0;else{if(1===b||2===b){let M=r[++p];for(;"string"==typeof M;)M=r[++p];continue}if(4===b)break;if(0===b){p+=4;continue}}p+=y?1:2}return-1}return function Kf(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const d=n[s];if("number"==typeof d)return-1;if(d===r)return s;s++}return-1}(r,n)}function Gh(n,r,s=!1){for(let d=0;d<r.length;d++)if(qd(n,r[d],s))return!0;return!1}function Qp(n,r){e:for(let s=0;s<r.length;s++){const d=r[s];if(n.length===d.length){for(let p=0;p<n.length;p++)if(n[p]!==d[p])continue e;return!0}}return!1}function Tl(n,r){return n?":not("+r.trim()+")":r}function qf(n){let r=n[0],s=1,d=2,p="",y=!1;for(;s<n.length;){let b=n[s];if("string"==typeof b)if(2&d){const M=n[++s];p+="["+b+(M.length>0?'="'+M+'"':"")+"]"}else 8&d?p+="."+b:4&d&&(p+=" "+b);else""!==p&&!kl(b)&&(r+=Tl(y,p),p=""),d=b,y=y||!kl(d);s++}return""!==p&&(r+=Tl(y,p)),r}const si={};function Yf(n){_a(li(),on(),ee()+n,!1)}function _a(n,r,s,d){if(!d)if(3==(3&r[2])){const y=n.preOrderCheckHooks;null!==y&&or(r,y,s)}else{const y=n.preOrderHooks;null!==y&&ri(r,y,0,s)}U(s)}function Zf(n,r=null,s=null,d){const p=eg(n,r,s,d);return p.resolveInjectorInitializers(),p}function eg(n,r=null,s=null,d,p=new Set){const y=[s||ur,Bh(n)];return d=d||("object"==typeof n?void 0:Se(n)),new Vh(y,r||jd(),d||null,p)}let nd=(()=>{class n{static create(s,d){if(Array.isArray(s))return Zf({name:""},d,s,"");{var p;const y=null!==(p=s.name)&&void 0!==p?p:"";return Zf({name:y},s.parent,s.providers,y)}}}return n.THROW_IF_NOT_FOUND=Jr,n.NULL=new $f,n.\u0275prov=At({token:n,providedIn:"any",factory:()=>gr(Vp)}),n.__NG_ELEMENT_ID__=-1,n})();function Sc(n,r=wn.Default){const s=on();return null===s?gr(n,r):uo(fs(),s,Te(n),r)}function sd(){throw new Error("invalid")}function od(n,r){return n<<17|r<<2}function Ea(n){return n>>17&32767}function qh(n){return 2|n}function Ll(n){return(131068&n)>>2}function su(n,r){return-131069&n|r<<2}function ug(n){return 1|n}function Om(n,r){const s=n.contentQueries;if(null!==s)for(let d=0;d<s.length;d+=2){const p=s[d],y=s[d+1];if(-1!==y){const b=n.data[y];Xs(p),b.contentQueries(2,r[y],y)}}}function nf(n,r,s,d,p,y,b,M,V,Q,_e){const Ge=r.blueprint.slice();return Ge[0]=p,Ge[2]=76|d,(null!==_e||n&&1024&n[2])&&(Ge[2]|=1024),P(Ge),Ge[3]=Ge[15]=n,Ge[8]=s,Ge[10]=b||n&&n[10],Ge[11]=M||n&&n[11],Ge[12]=V||n&&n[12]||null,Ge[9]=Q||n&&n[9]||null,Ge[6]=y,Ge[20]=function Uc(){return Vc++}(),Ge[21]=_e,Ge[16]=2==r.type?n[16]:Ge,Ge}function cd(n,r,s,d,p){let y=n.data[r];if(null===y)y=function rf(n,r,s,d,p){const y=yo(),b=da(),V=n.data[r]=function Nm(n,r,s,d,p,y){return{type:s,index:d,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?y:y&&y.parent,s,r,d,p);return null===n.firstChild&&(n.firstChild=V),null!==y&&(b?null==y.child&&null!==V.parent&&(y.child=V):null===y.next&&(y.next=V)),V}(n,r,s,d,p),function ul(){return mt.lFrame.inI18n}()&&(y.flags|=32);else if(64&y.type){y.type=s,y.value=d,y.attrs=p;const b=function vo(){const n=mt.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();y.injectorIndex=null===b?-1:b.injectorIndex}return Cs(y,!0),y}function Zu(n,r,s,d){if(0===s)return-1;const p=r.length;for(let y=0;y<s;y++)r.push(d),n.blueprint.push(d),n.data.push(null);return p}function vg(n,r,s){fa(r);try{const d=n.viewQuery;null!==d&&pp(1,d,s);const p=n.template;null!==p&&km(n,r,p,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Om(n,r),n.staticViewQueries&&pp(2,n.viewQuery,s);const y=n.components;null!==y&&function Ay(n,r){for(let s=0;s<r.length;s++)Um(n,r[s])}(r,y)}catch(d){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),d}finally{r[2]&=-5,ja()}}function op(n,r,s,d){const p=r[2];if(128!=(128&p)){fa(r);try{P(r),function Da(n){return mt.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&km(n,r,s,2,d);const b=3==(3&p);if(b){const Q=n.preOrderCheckHooks;null!==Q&&or(r,Q,null)}else{const Q=n.preOrderHooks;null!==Q&&ri(r,Q,0,null),Ci(r,0)}if(function hp(n){for(let r=xh(n);null!==r;r=_u(r)){if(!r[2])continue;const s=r[9];for(let d=0;d<s.length;d++){const p=s[d],y=p[3];0==(512&p[2])&&oe(y,1),p[2]|=512}}}(r),function Bm(n){for(let r=xh(n);null!==r;r=_u(r))for(let s=10;s<r.length;s++){const d=r[s],p=d[1];Ct(d)&&op(p,d,p.template,d[8])}}(r),null!==n.contentQueries&&Om(n,r),b){const Q=n.contentCheckHooks;null!==Q&&or(r,Q)}else{const Q=n.contentHooks;null!==Q&&ri(r,Q,1),Ci(r,1)}!function yg(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let d=0;d<s.length;d++){const p=s[d];if(p<0)U(~p);else{const y=p,b=s[++d],M=s[++d];Sl(b,y),M(2,r[y])}}}finally{U(-1)}}(n,r);const M=n.components;null!==M&&function Pm(n,r){for(let s=0;s<r.length;s++)Vm(n,r[s])}(r,M);const V=n.viewQuery;if(null!==V&&pp(2,V,d),b){const Q=n.viewCheckHooks;null!==Q&&or(r,Q)}else{const Q=n.viewHooks;null!==Q&&ri(r,Q,2),Ci(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,oe(r[3],-1))}finally{ja()}}}function km(n,r,s,d,p){const y=ee(),b=2&d;try{U(-1),b&&r.length>22&&_a(n,r,22,!1),s(d,p)}finally{U(y)}}function _g(n,r,s){if(ki(r)){const p=r.directiveEnd;for(let y=r.directiveStart;y<p;y++){const b=n.data[y];b.contentQueries&&b.contentQueries(1,s[y],y)}}}function sf(n,r,s){!Hs()||(function Xu(n,r,s,d){const p=s.directiveStart,y=s.directiveEnd;n.firstCreatePass||ei(s,r),ks(d,r);const b=s.initialInputs;for(let M=p;M<y;M++){const V=n.data[M],Q=Ai(V);Q&&lf(r,s,V);const _e=Yo(r,n,M,s);ks(_e,r),null!==b&&Tg(0,M-p,_e,V,0,b),Q&&(G(s.index,r)[8]=_e)}}(n,r,s,Qi(s,r)),64==(64&s.flags)&&Ru(n,r,s))}function ap(n,r,s=Qi){const d=r.localNames;if(null!==d){let p=r.index+1;for(let y=0;y<d.length;y+=2){const b=d[y+1],M=-1===b?s(r,n):n[b];n[p++]=M}}}function lp(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Eg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Eg(n,r,s,d,p,y,b,M,V,Q){const _e=22+d,Ge=_e+p,Et=function wg(n,r){const s=[];for(let d=0;d<r;d++)s.push(d<n?null:si);return s}(_e,Ge),Vt="function"==typeof Q?Q():Q;return Et[1]={type:n,blueprint:Et,template:s,queries:null,viewQuery:M,declTNode:r,data:Et.slice().fill(null,_e),bindingStartIndex:_e,expandoStartIndex:Ge,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:V,consts:Vt,incompleteFirstPass:!1}}function dd(n,r,s,d){const p=Ny(r);null===s?p.push(d):(p.push(s),n.firstCreatePass&&jm(n).push(d,p.length-1))}function Ac(n,r,s,d){for(let p in n)if(n.hasOwnProperty(p)){s=null===s?{}:s;const y=n[p];null===d?Ig(s,r,p,y):d.hasOwnProperty(p)&&Ig(s,r,d[p],y)}return s}function Ig(n,r,s,d){n.hasOwnProperty(s)?n[s].push(r,d):n[s]=[r,d]}function Fa(n,r,s,d,p,y,b,M){const V=Qi(r,s);let _e,Q=r.inputs;!M&&null!=Q&&(_e=Q[d])?(uh(n,s,_e,d,p),ws(r)&&$l(s,r.index)):3&r.type&&(d=function sh(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(d),p=null!=b?b(p,r.value||"",d):p,y.setProperty(V,d,p))}function $l(n,r){const s=G(r,n);16&s[2]||(s[2]|=32)}function bg(n,r,s,d){let p=!1;if(Hs()){const y=null===d?null:{"":-1},b=function Ry(n,r){const s=n.directiveRegistry;let d=null,p=null;if(s)for(let b=0;b<s.length;b++){const M=s[b];if(Gh(r,M.selectors,!1))if(d||(d=[]),Ai(M))if(null!==M.findHostDirectiveDefs){const V=[];p=p||new Map,M.findHostDirectiveDefs(M,V,p),d.unshift(...V,M),af(n,r,V.length)}else d.unshift(M),af(n,r,0);else{var y;p=p||new Map,null===(y=M.findHostDirectiveDefs)||void 0===y||y.call(M,M,d,p),d.push(M)}}return null===d?null:[d,p]}(n,s);let M,V;null===b?M=V=null:[M,V]=b,null!==M&&(p=!0,up(n,r,s,M,y,V)),y&&function Ou(n,r,s){if(r){const d=n.localNames=[];for(let p=0;p<r.length;p+=2){const y=s[r[p+1]];if(null==y)throw new lt(-301,!1);d.push(r[p],y)}}}(s,d,y)}return s.mergedAttrs=Ha(s.mergedAttrs,s.attrs),p}function up(n,r,s,d,p,y){for(let Q=0;Q<d.length;Q++)Ga(ei(s,r),n,d[Q].type);!function $m(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}(s,n.data.length,d.length);for(let Q=0;Q<d.length;Q++){const _e=d[Q];_e.providersResolver&&_e.providersResolver(_e)}let b=!1,M=!1,V=Zu(n,r,d.length,null);for(let Q=0;Q<d.length;Q++){const _e=d[Q];s.mergedAttrs=Ha(s.mergedAttrs,_e.hostAttrs),Dg(n,s,r,V,_e),dp(V,_e,p),null!==_e.contentQueries&&(s.flags|=4),(null!==_e.hostBindings||null!==_e.hostAttrs||0!==_e.hostVars)&&(s.flags|=64);const Ge=_e.type.prototype;!b&&(Ge.ngOnChanges||Ge.ngOnInit||Ge.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),b=!0),!M&&(Ge.ngOnChanges||Ge.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),M=!0),V++}!function My(n,r,s){const p=r.directiveEnd,y=n.data,b=r.attrs,M=[];let V=null,Q=null;for(let _e=r.directiveStart;_e<p;_e++){const Ge=y[_e],Et=s?s.get(Ge):null,ln=Et?Et.outputs:null;V=Ac(Ge.inputs,_e,V,Et?Et.inputs:null),Q=Ac(Ge.outputs,_e,Q,ln);const On=null===V||null===b||ka(r)?null:oh(V,_e,b);M.push(On)}null!==V&&(V.hasOwnProperty("class")&&(r.flags|=8),V.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=M,r.inputs=V,r.outputs=Q}(n,s,y)}function Ru(n,r,s){const d=s.directiveStart,p=s.directiveEnd,y=s.index,b=function Ua(){return mt.lFrame.currentDirectiveIndex}();try{U(y);for(let M=d;M<p;M++){const V=n.data[M],Q=r[M];ha(M),(null!==V.hostBindings||0!==V.hostVars||null!==V.hostAttrs)&&Lm(V,Q)}}finally{U(-1),ha(b)}}function Lm(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function af(n,r,s){r.componentOffset=s,(n.components||(n.components=[])).push(r.index)}function dp(n,r,s){if(s){if(r.exportAs)for(let d=0;d<r.exportAs.length;d++)s[r.exportAs[d]]=n;Ai(r)&&(s[""]=n)}}function Dg(n,r,s,d,p){n.data[d]=p;const y=p.factory||(p.factory=is(p.type)),b=new qi(y,Ai(p),Sc);n.blueprint[d]=b,s[d]=b,function Cg(n,r,s,d,p){const y=p.hostBindings;if(y){let b=n.hostBindingOpCodes;null===b&&(b=n.hostBindingOpCodes=[]);const M=~r.index;(function cp(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(b)!=M&&b.push(M),b.push(s,d,y)}}(n,r,d,Zu(n,s,p.hostVars,si),p)}function lf(n,r,s){const d=Qi(r,n),p=lp(s),y=n[10],b=fp(n,nf(n,p,null,s.onPush?32:16,d,r,y,y.createRenderer(d,s),null,null,null));n[r.index]=b}function us(n,r,s,d,p,y){const b=Qi(n,r);!function hd(n,r,s,d,p,y,b){if(null==y)n.removeAttribute(r,p,s);else{const M=null==b?ye(y):b(y,d||"",p);n.setAttribute(r,p,M,s)}}(r[11],b,y,n.value,s,d,p)}function Tg(n,r,s,d,p,y){const b=y[r];if(null!==b){const M=d.setInput;for(let V=0;V<b.length;){const Q=b[V++],_e=b[V++],Ge=b[V++];null!==M?d.setInput(s,Ge,Q,_e):s[_e]=Ge}}}function oh(n,r,s){let d=null,p=0;for(;p<s.length;){const y=s[p];if(0!==y)if(5!==y){if("number"==typeof y)break;if(n.hasOwnProperty(y)){null===d&&(d=[]);const b=n[y];for(let M=0;M<b.length;M+=2)if(b[M]===r){d.push(y,b[M+1],s[p+1]);break}}p+=2}else p+=2;else p+=4}return d}function ah(n,r,s,d){return new Array(n,!0,!1,r,null,0,d,s,null,null)}function Vm(n,r){const s=G(r,n);if(Ct(s)){const d=s[1];48&s[2]?op(d,s,d.template,s[8]):s[5]>0&&uf(s)}}function uf(n){for(let d=xh(n);null!==d;d=_u(d))for(let p=10;p<d.length;p++){const y=d[p];if(Ct(y))if(512&y[2]){const b=y[1];op(b,y,b.template,y[8])}else y[5]>0&&uf(y)}const s=n[1].components;if(null!==s)for(let d=0;d<s.length;d++){const p=G(s[d],n);Ct(p)&&p[5]>0&&uf(p)}}function Um(n,r){const s=G(r,n),d=s[1];(function cf(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(d,s),vg(d,s,s[8])}function fp(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function lh(n){for(;n;){n[2]|=32;const r=vl(n);if(yi(n)&&!r)return n;n=r}return null}function Sg(n,r,s,d=!0){const p=r[10];p.begin&&p.begin();try{op(n,r,n.template,s)}catch(b){throw d&&Hm(r,b),b}finally{p.end&&p.end()}}function pp(n,r,s){Xs(0),r(n,s)}function Ny(n){return n[7]||(n[7]=[])}function jm(n){return n.cleanup||(n.cleanup=[])}function Hm(n,r){const s=n[9],d=s?s.get(Ec,null):null;d&&d.handleError(r)}function uh(n,r,s,d,p){for(let y=0;y<s.length;){const b=s[y++],M=s[y++],V=r[b],Q=n.data[b];null!==Q.setInput?Q.setInput(V,p,d,M):V[M]=p}}function ou(n,r,s){const d=js(r,n);!function lc(n,r,s){n.setValue(r,s)}(n[11],d,s)}function gp(n,r,s){let d=s?n.styles:null,p=s?n.classes:null,y=0;if(null!==r)for(let b=0;b<r.length;b++){const M=r[b];"number"==typeof M?y=M:1==y?p=$e(p,M):2==y&&(d=$e(d,M+": "+r[++b]+";"))}s?n.styles=d:n.stylesWithoutHost=d,s?n.classes=p:n.classesWithoutHost=p}function df(n,r,s,d,p=!1){for(;null!==s;){const y=r[s.index];if(null!==y&&d.push(Ei(y)),xr(y))for(let M=10;M<y.length;M++){const V=y[M],Q=V[1].firstChild;null!==Q&&df(V[1],V,Q,d)}const b=s.type;if(8&b)df(n,r,s.child,d);else if(32&b){const M=el(s,r);let V;for(;V=M();)d.push(V)}else if(16&b){const M=Gc(r,s);if(Array.isArray(M))d.push(...M);else{const V=vl(r[16]);df(V[1],V,M,d,!0)}}s=p?s.projectionNext:s.next}return d}class ch{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return df(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(xr(r)){const s=r[8],d=s?s.indexOf(this):-1;d>-1&&(_l(r,d),pn(s,d))}this._attachedToViewContainer=!1}ta(this._lView[1],this._lView)}onDestroy(r){dd(this._lView[1],this._lView,null,r)}markForCheck(){lh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Sg(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new lt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function uc(n,r){Cu(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new lt(902,!1);this._appRef=r}}class hf extends ch{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Sg(r[1],r,r[8],!1)}checkNoChanges(){}get context(){return null}}class wi extends _c{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=mr(r);return new Pu(s,this.ngModule)}}function mp(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class Mg{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,d){d=Sn(d);const p=this.injector.get(r,Kp,d);return p!==Kp||s===Kp?p:this.parentInjector.get(r,s,d)}}class Pu extends Gd{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Ey(n){return n.map(qf).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return mp(this.componentDef.inputs)}get outputs(){return mp(this.componentDef.outputs)}create(r,s,d,p){var y;let b=(p=p||this.ngModule)instanceof qu?p:null===(y=p)||void 0===y?void 0:y.injector;b&&null!==this.componentDef.getStandaloneInjector&&(b=this.componentDef.getStandaloneInjector(b)||b);const M=b?new Mg(r,b):r,V=M.get(Yu,null);if(null===V)throw new lt(407,!1);const Q=M.get(Kd,null),_e=V.createRenderer(null,this.componentDef),Ge=this.componentDef.selectors[0][0]||"div",Et=d?function xy(n,r,s){return n.selectRootElement(r,s===Qn.ShadowDom)}(_e,d,this.componentDef.encapsulation):Od(_e,Ge,function xg(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(Ge)),Vt=this.componentDef.onPush?288:272,ln=Eg(0,null,null,1,0,null,null,null,null,null),On=nf(null,ln,null,Vt,null,null,V,_e,Q,M,null);let lr,Cr;fa(On);try{const Vr=this.componentDef;let bn,ti=null;Vr.findHostDirectiveDefs?(bn=[],ti=new Map,Vr.findHostDirectiveDefs(Vr,bn,ti),bn.push(Vr)):bn=[Vr];const ji=function so(n,r){const s=n[1];return n[22]=r,cd(s,22,2,"#host",null)}(On,Et),ao=function dh(n,r,s,d,p,y,b,M){const V=p[1];!function yp(n,r,s,d){for(const p of n)r.mergedAttrs=Ha(r.mergedAttrs,p.hostAttrs);null!==r.mergedAttrs&&(gp(r,r.mergedAttrs,!0),null!==s&&Ld(d,s,r))}(d,n,r,b);const Q=y.createRenderer(r,s),_e=nf(p,lp(s),null,s.onPush?32:16,p[n.index],n,y,Q,M||null,null,null);return V.firstCreatePass&&af(V,n,d.length-1),fp(p,_e),p[n.index]=_e}(ji,Et,Vr,bn,On,V,_e);Cr=X(ln,22),Et&&function vp(n,r,s,d){if(d)dl(n,s,["ng-version",Wp.full]);else{const{attrs:p,classes:y}=function fm(n){const r=[],s=[];let d=1,p=2;for(;d<n.length;){let y=n[d];if("string"==typeof y)2===p?""!==y&&r.push(y,n[++d]):8===p&&s.push(y);else{if(!kl(p))break;p=y}d++}return{attrs:r,classes:s}}(r.selectors[0]);p&&dl(n,s,p),y&&y.length>0&&qc(n,s,y.join(" "))}}(_e,Vr,Et,d),void 0!==s&&function Gm(n,r,s){const d=n.projection=[];for(let p=0;p<r.length;p++){const y=s[p];d.push(null!=y?Array.from(y):null)}}(Cr,this.ngContentSelectors,s),lr=function Fy(n,r,s,d,p,y){const b=fs(),M=p[1],V=Qi(b,p);up(M,p,b,s,null,d);for(let _e=0;_e<s.length;_e++)ks(Yo(p,M,b.directiveStart+_e,b),p);Ru(M,p,b),V&&ks(V,p);const Q=Yo(p,M,b.directiveStart+b.componentOffset,b);if(n[8]=p[8]=Q,null!==y)for(const _e of y)_e(Q,r);return _g(M,b,n),Q}(ao,Vr,bn,ti,On,[_p]),vg(ln,On,null)}finally{ja()}return new oa(this.componentType,lr,td(Cr,On),On,Cr)}}class oa extends Uf{constructor(r,s,d,p,y){super(),this.location=d,this._rootLView=p,this._tNode=y,this.instance=s,this.hostView=this.changeDetectorRef=new hf(p),this.componentType=r}setInput(r,s){const d=this._tNode.inputs;let p;if(null!==d&&(p=d[r])){const y=this._rootLView;uh(y[1],y,p,r,s),$l(y,this._tNode.index)}}get injector(){return new xa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function _p(){const n=fs();Gn(on()[1],n)}function $y(n){let r=function Ly(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const d=[n];for(;r;){let p;if(Ai(n))p=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new lt(903,!1);p=r.\u0275dir}if(p){if(s){d.push(p);const b=n;b.inputs=zm(n.inputs),b.declaredInputs=zm(n.declaredInputs),b.outputs=zm(n.outputs);const M=p.hostBindings;M&&xv(n,M);const V=p.viewQuery,Q=p.contentQueries;if(V&&By(n,V),Q&&Av(n,Q),we(n.inputs,p.inputs),we(n.declaredInputs,p.declaredInputs),we(n.outputs,p.outputs),Ai(p)&&p.data.animation){const _e=n.data;_e.animation=(_e.animation||[]).concat(p.data.animation)}}const y=p.features;if(y)for(let b=0;b<y.length;b++){const M=y[b];M&&M.ngInherit&&M(n),M===$y&&(s=!1)}}r=Object.getPrototypeOf(r)}!function Sv(n){let r=0,s=null;for(let d=n.length-1;d>=0;d--){const p=n[d];p.hostVars=r+=p.hostVars,p.hostAttrs=Ha(p.hostAttrs,s=Ha(s,p.hostAttrs))}}(d)}function zm(n){return n===br?{}:n===ur?[]:n}function By(n,r){const s=n.viewQuery;n.viewQuery=s?(d,p)=>{r(d,p),s(d,p)}:r}function Av(n,r){const s=n.contentQueries;n.contentQueries=s?(d,p,y)=>{r(d,p,y),s(d,p,y)}:r}function xv(n,r){const s=n.hostBindings;n.hostBindings=s?(d,p)=>{r(d,p),s(d,p)}:r}let hh=null;function Mc(){if(!hh){const n=rr.Symbol;if(n&&n.iterator)hh=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const d=r[s];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(hh=d)}}}return hh}function fd(n){return!!qm(n)&&(Array.isArray(n)||!(n instanceof Map)&&Mc()in n)}function qm(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Qu(n,r,s){return n[r]=s}function La(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function pd(n,r,s,d){const p=La(n,r,s);return La(n,r+1,d)||p}function Ym(n,r,s,d){const p=on();return La(p,Os(),r)&&(li(),us(ce(),p,n,r,s,d)),Ym}function ku(n,r,s,d){return La(n,Os(),s)?r+ye(s)+d:si}function gd(n,r,s,d,p,y){const M=pd(n,Zs(),s,p);return _o(2),M?r+ye(s)+d+ye(p)+y:si}function md(n,r,s,d,p,y,b,M){const Q=function Ng(n,r,s,d,p){const y=pd(n,r,s,d);return La(n,r+2,p)||y}(n,Zs(),s,p,b);return _o(3),Q?r+ye(s)+d+ye(p)+y+ye(b)+M:si}function D(n,r,s,d,p,y,b,M){const V=on(),Q=li(),_e=n+22,Ge=Q.firstCreatePass?function v(n,r,s,d,p,y,b,M,V){const Q=r.consts,_e=cd(r,n,4,b||null,F(Q,M));bg(r,s,_e,F(Q,V)),Gn(r,_e);const Ge=_e.tViews=Eg(2,_e,d,p,y,r.directiveRegistry,r.pipeRegistry,null,r.schemas,Q);return null!==r.queries&&(r.queries.template(r,_e),Ge.queries=r.queries.embeddedTView(_e)),_e}(_e,Q,V,r,s,d,p,y,b):Q.data[_e];Cs(Ge,!1);const Et=V[11].createComment("");ru(Q,V,Et,Ge),ks(Et,V),fp(V,V[_e]=ah(Et,V,Et,Ge)),Zi(Ge)&&sf(Q,V,Ge),null!=b&&ap(V,Ge,M)}function te(n){return w(function Go(){return mt.lFrame.contextLView}(),22+n)}function ge(n,r,s){const d=on();return La(d,Os(),r)&&Fa(li(),ce(),d,n,r,d[11],s,!1),ge}function Ae(n,r,s,d,p){const b=p?"class":"style";uh(n,s,r.inputs[b],b,d)}function Ft(n,r,s,d){const p=on(),y=li(),b=22+n,M=p[11],V=p[b]=Od(M,r,function fi(){return mt.lFrame.currentNamespace}()),Q=y.firstCreatePass?function Dt(n,r,s,d,p,y,b){const M=r.consts,Q=cd(r,n,2,p,F(M,y));return bg(r,s,Q,F(M,b)),null!==Q.attrs&&gp(Q,Q.attrs,!1),null!==Q.mergedAttrs&&gp(Q,Q.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,Q),Q}(b,y,p,0,r,s,d):y.data[b];return Cs(Q,!0),Ld(M,V,Q),32!=(32&Q.flags)&&ru(y,p,V,Q),0===function Ji(){return mt.lFrame.elementDepthCount}()&&ks(V,p),function Xr(){mt.lFrame.elementDepthCount++}(),Zi(Q)&&(sf(y,p,Q),_g(y,Q,p)),null!==d&&ap(p,Q),Ft}function Nt(){let n=fs();da()?Ho():(n=n.parent,Cs(n,!1));const r=n;!function Rs(){mt.lFrame.elementDepthCount--}();const s=li();return s.firstCreatePass&&(Gn(s,n),ki(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function jn(n){return 0!=(8&n.flags)}(r)&&Ae(s,r,on(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Wt(n){return 0!=(16&n.flags)}(r)&&Ae(s,r,on(),r.stylesWithoutHost,!1),Nt}function Jt(n,r,s,d){return Ft(n,r,s,d),Nt(),Jt}function Rr(n,r,s){const d=on(),p=li(),y=n+22,b=p.firstCreatePass?function _n(n,r,s,d,p){const y=r.consts,b=F(y,d),M=cd(r,n,8,"ng-container",b);return null!==b&&gp(M,b,!0),bg(r,s,M,F(y,p)),null!==r.queries&&r.queries.elementStart(r,M),M}(y,p,d,r,s):p.data[y];Cs(b,!0);const M=d[y]=d[11].createComment("");return ru(p,d,M,b),ks(M,d),Zi(b)&&(sf(p,d,b),_g(p,b,d)),null!=s&&ap(d,b),Rr}function Hr(){let n=fs();const r=li();return da()?Ho():(n=n.parent,Cs(n,!1)),r.firstCreatePass&&(Gn(r,n),ki(n)&&r.queries.elementEnd(n)),Hr}function Ii(n,r,s){return Rr(n,r,s),Hr(),Ii}function gs(){return on()}function ms(n){return!!n&&"function"==typeof n.then}function Bs(n){return!!n&&"function"==typeof n.subscribe}const yd=Bs;function Rc(n,r,s,d){const p=on(),y=li(),b=fs();return function ph(n,r,s,d,p,y,b,M){const V=Zi(d),_e=n.firstCreatePass&&jm(n),Ge=r[8],Et=Ny(r);let Vt=!0;if(3&d.type||M){const lr=Qi(d,r),Cr=M?M(lr):lr,Vr=Et.length,bn=M?ji=>M(Ei(ji[d.index])):d.index;let ti=null;if(!M&&V&&(ti=function vd(n,r,s,d){const p=n.cleanup;if(null!=p)for(let y=0;y<p.length-1;y+=2){const b=p[y];if(b===s&&p[y+1]===d){const M=r[7],V=p[y+2];return M.length>V?M[V]:null}"string"==typeof b&&(y+=2)}return null}(n,r,p,d.index)),null!==ti)(ti.__ngLastListenerFn__||ti).__ngNextListenerFn__=y,ti.__ngLastListenerFn__=y,Vt=!1;else{y=gh(d,r,Ge,y,!1);const ji=s.listen(Cr,p,y);Et.push(y,ji),_e&&_e.push(p,bn,Vr,Vr+1)}}else y=gh(d,r,Ge,y,!1);const ln=d.outputs;let On;if(Vt&&null!==ln&&(On=ln[p])){const lr=On.length;if(lr)for(let Cr=0;Cr<lr;Cr+=2){const ao=r[On[Cr]][On[Cr+1]].subscribe(y),Wg=Et.length;Et.push(y,ao),_e&&_e.push(p,d.index,Wg,-(Wg+1))}}}(y,p,p[11],b,n,r,0,d),Rc}function Hy(n,r,s,d){try{return!1!==s(d)}catch(p){return Hm(n,p),!1}}function gh(n,r,s,d,p){return function y(b){if(b===Function)return d;lh(n.componentOffset>-1?G(n.index,r):r);let V=Hy(r,0,d,b),Q=y.__ngNextListenerFn__;for(;Q;)V=Hy(r,0,Q,b)&&V,Q=Q.__ngNextListenerFn__;return p&&!1===V&&(b.preventDefault(),b.returnValue=!1),V}}function Gy(n=1){return function os(n){return(mt.lFrame.contextLView=function L(n,r){for(;n>0;)r=r[15],n--;return r}(n,mt.lFrame.contextLView))[8]}(n)}function Mv(n,r){let s=null;const d=function Wf(n){const r=n.attrs;if(null!=r){const s=r.indexOf(5);if(0==(1&s))return r[s+1]}return null}(n);for(let p=0;p<r.length;p++){const y=r[p];if("*"!==y){if(null===d?Gh(n,y,!0):Qp(d,y))return p}else s=p}return s}function ey(n){const r=on()[16][6];if(!r.projection){const d=r.projection=Wn(n?n.length:1,null),p=d.slice();let y=r.child;for(;null!==y;){const b=n?Mv(y,n):0;null!==b&&(p[b]?p[b].projectionNext=y:d[b]=y,p[b]=y),y=y.next}}}function ty(n,r=0,s){const d=on(),p=li(),y=cd(p,22+n,16,null,s||null);null===y.projection&&(y.projection=r),Ho(),32!=(32&y.flags)&&function Fd(n,r,s){Ro(r[11],0,r,s,na(n,s,r),Iu(s.parent||r[6],s,r))}(p,d,y)}function yf(n,r,s,d,p){const y=on(),b=ku(y,r,s,d);return b!==si&&Fa(li(),ce(),y,n,b,y[11],p,!1),yf}function bp(n,r,s,d,p,y,b){const M=on(),V=gd(M,r,s,d,p,y);return V!==si&&Fa(li(),ce(),M,n,V,M[11],b,!1),bp}function _f(n,r,s,d,p){const y=n[s+1],b=null===r;let M=d?Ea(y):Ll(y),V=!1;for(;0!==M&&(!1===V||b);){const _e=n[M+1];M0(n[M],r)&&(V=!0,n[M+1]=d?ug(_e):qh(_e)),M=d?Ea(_e):Ll(_e)}V&&(n[s+1]=d?qh(y):ug(y))}function M0(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&Lo(n,r)>=0}const Ia={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ry(n){return n.substring(Ia.key,Ia.keyEnd)}function v_(n){return n.substring(Ia.value,Ia.valueEnd)}function Pv(n,r){const s=Ia.textEnd;return s===r?-1:(r=Ia.keyEnd=function sy(n,r,s){for(;r<s&&n.charCodeAt(r)>32;)r++;return r}(n,Ia.key=r,s),Tp(n,r,s))}function Vg(n,r){const s=Ia.textEnd;let d=Ia.key=Tp(n,r,s);return s===d?-1:(d=Ia.keyEnd=function E_(n,r,s){let d;for(;r<s&&(45===(d=n.charCodeAt(r))||95===d||(-33&d)>=65&&(-33&d)<=90||d>=48&&d<=57);)r++;return r}(n,d,s),d=Nv(n,d,s),d=Ia.value=Tp(n,d,s),d=Ia.valueEnd=function Fv(n,r,s){let d=-1,p=-1,y=-1,b=r,M=b;for(;b<s;){const V=n.charCodeAt(b++);if(59===V)return M;34===V||39===V?M=b=Ky(n,V,b,s):r===b-4&&85===y&&82===p&&76===d&&40===V?M=b=Ky(n,41,b,s):V>32&&(M=b),y=p,p=d,d=-33&V}return M}(n,d,s),Nv(n,d,s))}function kv(n){Ia.key=0,Ia.keyEnd=0,Ia.value=0,Ia.valueEnd=0,Ia.textEnd=n.length}function Tp(n,r,s){for(;r<s&&n.charCodeAt(r)<=32;)r++;return r}function Nv(n,r,s,d){return(r=Tp(n,r,s))<s&&r++,r}function Ky(n,r,s,d){let p=-1,y=s;for(;y<d;){const b=n.charCodeAt(y++);if(b==r&&92!==p)return y;p=92==b&&92===p?0:b}throw new Error}function oy(n,r){return function $a(n,r,s,d){const p=on(),y=li(),b=_o(2);y.firstUpdatePass&&_d(y,n,b,d),r!==si&&La(p,b,r)&&Xy(y,y.data[ee()],p,p[11],n,p[b+1]=function T_(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=Se(ra(n)))),n}(r,s),d,b)}(n,r,null,!0),oy}function Fu(n){aa($v,Yy,n,!1)}function Yy(n,r){for(let s=function __(n){return kv(n),Vg(n,Tp(n,0,Ia.textEnd))}(r);s>=0;s=Vg(r,s))$v(n,ry(r),v_(r))}function Ug(n){aa(Mi,Oc,n,!0)}function Oc(n,r){for(let s=function iy(n){return kv(n),Pv(n,Tp(n,0,Ia.textEnd))}(r);s>=0;s=Pv(r,s))Mi(n,ry(r),!0)}function aa(n,r,s,d){const p=li(),y=_o(2);p.firstUpdatePass&&_d(p,null,y,d);const b=on();if(s!==si&&La(b,y,s)){const M=p.data[ee()];if(Jy(M,d)&&!Sp(p,y)){let V=d?M.classesWithoutHost:M.stylesWithoutHost;null!==V&&(s=$e(V,s||"")),Ae(p,M,b,s,d)}else!function D_(n,r,s,d,p,y,b,M){p===si&&(p=ur);let V=0,Q=0,_e=0<p.length?p[0]:null,Ge=0<y.length?y[0]:null;for(;null!==_e||null!==Ge;){const Et=V<p.length?p[V+1]:void 0,Vt=Q<y.length?y[Q+1]:void 0;let On,ln=null;_e===Ge?(V+=2,Q+=2,Et!==Vt&&(ln=Ge,On=Vt)):null===Ge||null!==_e&&_e<Ge?(V+=2,ln=_e):(Q+=2,ln=Ge,On=Vt),null!==ln&&Xy(n,r,s,d,ln,On,b,M),_e=V<p.length?p[V]:null,Ge=Q<y.length?y[Q]:null}}(p,M,b,b[11],b[y+1],b[y+1]=function C_(n,r,s){if(null==s||""===s)return ur;const d=[],p=ra(s);if(Array.isArray(p))for(let y=0;y<p.length;y++)n(d,p[y],!0);else if("object"==typeof p)for(const y in p)p.hasOwnProperty(y)&&n(d,y,p[y]);else"string"==typeof p&&r(d,p);return d}(n,r,s),d,y)}}function Sp(n,r){return r>=n.expandoStartIndex}function _d(n,r,s,d){const p=n.data;if(null===p[s+1]){const y=p[ee()],b=Sp(n,s);Jy(y,d)&&null===r&&!b&&(r=!1),r=function I_(n,r,s,d){const p=function Vl(n){const r=mt.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let y=d?r.residualClasses:r.residualStyles;if(null===p)0===(d?r.classBindings:r.styleBindings)&&(s=jg(s=Zy(null,n,r,s,d),r.attrs,d),y=null);else{const b=r.directiveStylingLast;if(-1===b||n[b]!==p)if(s=Zy(p,n,r,s,d),null===y){let V=function Lv(n,r,s){const d=s?r.classBindings:r.styleBindings;if(0!==Ll(d))return n[Ea(d)]}(n,r,d);void 0!==V&&Array.isArray(V)&&(V=Zy(null,n,r,V[1],d),V=jg(V,r.attrs,d),function b_(n,r,s,d){n[Ea(s?r.classBindings:r.styleBindings)]=d}(n,r,d,V))}else y=function mh(n,r,s){let d;const p=r.directiveEnd;for(let y=1+r.directiveStylingLast;y<p;y++)d=jg(d,n[y].hostAttrs,s);return jg(d,r.attrs,s)}(n,r,d)}return void 0!==y&&(d?r.residualClasses=y:r.residualStyles=y),s}(p,y,r,d),function Bg(n,r,s,d,p,y){let b=y?r.classBindings:r.styleBindings,M=Ea(b),V=Ll(b);n[d]=s;let _e,Q=!1;if(Array.isArray(s)){const Ge=s;_e=Ge[1],(null===_e||Lo(Ge,_e)>0)&&(Q=!0)}else _e=s;if(p)if(0!==V){const Et=Ea(n[M+1]);n[d+1]=od(Et,M),0!==Et&&(n[Et+1]=su(n[Et+1],d)),n[M+1]=function Im(n,r){return 131071&n|r<<17}(n[M+1],d)}else n[d+1]=od(M,0),0!==M&&(n[M+1]=su(n[M+1],d)),M=d;else n[d+1]=od(V,0),0===M?M=d:n[V+1]=su(n[V+1],d),V=d;Q&&(n[d+1]=qh(n[d+1])),_f(n,_e,d,!0),_f(n,_e,d,!1),function y_(n,r,s,d,p){const y=p?n.residualClasses:n.residualStyles;null!=y&&"string"==typeof r&&Lo(y,r)>=0&&(s[d+1]=ug(s[d+1]))}(r,_e,n,d,y),b=od(M,V),y?r.classBindings=b:r.styleBindings=b}(p,y,r,s,b,d)}}function Zy(n,r,s,d,p){let y=null;const b=s.directiveEnd;let M=s.directiveStylingLast;for(-1===M?M=s.directiveStart:M++;M<b&&(y=r[M],d=jg(d,y.hostAttrs,p),y!==n);)M++;return null!==n&&(s.directiveStylingLast=M),d}function jg(n,r,s){const d=s?1:2;let p=-1;if(null!==r)for(let y=0;y<r.length;y++){const b=r[y];"number"==typeof b?p=b:p===d&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Mi(n,b,!!s||r[++y]))}return void 0===n?null:n}function $v(n,r,s){Mi(n,r,ra(s))}function Xy(n,r,s,d,p,y,b,M){if(!(3&r.type))return;const V=n.data,Q=V[M+1];ay(function lg(n){return 1==(1&n)}(Q)?Qy(V,r,s,p,Ll(Q),b):void 0)||(ay(y)||function xu(n){return 2==(2&n)}(Q)&&(y=Qy(V,null,s,p,M,b)),function Kc(n,r,s,d,p){if(r)p?n.addClass(s,d):n.removeClass(s,d);else{let y=-1===d.indexOf("-")?void 0:Ja.DashCase;null==p?n.removeStyle(s,d,y):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),y|=Ja.Important),n.setStyle(s,d,p,y))}}(d,b,js(ee(),s),p,y))}function Qy(n,r,s,d,p,y){const b=null===r;let M;for(;p>0;){const V=n[p],Q=Array.isArray(V),_e=Q?V[1]:V,Ge=null===_e;let Et=s[p+1];Et===si&&(Et=Ge?ur:void 0);let Vt=Ge?wo(Et,d):_e===d?Et:void 0;if(Q&&!ay(Vt)&&(Vt=wo(V,d)),ay(Vt)&&(M=Vt,b))return M;const ln=n[p+1];p=b?Ea(ln):Ll(ln)}if(null!==r){let V=y?r.residualClasses:r.residualStyles;null!=V&&(M=wo(V,d))}return M}function ay(n){return void 0!==n}function Jy(n,r){return 0!=(n.flags&(r?8:16))}function Bv(n,r=""){const s=on(),d=li(),p=n+22,y=d.firstCreatePass?cd(d,p,1,r,null):d.data[p],b=s[p]=function Pa(n,r){return n.createText(r)}(s[11],r);ru(d,s,b,y),Cs(y,!1)}function yh(n){return Ap("",n,""),yh}function Ap(n,r,s){const d=on(),p=ku(d,n,r,s);return p!==si&&ou(d,ee(),p),Ap}function Vv(n,r,s,d,p){const y=on(),b=gd(y,n,r,s,d,p);return b!==si&&ou(y,ee(),b),Vv}function Uv(n,r,s,d,p,y,b){const M=on(),V=md(M,n,r,s,d,p,y,b);return V!==si&&ou(M,ee(),V),Uv}const Ef=void 0;var Rp=["en",[["a","p"],["AM","PM"],Ef],[["AM","PM"],Ef,Ef],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ef,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ef,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ef,"{1} 'at' {0}",Ef],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function av(n){const s=Math.floor(Math.abs(n)),d=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===d?1:5}];let Lu={};function lv(n,r,s){"string"!=typeof r&&(s=r,r=n[Wr.LocaleId]),r=r.toLowerCase().replace(/_/g,"-"),Lu[r]=n,s&&(Lu[r][Wr.ExtraData]=s)}function wd(n){const r=function N_(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=Qv(r);if(s)return s;const d=r.split("-")[0];if(s=Qv(d),s)return s;if("en"===d)return Rp;throw new lt(701,!1)}function Xv(n){return wd(n)[Wr.PluralCase]}function Qv(n){return n in Lu||(Lu[n]=rr.ng&&rr.ng.common&&rr.ng.common.locales&&rr.ng.common.locales[n]),Lu[n]}var Wr=(()=>((Wr=Wr||{})[Wr.LocaleId=0]="LocaleId",Wr[Wr.DayPeriodsFormat=1]="DayPeriodsFormat",Wr[Wr.DayPeriodsStandalone=2]="DayPeriodsStandalone",Wr[Wr.DaysFormat=3]="DaysFormat",Wr[Wr.DaysStandalone=4]="DaysStandalone",Wr[Wr.MonthsFormat=5]="MonthsFormat",Wr[Wr.MonthsStandalone=6]="MonthsStandalone",Wr[Wr.Eras=7]="Eras",Wr[Wr.FirstDayOfWeek=8]="FirstDayOfWeek",Wr[Wr.WeekendRange=9]="WeekendRange",Wr[Wr.DateFormat=10]="DateFormat",Wr[Wr.TimeFormat=11]="TimeFormat",Wr[Wr.DateTimeFormat=12]="DateTimeFormat",Wr[Wr.NumberSymbols=13]="NumberSymbols",Wr[Wr.NumberFormats=14]="NumberFormats",Wr[Wr.CurrencyCode=15]="CurrencyCode",Wr[Wr.CurrencySymbol=16]="CurrencySymbol",Wr[Wr.CurrencyName=17]="CurrencyName",Wr[Wr.Currencies=18]="Currencies",Wr[Wr.Directionality=19]="Directionality",Wr[Wr.PluralCase=20]="PluralCase",Wr[Wr.ExtraData=21]="ExtraData",Wr))();const Op="en-US";let t_=Op;function j_(n,r,s,d,p){if(n=Te(n),Array.isArray(n))for(let y=0;y<n.length;y++)j_(n[y],r,s,d,p);else{const y=li(),b=on();let M=rl(n)?n:Te(n.provide),V=Fs(n);const Q=fs(),_e=1048575&Q.providerIndexes,Ge=Q.directiveStart,Et=Q.providerIndexes>>20;if(rl(n)||!n.multi){const Vt=new qi(V,p,Sc),ln=G_(M,r,p?_e:_e+Et,Ge);-1===ln?(Ga(ei(Q,b),y,M),H_(y,n,r.length),r.push(M),Q.directiveStart++,Q.directiveEnd++,p&&(Q.providerIndexes+=1048576),s.push(Vt),b.push(Vt)):(s[ln]=Vt,b[ln]=Vt)}else{const Vt=G_(M,r,_e+Et,Ge),ln=G_(M,r,_e,_e+Et),On=Vt>=0&&s[Vt],lr=ln>=0&&s[ln];if(p&&!lr||!p&&!On){Ga(ei(Q,b),y,M);const Cr=function Jw(n,r,s,d,p){const y=new qi(n,s,Sc);return y.multi=[],y.index=r,y.componentProviders=0,z0(y,p,d&&!s),y}(p?Qw:Xw,s.length,p,d,V);!p&&lr&&(s[ln].providerFactory=Cr),H_(y,n,r.length,0),r.push(M),Q.directiveStart++,Q.directiveEnd++,p&&(Q.providerIndexes+=1048576),s.push(Cr),b.push(Cr)}else H_(y,n,Vt>-1?Vt:ln,z0(s[p?ln:Vt],V,!p&&d));!p&&d&&lr&&s[ln].componentProviders++}}}function H_(n,r,s,d){const p=rl(r),y=function rm(n){return!!n.useClass}(r);if(p||y){const V=(y?Te(r.useClass):r).prototype.ngOnDestroy;if(V){const Q=n.destroyHooks||(n.destroyHooks=[]);if(!p&&r.multi){const _e=Q.indexOf(s);-1===_e?Q.push(s,[d,V]):Q[_e+1].push(d,V)}else Q.push(s,V)}}}function z0(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function G_(n,r,s,d){for(let p=s;p<d;p++)if(r[p]===n)return p;return-1}function Xw(n,r,s,d){return z_(this.multi,[])}function Qw(n,r,s,d){const p=this.multi;let y;if(this.providerFactory){const b=this.providerFactory.componentProviders,M=Yo(s,s[1],this.providerFactory.index,d);y=M.slice(0,b),z_(p,y);for(let V=b;V<M.length;V++)y.push(M[V])}else y=[],z_(p,y);return y}function z_(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function W0(n,r=[]){return s=>{s.providersResolver=(d,p)=>function Zw(n,r,s){const d=li();if(d.firstCreatePass){const p=Ai(n);j_(s,d.data,d.blueprint,p,!0),j_(r,d.data,d.blueprint,p,!1)}}(d,p?p(n):n,r)}}class uy{}class K0{}function eI(n,r){return new q0(n,null!=r?r:null)}class q0 extends uy{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new wi(this);const d=pr(r);this._bootstrapComponents=Au(d.bootstrap),this._r3Injector=eg(r,s,[{provide:uy,useValue:this},{provide:_c,useValue:this.componentFactoryResolver}],Se(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class W_ extends K0{constructor(r){super(),this.moduleType=r}create(r){return new q0(this.moduleType,r)}}class tI extends uy{constructor(r,s,d){super(),this.componentFactoryResolver=new wi(this),this.instance=null;const p=new Vh([...r,{provide:uy,useValue:this},{provide:_c,useValue:this.componentFactoryResolver}],s||jd(),d,new Set(["environment"]));this.injector=p,p.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function K_(n,r,s=null){return new tI(n,r,s).injector}let nI=(()=>{class n{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const d=Bd(0,s.type),p=d.length>0?K_([d],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,p)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=At({token:n,providedIn:"environment",factory:()=>new n(gr(qu))}),n})();function Y0(n){n.getStandaloneInjector=r=>r.get(nI).getOrCreateStandaloneInjector(n)}function nE(n,r,s){const d=es()+n,p=on();return p[d]===si?Qu(p,d,s?r.call(s):r()):function pf(n,r){return n[r]}(p,d)}function rE(n,r,s,d){return iE(on(),es(),n,r,s,d)}function mv(n,r){const s=n[r];return s===si?void 0:s}function iE(n,r,s,d,p,y){const b=r+s;return La(n,b,p)?Qu(n,b+1,y?d.call(y,p):d(p)):mv(n,b+1)}function uE(n,r){const s=li();let d;const p=n+22;s.firstCreatePass?(d=function _I(n,r){if(r)for(let s=r.length-1;s>=0;s--){const d=r[s];if(n===d.name)return d}}(r,s.pipeRegistry),s.data[p]=d,d.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(p,d.onDestroy)):d=s.data[p];const y=d.factory||(d.factory=is(d.type)),b=wr(Sc);try{const M=fl(!1),V=y();return fl(M),function k(n,r,s,d){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),r[s]=d}(s,on(),p,V),V}finally{wr(b)}}function cE(n,r,s){const d=n+22,p=on(),y=w(p,d);return yv(p,d)?iE(p,es(),r,y.transform,s,y):y.transform(s)}function dE(n,r,s,d){const p=n+22,y=on(),b=w(y,p);return yv(y,p)?function sE(n,r,s,d,p,y,b){const M=r+s;return pd(n,M,p,y)?Qu(n,M+2,b?d.call(b,p,y):d(p,y)):mv(n,M+2)}(y,es(),r,b.transform,s,d,b):b.transform(s,d)}function yv(n,r){return n[1].data[r].pure}function Y_(n){return r=>{setTimeout(n,void 0,r)}}const Eh=class bI extends c.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,d){let p=r,y=s||(()=>null),b=d;if(r&&"object"==typeof r){var M,V,Q;const Ge=r;p=null===(M=Ge.next)||void 0===M?void 0:M.bind(Ge),y=null===(V=Ge.error)||void 0===V?void 0:V.bind(Ge),b=null===(Q=Ge.complete)||void 0===Q?void 0:Q.bind(Ge)}this.__isAsync&&(y=Y_(y),p&&(p=Y_(p)),b&&(b=Y_(b)));const _e=super.subscribe({next:p,error:y,complete:b});return r instanceof ne.w0&&r.add(_e),_e}};function CI(){return this._results[Mc()]()}class Z_{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Mc(),d=Z_.prototype;d[s]||(d[s]=CI)}get changes(){return this._changes||(this._changes=new Eh)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const d=this;d.dirty=!1;const p=je(r);(this._changesDetected=!function fe(n,r,s){if(n.length!==r.length)return!1;for(let d=0;d<n.length;d++){let p=n[d],y=r[d];if(s&&(p=s(p),y=s(y)),y!==p)return!1}return!0}(d._results,p,s))&&(d._results=p,d.length=p.length,d.last=p[this.length-1],d.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let vv=(()=>{class n{}return n.__NG_ELEMENT_ID__=SI,n})();const DI=vv,TI=class extends DI{constructor(r,s,d){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=d}createEmbeddedView(r,s){const d=this._declarationTContainer.tViews,p=nf(this._declarationLView,d,r,16,null,d.declTNode,null,null,null,null,s||null);p[17]=this._declarationLView[this._declarationTContainer.index];const b=this._declarationLView[19];return null!==b&&(p[19]=b.createEmbeddedView(d)),vg(d,p,r),new ch(p)}};function SI(){return s_(fs(),on())}function s_(n,r){return 4&n.type?new TI(r,n,td(n,r)):null}let o_=(()=>{class n{}return n.__NG_ELEMENT_ID__=AI,n})();function AI(){return pE(fs(),on())}const xI=o_,hE=class extends xI{constructor(r,s,d){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=d}get element(){return td(this._hostTNode,this._hostLView)}get injector(){return new xa(this._hostTNode,this._hostLView)}get parentInjector(){const r=$n(this._hostTNode,this._hostLView);if(hl(r)){const s=Ko(r,this._hostLView),d=Sa(r);return new xa(s[1].data[d+8],s)}return new xa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=fE(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,d){let p,y;"number"==typeof d?p=d:null!=d&&(p=d.index,y=d.injector);const b=r.createEmbeddedView(s||{},y);return this.insert(b,p),b}createComponent(r,s,d,p,y){const b=r&&!function O(n){return"function"==typeof n}(r);let M;if(b)M=s;else{const Ge=s||{};M=Ge.index,d=Ge.injector,p=Ge.projectableNodes,y=Ge.environmentInjector||Ge.ngModuleRef}const V=b?r:new Pu(mr(r)),Q=d||this.parentInjector;if(!y&&null==V.ngModule){const Et=(b?Q:this.parentInjector).get(qu,null);Et&&(y=Et)}const _e=V.create(Q,p,void 0,y);return this.insert(_e.hostView,M),_e}insert(r,s){const d=r._lView,p=d[1];if(function j(n){return xr(n[3])}(d)){const _e=this.indexOf(r);if(-1!==_e)this.detach(_e);else{const Ge=d[3],Et=new hE(Ge,Ge[6],Ge[3]);Et.detach(Et.indexOf(r))}}const y=this._adjustIndex(s),b=this._lContainer;!function Ti(n,r,s,d){const p=10+d,y=s.length;d>0&&(s[p-1][4]=r),d<y-10?(r[4]=s[p],kt(s,10+d,r)):(s.push(r),r[4]=null),r[3]=s;const b=r[17];null!==b&&s!==b&&function Rh(n,r){const s=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===s?n[9]=[r]:s.push(r)}(b,r);const M=r[19];null!==M&&M.insertView(n),r[2]|=64}(p,d,b,y);const M=zc(y,b),V=d[11],Q=kd(V,b[7]);return null!==Q&&function Mh(n,r,s,d,p,y){d[0]=p,d[6]=r,Cu(n,d,s,1,p,y)}(p,b[6],V,d,Q,M),r.attachToViewContainerRef(),kt(X_(b),y,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=fE(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),d=_l(this._lContainer,s);d&&(pn(X_(this._lContainer),s),ta(d[1],d))}detach(r){const s=this._adjustIndex(r,-1),d=_l(this._lContainer,s);return d&&null!=pn(X_(this._lContainer),s)?new ch(d):null}_adjustIndex(r,s=0){return r??this.length+s}};function fE(n){return n[8]}function X_(n){return n[8]||(n[8]=[])}function pE(n,r){let s;const d=r[n.index];if(xr(d))s=d;else{let p;if(8&n.type)p=Ei(d);else{const y=r[11];p=y.createComment("");const b=Qi(n,r);wl(y,kd(y,b),p,function wu(n,r){return n.nextSibling(r)}(y,b),!1)}r[n.index]=s=ah(d,r,p,n),fp(r,s)}return new hE(s,n,r)}class Q_{constructor(r){this.queryList=r,this.matches=null}clone(){return new Q_(this.queryList)}setDirty(){this.queryList.setDirty()}}class J_{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const d=null!==r.contentQueries?r.contentQueries[0]:s.length,p=[];for(let y=0;y<d;y++){const b=s.getByIndex(y);p.push(this.queries[b.indexInDeclarationView].clone())}return new J_(p)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==bE(r,s).matches&&this.queries[s].setDirty()}}class gE{constructor(r,s,d=null){this.predicate=r,this.flags=s,this.read=d}}class e0{constructor(r=[]){this.queries=r}elementStart(r,s){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let d=0;d<this.length;d++){const p=null!==s?s.length:0,y=this.getByIndex(d).embeddedTView(r,p);y&&(y.indexInDeclarationView=d,null!==s?s.push(y):s=[y])}return null!==s?new e0(s):null}template(r,s){for(let d=0;d<this.queries.length;d++)this.queries[d].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class t0{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new t0(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let d=r.parent;for(;null!==d&&8&d.type&&d.index!==s;)d=d.parent;return s===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const d=this.metadata.predicate;if(Array.isArray(d))for(let p=0;p<d.length;p++){const y=d[p];this.matchTNodeWithReadOption(r,s,OI(s,y)),this.matchTNodeWithReadOption(r,s,jl(s,r,y,!1,!1))}else d===vv?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,jl(s,r,d,!1,!1))}matchTNodeWithReadOption(r,s,d){if(null!==d){const p=this.metadata.read;if(null!==p)if(p===Ol||p===o_||p===vv&&4&s.type)this.addMatch(s.index,-2);else{const y=jl(s,r,p,!1,!1);null!==y&&this.addMatch(s.index,y)}else this.addMatch(s.index,d)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function OI(n,r){const s=n.localNames;if(null!==s)for(let d=0;d<s.length;d+=2)if(s[d]===r)return s[d+1];return null}function kI(n,r,s,d){return-1===s?function PI(n,r){return 11&n.type?td(n,r):4&n.type?s_(n,r):null}(r,n):-2===s?function NI(n,r,s){return s===Ol?td(r,n):s===vv?s_(r,n):s===o_?pE(r,n):void 0}(n,r,d):Yo(n,n[1],s,r)}function mE(n,r,s,d){const p=r[19].queries[d];if(null===p.matches){const y=n.data,b=s.matches,M=[];for(let V=0;V<b.length;V+=2){const Q=b[V];M.push(Q<0?null:kI(r,y[Q],b[V+1],s.metadata.read))}p.matches=M}return p.matches}function n0(n,r,s,d){const p=n.queries.getByIndex(s),y=p.matches;if(null!==y){const b=mE(n,r,p,s);for(let M=0;M<y.length;M+=2){const V=y[M];if(V>0)d.push(b[M/2]);else{const Q=y[M+1],_e=r[-V];for(let Ge=10;Ge<_e.length;Ge++){const Et=_e[Ge];Et[17]===Et[3]&&n0(Et[1],Et,Q,d)}if(null!==_e[9]){const Ge=_e[9];for(let Et=0;Et<Ge.length;Et++){const Vt=Ge[Et];n0(Vt[1],Vt,Q,d)}}}}}return d}function yE(n){const r=on(),s=li(),d=Ps();Xs(d+1);const p=bE(s,d);if(n.dirty&&function Re(n){return 4==(4&n[2])}(r)===(2==(2&p.metadata.flags))){if(null===p.matches)n.reset([]);else{const y=p.crossesNgTemplate?n0(s,r,d,[]):mE(s,r,p,d);n.reset(y,zd),n.notifyOnChanges()}return!0}return!1}function vE(n,r,s){const d=li();d.firstCreatePass&&(IE(d,new gE(n,r,s),-1),2==(2&r)&&(d.staticViewQueries=!0)),wE(d,on(),r)}function _E(n,r,s,d){const p=li();if(p.firstCreatePass){const y=fs();IE(p,new gE(r,s,d),y.index),function LI(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(p,n),2==(2&s)&&(p.staticContentQueries=!0)}wE(p,on(),s)}function EE(){return function FI(n,r){return n[19].queries[r].queryList}(on(),Ps())}function wE(n,r,s){const d=new Z_(4==(4&s));dd(n,r,d,d.destroy),null===r[19]&&(r[19]=new J_),r[19].queries.push(new Q_(d))}function IE(n,r,s){null===n.queries&&(n.queries=new e0),n.queries.track(new t0(r,s))}function bE(n,r){return n.queries.getByIndex(r)}function CE(n,r){return s_(n,r)}function l_(...n){}const HE=new zr("Application Initializer");let u_=(()=>{class n{constructor(s){this.appInits=s,this.resolve=l_,this.reject=l_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,p)=>{this.resolve=d,this.reject=p})}runInitializers(){if(this.initialized)return;const s=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const y=this.appInits[p]();if(ms(y))s.push(y);else if(yd(y)){const b=new Promise((M,V)=>{y.subscribe({complete:M,error:V})});s.push(b)}}Promise.all(s).then(()=>{d()}).catch(p=>{this.reject(p)}),0===s.length&&d(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(gr(HE,8))},n.\u0275prov=At({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const GE=new zr("AppId",{providedIn:"root",factory:function zE(){return`${l0()}${l0()}${l0()}`}});function l0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const WE=new zr("Platform Initializer"),rb=new zr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),KE=new zr("appBootstrapListener");let ib=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=At({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const c_=new zr("LocaleId",{providedIn:"root",factory:()=>zt(c_,wn.Optional|wn.SkipSelf)||function sb(){return typeof $localize<"u"&&$localize.locale||Op}()}),ob=new zr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class ab{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let lb=(()=>{class n{compileModuleSync(s){return new W_(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const d=this.compileModuleSync(s),y=Au(pr(s).declarations).reduce((b,M)=>{const V=mr(M);return V&&b.push(new Pu(V)),b},[]);return new ab(d,y)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=At({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const db=(()=>Promise.resolve(0))();function u0(n){typeof Zone>"u"?db.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Pc{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Eh(!1),this.onMicrotaskEmpty=new Eh(!1),this.onStable=new Eh(!1),this.onError=new Eh(!1),typeof Zone>"u")throw new lt(908,!1);Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!d&&s,p.shouldCoalesceRunChangeDetection=d,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function hb(){let n=rr.requestAnimationFrame,r=rr.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const d=r[Zone.__symbol__("OriginalDelegate")];d&&(r=d)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function gb(n){const r=()=>{!function pb(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(rr,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,d0(n),n.isCheckStableRunning=!0,c0(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),d0(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,d,p,y,b,M)=>{try{return ZE(n),s.invokeTask(p,y,b,M)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||n.shouldCoalesceRunChangeDetection)&&r(),XE(n)}},onInvoke:(s,d,p,y,b,M,V)=>{try{return ZE(n),s.invoke(p,y,b,M,V)}finally{n.shouldCoalesceRunChangeDetection&&r(),XE(n)}},onHasTask:(s,d,p,y)=>{s.hasTask(p,y),d===p&&("microTask"==y.change?(n._hasPendingMicrotasks=y.microTask,d0(n),c0(n)):"macroTask"==y.change&&(n.hasPendingMacrotasks=y.macroTask))},onHandleError:(s,d,p,y)=>(s.handleError(p,y),n.runOutsideAngular(()=>n.onError.emit(y)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Pc.isInAngularZone())throw new lt(909,!1)}static assertNotInAngularZone(){if(Pc.isInAngularZone())throw new lt(909,!1)}run(r,s,d){return this._inner.run(r,s,d)}runTask(r,s,d,p){const y=this._inner,b=y.scheduleEventTask("NgZoneEvent: "+p,r,fb,l_,l_);try{return y.runTask(b,s,d)}finally{y.cancelTask(b)}}runGuarded(r,s,d){return this._inner.runGuarded(r,s,d)}runOutsideAngular(r){return this._outer.run(r)}}const fb={};function c0(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function d0(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function ZE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function XE(n){n._nesting--,c0(n)}class mb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Eh,this.onMicrotaskEmpty=new Eh,this.onStable=new Eh,this.onError=new Eh}run(r,s,d){return r.apply(s,d)}runGuarded(r,s,d){return r.apply(s,d)}runOutsideAngular(r){return r()}runTask(r,s,d,p){return r.apply(s,d)}}const QE=new zr(""),JE=new zr("");let h0,yb=(()=>{class n{constructor(s,d,p){this._ngZone=s,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,h0||(function vb(n){h0=n}(p),p.addToWindow(d)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Pc.assertNotInAngularZone(),u0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())u0(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(s)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,d,p){let y=-1;d&&d>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==y),s(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:s,timeoutId:y,updateCb:p})}whenStable(s,d,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,d,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,d,p){return[]}}return n.\u0275fac=function(s){return new(s||n)(gr(Pc),gr(ew),gr(JE))},n.\u0275prov=At({token:n,factory:n.\u0275fac}),n})(),ew=(()=>{class n{constructor(){this._applications=new Map}registerApplication(s,d){this._applications.set(s,d)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,d=!0){var p,y;return null!==(p=null===(y=h0)||void 0===y?void 0:y.findTestabilityInTree(this,s,d))&&void 0!==p?p:null}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=At({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),kp=null;const tw=new zr("AllowMultipleToken"),f0=new zr("PlatformDestroyListeners");class wb{constructor(r,s){this.name=r,this.token=s}}function rw(n,r,s=[]){const d=`Platform: ${r}`,p=new zr(d);return(y=[])=>{let b=p0();if(!b||b.injector.get(tw,!1)){const M=[...s,...y,{provide:p,useValue:!0}];n?n(M):function Ib(n){if(kp&&!kp.get(tw,!1))throw new lt(400,!1);kp=n;const r=n.get(sw);(function nw(n){const r=n.get(WE,null);r&&r.forEach(s=>s())})(n)}(function iw(n=[],r){return nd.create({name:r,providers:[{provide:Gp,useValue:"platform"},{provide:f0,useValue:new Set([()=>kp=null])},...n]})}(M,d))}return function Cb(n){const r=p0();if(!r)throw new lt(401,!1);return r}()}}function p0(){var n,r;return null!==(n=null===(r=kp)||void 0===r?void 0:r.get(sw))&&void 0!==n?n:null}let sw=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,d){const p=function aw(n,r){let s;return s="noop"===n?new mb:("zone.js"===n?void 0:n)||new Pc(r),s}(null==d?void 0:d.ngZone,function ow(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(d)),y=[{provide:Pc,useValue:p}];return p.run(()=>{const b=nd.create({providers:y,parent:this.injector,name:s.moduleType.name}),M=s.create(b),V=M.injector.get(Ec,null);if(!V)throw new lt(402,!1);return p.runOutsideAngular(()=>{const Q=p.onError.subscribe({next:_e=>{V.handleError(_e)}});M.onDestroy(()=>{h_(this._modules,M),Q.unsubscribe()})}),function lw(n,r,s){try{const d=s();return ms(d)?d.catch(p=>{throw r.runOutsideAngular(()=>n.handleError(p)),p}):d}catch(d){throw r.runOutsideAngular(()=>n.handleError(d)),d}}(V,p,()=>{const Q=M.injector.get(u_);return Q.runInitializers(),Q.donePromise.then(()=>(function cv(n){K(n,"Expected localeId to be defined"),"string"==typeof n&&(t_=n.toLowerCase().replace(/_/g,"-"))}(M.injector.get(c_,Op)||Op),this._moduleDoBootstrap(M),M))})})}bootstrapModule(s,d=[]){const p=uw({},d);return function _b(n,r,s){const d=new W_(s);return Promise.resolve(d)}(0,0,s).then(y=>this.bootstrapModuleFactory(y,p))}_moduleDoBootstrap(s){const d=s.injector.get(d_);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(p=>d.bootstrap(p));else{if(!s.instance.ngDoBootstrap)throw new lt(403,!1);s.instance.ngDoBootstrap(d)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new lt(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const s=this._injector.get(f0,null);s&&(s.forEach(d=>d()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(gr(nd))},n.\u0275prov=At({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function uw(n,r){return Array.isArray(r)?r.reduce(uw,n):{...n,...r}}let d_=(()=>{class n{constructor(s,d,p){this._zone=s,this._injector=d,this._exceptionHandler=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new W.y(M=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{M.next(this._stable),M.complete()})}),b=new W.y(M=>{let V;this._zone.runOutsideAngular(()=>{V=this._zone.onStable.subscribe(()=>{Pc.assertNotInAngularZone(),u0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,M.next(!0))})})});const Q=this._zone.onUnstable.subscribe(()=>{Pc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{M.next(!1)}))});return()=>{V.unsubscribe(),Q.unsubscribe()}});this.isStable=(0,Ue.T)(y,b.pipe((0,Le.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,d){const p=s instanceof Gd;if(!this._injector.get(u_).done)throw!p&&Si(s),new lt(405,false);let b;b=p?s:this._injector.get(_c).resolveComponentFactory(s),this.componentTypes.push(b.componentType);const M=function Eb(n){return n.isBoundToModule}(b)?void 0:this._injector.get(uy),Q=b.create(nd.NULL,[],d||b.selector,M),_e=Q.location.nativeElement,Ge=Q.injector.get(QE,null);return null==Ge||Ge.registerApplication(_e),Q.onDestroy(()=>{this.detachView(Q.hostView),h_(this.components,Q),null==Ge||Ge.unregisterApplication(_e)}),this._loadComponent(Q),Q}tick(){if(this._runningTick)throw new lt(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const d=s;this._views.push(d),d.attachToAppRef(this)}detachView(s){const d=s;h_(this._views,d),d.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(KE,[]).concat(this._bootstrapListeners).forEach(p=>p(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>h_(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new lt(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(s){return new(s||n)(gr(Pc),gr(qu),gr(Ec))},n.\u0275prov=At({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function h_(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}function Tb(){return!1}function Sb(){}let Ab=(()=>{class n{}return n.__NG_ELEMENT_ID__=xb,n})();function xb(n){return function Mb(n,r,s){if(ws(n)&&!s){const d=G(n.index,r);return new ch(d,d)}return 47&n.type?new ch(r[16],r):null}(fs(),on(),16==(16&n))}class pw{constructor(){}supports(r){return fd(r)}create(r){return new Fb(r)}}const Nb=(n,r)=>r;class Fb{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||Nb}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,d=this._removalsHead,p=0,y=null;for(;s||d;){const b=!d||s&&s.currentIndex<mw(d,p,y)?s:d,M=mw(b,p,y),V=b.currentIndex;if(b===d)p--,d=d._nextRemoved;else if(s=s._next,null==b.previousIndex)p++;else{y||(y=[]);const Q=M-p,_e=V-p;if(Q!=_e){for(let Et=0;Et<Q;Et++){const Vt=Et<y.length?y[Et]:y[Et]=0,ln=Vt+Et;_e<=ln&&ln<Q&&(y[Et]=Vt+1)}y[b.previousIndex]=_e-Q}}M!==V&&r(b,M,V)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!fd(r))throw new lt(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let p,y,b,s=this._itHead,d=!1;if(Array.isArray(r)){this.length=r.length;for(let M=0;M<this.length;M++)y=r[M],b=this._trackByFn(M,y),null!==s&&Object.is(s.trackById,b)?(d&&(s=this._verifyReinsertion(s,y,b,M)),Object.is(s.item,y)||this._addIdentityChange(s,y)):(s=this._mismatch(s,y,b,M),d=!0),s=s._next}else p=0,function Km(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[Mc()]();let d;for(;!(d=s.next()).done;)r(d.value)}}(r,M=>{b=this._trackByFn(p,M),null!==s&&Object.is(s.trackById,b)?(d&&(s=this._verifyReinsertion(s,M,b,p)),Object.is(s.item,M)||this._addIdentityChange(s,M)):(s=this._mismatch(s,M,b,p),d=!0),s=s._next,p++}),this.length=p;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,d,p){let y;return null===r?y=this._itTail:(y=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,y,p)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(d,p))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,y,p)):r=this._addAfter(new Lb(s,d),y,p),r}_verifyReinsertion(r,s,d,p){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==y?r=this._reinsertAfter(y,r._prev,p):r.currentIndex!=p&&(r.currentIndex=p,this._addToMoves(r,p)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const p=r._prevRemoved,y=r._nextRemoved;return null===p?this._removalsHead=y:p._nextRemoved=y,null===y?this._removalsTail=p:y._prevRemoved=p,this._insertAfter(r,s,d),this._addToMoves(r,d),r}_moveAfter(r,s,d){return this._unlink(r),this._insertAfter(r,s,d),this._addToMoves(r,d),r}_addAfter(r,s,d){return this._insertAfter(r,s,d),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,d){const p=null===s?this._itHead:s._next;return r._next=p,r._prev=s,null===p?this._itTail=r:p._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new gw),this._linkedRecords.put(r),r.currentIndex=d,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,d=r._next;return null===s?this._itHead=d:s._next=d,null===d?this._itTail=s:d._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new gw),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class Lb{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class $b{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===s||s<=d.currentIndex)&&Object.is(d.trackById,r))return d;return null}remove(r){const s=r._prevDup,d=r._nextDup;return null===s?this._head=d:s._nextDup=d,null===d?this._tail=s:d._prevDup=s,null===this._head}}class gw{constructor(){this.map=new Map}put(r){const s=r.trackById;let d=this.map.get(s);d||(d=new $b,this.map.set(s,d)),d.add(r)}get(r,s){const p=this.map.get(r);return p?p.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function mw(n,r,s){const d=n.previousIndex;if(null===d)return d;let p=0;return s&&d<s.length&&(p=s[d]),d+r+p}class yw{constructor(){}supports(r){return r instanceof Map||qm(r)}create(){return new Bb}}class Bb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||qm(r)))throw new lt(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(d,p)=>{if(s&&s.key===p)this._maybeAddToChanges(s,d),this._appendAfter=s,s=s._next;else{const y=this._getOrCreateRecordForKey(p,d);s=this._insertBeforeOrAppend(s,y)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let d=s;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const d=r._prev;return s._next=r,s._prev=d,r._prev=s,d&&(d._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const p=this._records.get(r);this._maybeAddToChanges(p,s);const y=p._prev,b=p._next;return y&&(y._next=b),b&&(b._prev=y),p._next=null,p._prev=null,p}const d=new Vb(r);return this._records.set(r,d),d.currentValue=s,this._addToAdditions(d),d}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(d=>s(r[d],d))}}class Vb{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function vw(){return new _0([new pw])}let _0=(()=>{class n{constructor(s){this.factories=s}static create(s,d){if(null!=d){const p=d.factories.slice();s=s.concat(p)}return new n(s)}static extend(s){return{provide:n,useFactory:d=>n.create(s,d||vw()),deps:[[n,new Nn,new _r]]}}find(s){const d=this.factories.find(p=>p.supports(s));if(null!=d)return d;throw new lt(901,!1)}}return n.\u0275prov=At({token:n,providedIn:"root",factory:vw}),n})();function _w(){return new E0([new yw])}let E0=(()=>{class n{constructor(s){this.factories=s}static create(s,d){if(d){const p=d.factories.slice();s=s.concat(p)}return new n(s)}static extend(s){return{provide:n,useFactory:d=>n.create(s,d||_w()),deps:[[n,new Nn,new _r]]}}find(s){const d=this.factories.find(p=>p.supports(s));if(d)return d;throw new lt(901,!1)}}return n.\u0275prov=At({token:n,providedIn:"root",factory:_w}),n})();const Hb=rw(null,"core",[]);let Gb=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(gr(d_))},n.\u0275mod=hn({type:n}),n.\u0275inj=Bt({}),n})();function zb(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},4006:(gn,_t,$)=>{"use strict";$.d(_t,{JJ:()=>Yt,JL:()=>wn,JU:()=>Se,Q7:()=>Ys,UX:()=>_i,_Y:()=>yt,a5:()=>rn,kI:()=>Ve,qu:()=>w,sg:()=>Ai,u:()=>ho,u5:()=>ua});var c=$(4650),ne=$(6895),W=$(8996),Ue=$(4128),Le=$(4004);let He=(()=>{class j{constructor(P,oe){this._renderer=P,this._elementRef=oe,this.onChange=mt=>{},this.onTouched=()=>{}}setProperty(P,oe){this._renderer.setProperty(this._elementRef.nativeElement,P,oe)}registerOnTouched(P){this.onTouched=P}registerOnChange(P){this.onChange=P}setDisabledState(P){this.setProperty("disabled",P)}}return j.\u0275fac=function(P){return new(P||j)(c.Y36(c.Qsj),c.Y36(c.SBq))},j.\u0275dir=c.lG2({type:j}),j})(),we=(()=>{class j extends He{}return j.\u0275fac=function(){let F;return function(oe){return(F||(F=c.n5z(j)))(oe||j)}}(),j.\u0275dir=c.lG2({type:j,features:[c.qOj]}),j})();const Se=new c.OlP("NgValueAccessor"),de={provide:Se,useExisting:(0,c.Gpc)(()=>Xe),multi:!0},ze=new c.OlP("CompositionEventMode");let Xe=(()=>{class j extends He{constructor(P,oe,mt){super(P,oe),this._compositionMode=mt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Te(){const j=(0,ne.q)()?(0,ne.q)().getUserAgent():"";return/android (\d+)/.test(j.toLowerCase())}())}writeValue(P){this.setProperty("value",P??"")}_handleInput(P){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(P)}_compositionStart(){this._composing=!0}_compositionEnd(P){this._composing=!1,this._compositionMode&&this.onChange(P)}}return j.\u0275fac=function(P){return new(P||j)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(ze,8))},j.\u0275dir=c.lG2({type:j,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(P,oe){1&P&&c.NdJ("input",function(nn){return oe._handleInput(nn.target.value)})("blur",function(){return oe.onTouched()})("compositionstart",function(){return oe._compositionStart()})("compositionend",function(nn){return oe._compositionEnd(nn.target.value)})},features:[c._Bn([de]),c.qOj]}),j})();function lt(j){return null==j||("string"==typeof j||Array.isArray(j))&&0===j.length}function at(j){return null!=j&&"number"==typeof j.length}const ye=new c.OlP("NgValidators"),Ce=new c.OlP("NgAsyncValidators"),wt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ve{static min(F){return function tt(j){return F=>{if(lt(F.value)||lt(j))return null;const P=parseFloat(F.value);return!isNaN(P)&&P<j?{min:{min:j,actual:F.value}}:null}}(F)}static max(F){return function Ke(j){return F=>{if(lt(F.value)||lt(j))return null;const P=parseFloat(F.value);return!isNaN(P)&&P>j?{max:{max:j,actual:F.value}}:null}}(F)}static required(F){return Ne(F)}static requiredTrue(F){return function rt(j){return!0===j.value?null:{required:!0}}(F)}static email(F){return function ie(j){return lt(j.value)||wt.test(j.value)?null:{email:!0}}(F)}static minLength(F){return function ut(j){return F=>lt(F.value)||!at(F.value)?null:F.value.length<j?{minlength:{requiredLength:j,actualLength:F.value.length}}:null}(F)}static maxLength(F){return function he(j){return F=>at(F.value)&&F.value.length>j?{maxlength:{requiredLength:j,actualLength:F.value.length}}:null}(F)}static pattern(F){return function B(j){if(!j)return ke;let F,P;return"string"==typeof j?(P="","^"!==j.charAt(0)&&(P+="^"),P+=j,"$"!==j.charAt(j.length-1)&&(P+="$"),F=new RegExp(P)):(P=j.toString(),F=j),oe=>{if(lt(oe.value))return null;const mt=oe.value;return F.test(mt)?null:{pattern:{requiredPattern:P,actualValue:mt}}}}(F)}static nullValidator(F){return null}static compose(F){return K(F)}static composeAsync(F){return ve(F)}}function Ne(j){return lt(j.value)?{required:!0}:null}function ke(j){return null}function Oe(j){return null!=j}function et(j){return(0,c.QGY)(j)?(0,W.D)(j):j}function Rt(j){let F={};return j.forEach(P=>{F=null!=P?{...F,...P}:F}),0===Object.keys(F).length?null:F}function qt(j,F){return F.map(P=>P(j))}function be(j){return j.map(F=>function qe(j){return!j.validate}(F)?F:P=>F.validate(P))}function K(j){if(!j)return null;const F=j.filter(Oe);return 0==F.length?null:function(P){return Rt(qt(P,F))}}function le(j){return null!=j?K(be(j)):null}function ve(j){if(!j)return null;const F=j.filter(Oe);return 0==F.length?null:function(P){const oe=qt(P,F).map(et);return(0,Ue.D)(oe).pipe((0,Le.U)(Rt))}}function Me(j){return null!=j?ve(be(j)):null}function Be(j,F){return null===j?[F]:Array.isArray(j)?[...j,F]:[j,F]}function At(j){return j._rawValidators}function Ot(j){return j._rawAsyncValidators}function Bt(j){return j?Array.isArray(j)?j:[j]:[]}function Ht(j,F){return Array.isArray(j)?j.includes(F):j===F}function An(j,F){const P=Bt(F);return Bt(j).forEach(mt=>{Ht(P,mt)||P.push(mt)}),P}function vn(j,F){return Bt(F).filter(P=>!Ht(j,P))}class Pn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(F){this._rawValidators=F||[],this._composedValidatorFn=le(this._rawValidators)}_setAsyncValidators(F){this._rawAsyncValidators=F||[],this._composedAsyncValidatorFn=Me(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(F){this._onDestroyCallbacks.push(F)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(F=>F()),this._onDestroyCallbacks=[]}reset(F){this.control&&this.control.reset(F)}hasError(F,P){return!!this.control&&this.control.hasError(F,P)}getError(F,P){return this.control?this.control.getError(F,P):null}}class Fn extends Pn{get formDirective(){return null}get path(){return null}}class rn extends Pn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class En{constructor(F){this._cd=F}get isTouched(){var F,P;return!(null===(F=this._cd)||void 0===F||null===(P=F.control)||void 0===P||!P.touched)}get isUntouched(){var F,P;return!(null===(F=this._cd)||void 0===F||null===(P=F.control)||void 0===P||!P.untouched)}get isPristine(){var F,P;return!(null===(F=this._cd)||void 0===F||null===(P=F.control)||void 0===P||!P.pristine)}get isDirty(){var F,P;return!(null===(F=this._cd)||void 0===F||null===(P=F.control)||void 0===P||!P.dirty)}get isValid(){var F,P;return!(null===(F=this._cd)||void 0===F||null===(P=F.control)||void 0===P||!P.valid)}get isInvalid(){var F,P;return!(null===(F=this._cd)||void 0===F||null===(P=F.control)||void 0===P||!P.invalid)}get isPending(){var F,P;return!(null===(F=this._cd)||void 0===F||null===(P=F.control)||void 0===P||!P.pending)}get isSubmitted(){var F;return!(null===(F=this._cd)||void 0===F||!F.submitted)}}let Yt=(()=>{class j extends En{constructor(P){super(P)}}return j.\u0275fac=function(P){return new(P||j)(c.Y36(rn,2))},j.\u0275dir=c.lG2({type:j,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(P,oe){2&P&&c.ekj("ng-untouched",oe.isUntouched)("ng-touched",oe.isTouched)("ng-pristine",oe.isPristine)("ng-dirty",oe.isDirty)("ng-valid",oe.isValid)("ng-invalid",oe.isInvalid)("ng-pending",oe.isPending)},features:[c.qOj]}),j})(),wn=(()=>{class j extends En{constructor(P){super(P)}}return j.\u0275fac=function(P){return new(P||j)(c.Y36(Fn,10))},j.\u0275dir=c.lG2({type:j,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(P,oe){2&P&&c.ekj("ng-untouched",oe.isUntouched)("ng-touched",oe.isTouched)("ng-pristine",oe.isPristine)("ng-dirty",oe.isDirty)("ng-valid",oe.isValid)("ng-invalid",oe.isInvalid)("ng-pending",oe.isPending)("ng-submitted",oe.isSubmitted)},features:[c.qOj]}),j})();const er="VALID",gr="INVALID",yn="PENDING",zt="DISABLED";function Sn(j){return(ot(j)?j.validators:j)||null}function nr(j){return Array.isArray(j)?le(j):j||null}function Xn(j,F){return(ot(F)?F.asyncValidators:j)||null}function hr(j){return Array.isArray(j)?Me(j):j||null}function ot(j){return null!=j&&!Array.isArray(j)&&"object"==typeof j}function Ze(j,F,P){const oe=j.controls;if(!(F?Object.keys(oe):oe).length)throw new c.vHH(1e3,"");if(!oe[P])throw new c.vHH(1001,"")}function ht(j,F,P){j._forEachChild((oe,mt)=>{if(void 0===P[mt])throw new c.vHH(1002,"")})}class Pt{constructor(F,P){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=F,this._rawAsyncValidators=P,this._composedValidatorFn=nr(this._rawValidators),this._composedAsyncValidatorFn=hr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(F){this._rawValidators=this._composedValidatorFn=F}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(F){this._rawAsyncValidators=this._composedAsyncValidatorFn=F}get parent(){return this._parent}get valid(){return this.status===er}get invalid(){return this.status===gr}get pending(){return this.status==yn}get disabled(){return this.status===zt}get enabled(){return this.status!==zt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(F){this._rawValidators=F,this._composedValidatorFn=nr(F)}setAsyncValidators(F){this._rawAsyncValidators=F,this._composedAsyncValidatorFn=hr(F)}addValidators(F){this.setValidators(An(F,this._rawValidators))}addAsyncValidators(F){this.setAsyncValidators(An(F,this._rawAsyncValidators))}removeValidators(F){this.setValidators(vn(F,this._rawValidators))}removeAsyncValidators(F){this.setAsyncValidators(vn(F,this._rawAsyncValidators))}hasValidator(F){return Ht(this._rawValidators,F)}hasAsyncValidator(F){return Ht(this._rawAsyncValidators,F)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(F={}){this.touched=!0,this._parent&&!F.onlySelf&&this._parent.markAsTouched(F)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(F=>F.markAllAsTouched())}markAsUntouched(F={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(P=>{P.markAsUntouched({onlySelf:!0})}),this._parent&&!F.onlySelf&&this._parent._updateTouched(F)}markAsDirty(F={}){this.pristine=!1,this._parent&&!F.onlySelf&&this._parent.markAsDirty(F)}markAsPristine(F={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(P=>{P.markAsPristine({onlySelf:!0})}),this._parent&&!F.onlySelf&&this._parent._updatePristine(F)}markAsPending(F={}){this.status=yn,!1!==F.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!F.onlySelf&&this._parent.markAsPending(F)}disable(F={}){const P=this._parentMarkedDirty(F.onlySelf);this.status=zt,this.errors=null,this._forEachChild(oe=>{oe.disable({...F,onlySelf:!0})}),this._updateValue(),!1!==F.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...F,skipPristineCheck:P}),this._onDisabledChange.forEach(oe=>oe(!0))}enable(F={}){const P=this._parentMarkedDirty(F.onlySelf);this.status=er,this._forEachChild(oe=>{oe.enable({...F,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:F.emitEvent}),this._updateAncestors({...F,skipPristineCheck:P}),this._onDisabledChange.forEach(oe=>oe(!1))}_updateAncestors(F){this._parent&&!F.onlySelf&&(this._parent.updateValueAndValidity(F),F.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(F){this._parent=F}getRawValue(){return this.value}updateValueAndValidity(F={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===er||this.status===yn)&&this._runAsyncValidator(F.emitEvent)),!1!==F.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!F.onlySelf&&this._parent.updateValueAndValidity(F)}_updateTreeValidity(F={emitEvent:!0}){this._forEachChild(P=>P._updateTreeValidity(F)),this.updateValueAndValidity({onlySelf:!0,emitEvent:F.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zt:er}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(F){if(this.asyncValidator){this.status=yn,this._hasOwnPendingAsyncValidator=!0;const P=et(this.asyncValidator(this));this._asyncValidationSubscription=P.subscribe(oe=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(oe,{emitEvent:F})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(F,P={}){this.errors=F,this._updateControlsErrors(!1!==P.emitEvent)}get(F){let P=F;return null==P||(Array.isArray(P)||(P=P.split(".")),0===P.length)?null:P.reduce((oe,mt)=>oe&&oe._find(mt),this)}getError(F,P){const oe=P?this.get(P):this;return oe&&oe.errors?oe.errors[F]:null}hasError(F,P){return!!this.getError(F,P)}get root(){let F=this;for(;F._parent;)F=F._parent;return F}_updateControlsErrors(F){this.status=this._calculateStatus(),F&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(F)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?zt:this.errors?gr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(yn)?yn:this._anyControlsHaveStatus(gr)?gr:er}_anyControlsHaveStatus(F){return this._anyControls(P=>P.status===F)}_anyControlsDirty(){return this._anyControls(F=>F.dirty)}_anyControlsTouched(){return this._anyControls(F=>F.touched)}_updatePristine(F={}){this.pristine=!this._anyControlsDirty(),this._parent&&!F.onlySelf&&this._parent._updatePristine(F)}_updateTouched(F={}){this.touched=this._anyControlsTouched(),this._parent&&!F.onlySelf&&this._parent._updateTouched(F)}_registerOnCollectionChange(F){this._onCollectionChange=F}_setUpdateStrategy(F){ot(F)&&null!=F.updateOn&&(this._updateOn=F.updateOn)}_parentMarkedDirty(F){return!F&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(F){return null}}class Mt extends Pt{constructor(F,P,oe){super(Sn(P),Xn(oe,P)),this.controls=F,this._initObservables(),this._setUpdateStrategy(P),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(F,P){return this.controls[F]?this.controls[F]:(this.controls[F]=P,P.setParent(this),P._registerOnCollectionChange(this._onCollectionChange),P)}addControl(F,P,oe={}){this.registerControl(F,P),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}removeControl(F,P={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),delete this.controls[F],this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}setControl(F,P,oe={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),delete this.controls[F],P&&this.registerControl(F,P),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}contains(F){return this.controls.hasOwnProperty(F)&&this.controls[F].enabled}setValue(F,P={}){ht(this,0,F),Object.keys(F).forEach(oe=>{Ze(this,!0,oe),this.controls[oe].setValue(F[oe],{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P)}patchValue(F,P={}){null!=F&&(Object.keys(F).forEach(oe=>{const mt=this.controls[oe];mt&&mt.patchValue(F[oe],{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P))}reset(F={},P={}){this._forEachChild((oe,mt)=>{oe.reset(F[mt],{onlySelf:!0,emitEvent:P.emitEvent})}),this._updatePristine(P),this._updateTouched(P),this.updateValueAndValidity(P)}getRawValue(){return this._reduceChildren({},(F,P,oe)=>(F[oe]=P.getRawValue(),F))}_syncPendingControls(){let F=this._reduceChildren(!1,(P,oe)=>!!oe._syncPendingControls()||P);return F&&this.updateValueAndValidity({onlySelf:!0}),F}_forEachChild(F){Object.keys(this.controls).forEach(P=>{const oe=this.controls[P];oe&&F(oe,P)})}_setUpControls(){this._forEachChild(F=>{F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(F){for(const[P,oe]of Object.entries(this.controls))if(this.contains(P)&&F(oe))return!0;return!1}_reduceValue(){return this._reduceChildren({},(P,oe,mt)=>((oe.enabled||this.disabled)&&(P[mt]=oe.value),P))}_reduceChildren(F,P){let oe=F;return this._forEachChild((mt,nn)=>{oe=P(oe,mt,nn)}),oe}_allControlsDisabled(){for(const F of Object.keys(this.controls))if(this.controls[F].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(F){return this.controls.hasOwnProperty(F)?this.controls[F]:null}}class br extends Mt{}const $r=new c.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Tt}),Tt="always";function Z(j,F,P=Tt){var oe,mt;Lt(j,F),F.valueAccessor.writeValue(j.value),(j.disabled||"always"===P)&&(null===(oe=(mt=F.valueAccessor).setDisabledState)||void 0===oe||oe.call(mt,j.disabled)),function tn(j,F){F.valueAccessor.registerOnChange(P=>{j._pendingValue=P,j._pendingChange=!0,j._pendingDirty=!0,"change"===j.updateOn&&hn(j,F)})}(j,F),function Rn(j,F){const P=(oe,mt)=>{F.valueAccessor.writeValue(oe),mt&&F.viewToModelUpdate(oe)};j.registerOnChange(P),F._registerOnDestroy(()=>{j._unregisterOnChange(P)})}(j,F),function Cn(j,F){F.valueAccessor.registerOnTouched(()=>{j._pendingTouched=!0,"blur"===j.updateOn&&j._pendingChange&&hn(j,F),"submit"!==j.updateOn&&j.markAsTouched()})}(j,F),function pt(j,F){if(F.valueAccessor.setDisabledState){const P=oe=>{F.valueAccessor.setDisabledState(oe)};j.registerOnDisabledChange(P),F._registerOnDestroy(()=>{j._unregisterOnDisabledChange(P)})}}(j,F)}function pe(j,F,P=!0){const oe=()=>{};F.valueAccessor&&(F.valueAccessor.registerOnChange(oe),F.valueAccessor.registerOnTouched(oe)),en(j,F),j&&(F._invokeOnDestroyCallbacks(),j._registerOnCollectionChange(()=>{}))}function Ye(j,F){j.forEach(P=>{P.registerOnValidatorChange&&P.registerOnValidatorChange(F)})}function Lt(j,F){const P=At(j);null!==F.validator?j.setValidators(Be(P,F.validator)):"function"==typeof P&&j.setValidators([P]);const oe=Ot(j);null!==F.asyncValidator?j.setAsyncValidators(Be(oe,F.asyncValidator)):"function"==typeof oe&&j.setAsyncValidators([oe]);const mt=()=>j.updateValueAndValidity();Ye(F._rawValidators,mt),Ye(F._rawAsyncValidators,mt)}function en(j,F){let P=!1;if(null!==j){if(null!==F.validator){const mt=At(j);if(Array.isArray(mt)&&mt.length>0){const nn=mt.filter(Zr=>Zr!==F.validator);nn.length!==mt.length&&(P=!0,j.setValidators(nn))}}if(null!==F.asyncValidator){const mt=Ot(j);if(Array.isArray(mt)&&mt.length>0){const nn=mt.filter(Zr=>Zr!==F.asyncValidator);nn.length!==mt.length&&(P=!0,j.setAsyncValidators(nn))}}}const oe=()=>{};return Ye(F._rawValidators,oe),Ye(F._rawAsyncValidators,oe),P}function hn(j,F){j._pendingDirty&&j.markAsDirty(),j.setValue(j._pendingValue,{emitModelToViewChange:!1}),F.viewToModelUpdate(j._pendingValue),j._pendingChange=!1}function N(j,F){const P=j.indexOf(F);P>-1&&j.splice(P,1)}function J(j){return"object"==typeof j&&null!==j&&2===Object.keys(j).length&&"value"in j&&"disabled"in j}const me=class extends Pt{constructor(F=null,P,oe){super(Sn(P),Xn(oe,P)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(F),this._setUpdateStrategy(P),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ot(P)&&(P.nonNullable||P.initialValueIsDefault)&&(this.defaultValue=J(F)?F.value:F)}setValue(F,P={}){this.value=this._pendingValue=F,this._onChange.length&&!1!==P.emitModelToViewChange&&this._onChange.forEach(oe=>oe(this.value,!1!==P.emitViewToModelChange)),this.updateValueAndValidity(P)}patchValue(F,P={}){this.setValue(F,P)}reset(F=this.defaultValue,P={}){this._applyFormState(F),this.markAsPristine(P),this.markAsUntouched(P),this.setValue(this.value,P),this._pendingChange=!1}_updateValue(){}_anyControls(F){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(F){this._onChange.push(F)}_unregisterOnChange(F){N(this._onChange,F)}registerOnDisabledChange(F){this._onDisabledChange.push(F)}_unregisterOnDisabledChange(F){N(this._onDisabledChange,F)}_forEachChild(F){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(F){J(F)?(this.value=this._pendingValue=F.value,F.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=F}};let yt=(()=>{class j{}return j.\u0275fac=function(P){return new(P||j)},j.\u0275dir=c.lG2({type:j,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),j})(),sr=(()=>{class j{}return j.\u0275fac=function(P){return new(P||j)},j.\u0275mod=c.oAB({type:j}),j.\u0275inj=c.cJS({}),j})();const xr=new c.OlP("NgModelWithFormControlWarning"),Zi={provide:Fn,useExisting:(0,c.Gpc)(()=>Ai)};let Ai=(()=>{class j extends Fn{constructor(P,oe,mt){super(),this.callSetDisabledState=mt,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(P),this._setAsyncValidators(oe)}ngOnChanges(P){this._checkFormPresent(),P.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(en(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(P){const oe=this.form.get(P.path);return Z(oe,P,this.callSetDisabledState),oe.updateValueAndValidity({emitEvent:!1}),this.directives.push(P),oe}getControl(P){return this.form.get(P.path)}removeControl(P){pe(P.control||null,P,!1),function Tr(j,F){const P=j.indexOf(F);P>-1&&j.splice(P,1)}(this.directives,P)}addFormGroup(P){this._setUpFormContainer(P)}removeFormGroup(P){this._cleanUpFormContainer(P)}getFormGroup(P){return this.form.get(P.path)}addFormArray(P){this._setUpFormContainer(P)}removeFormArray(P){this._cleanUpFormContainer(P)}getFormArray(P){return this.form.get(P.path)}updateModel(P,oe){this.form.get(P.path).setValue(oe)}onSubmit(P){var oe;return this.submitted=!0,function Dn(j,F){j._syncPendingControls(),F.forEach(P=>{const oe=P.control;"submit"===oe.updateOn&&oe._pendingChange&&(P.viewToModelUpdate(oe._pendingValue),oe._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(P),"dialog"===(null==P||null===(oe=P.target)||void 0===oe?void 0:oe.method)}onReset(){this.resetForm()}resetForm(P){this.form.reset(P),this.submitted=!1}_updateDomValue(){this.directives.forEach(P=>{const oe=P.control,mt=this.form.get(P.path);oe!==mt&&(pe(oe||null,P),(j=>j instanceof me)(mt)&&(Z(mt,P,this.callSetDisabledState),P.control=mt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(P){const oe=this.form.get(P.path);(function Dr(j,F){Lt(j,F)})(oe,P),oe.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(P){if(this.form){const oe=this.form.get(P.path);oe&&function Yr(j,F){return en(j,F)}(oe,P)&&oe.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Lt(this.form,this),this._oldForm&&en(this._oldForm,this)}_checkFormPresent(){}}return j.\u0275fac=function(P){return new(P||j)(c.Y36(ye,10),c.Y36(Ce,10),c.Y36($r,8))},j.\u0275dir=c.lG2({type:j,selectors:[["","formGroup",""]],hostBindings:function(P,oe){1&P&&c.NdJ("submit",function(nn){return oe.onSubmit(nn)})("reset",function(){return oe.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([Zi]),c.qOj,c.TTD]}),j})();const Ni={provide:rn,useExisting:(0,c.Gpc)(()=>ho)};let ho=(()=>{class j extends rn{constructor(P,oe,mt,nn,Zr){super(),this._ngModelWarningConfig=Zr,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=P,this._setValidators(oe),this._setAsyncValidators(mt),this.valueAccessor=function ir(j,F){if(!F)return null;let P,oe,mt;return Array.isArray(F),F.forEach(nn=>{nn.constructor===Xe?P=nn:function hi(j){return Object.getPrototypeOf(j.constructor)===we}(nn)?oe=nn:mt=nn}),mt||oe||P||null}(0,nn)}set isDisabled(P){}ngOnChanges(P){this._added||this._setUpControl(),function pr(j,F){if(!j.hasOwnProperty("model"))return!1;const P=j.model;return!!P.isFirstChange()||!Object.is(F,P.currentValue)}(P,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(P){this.viewModel=P,this.update.emit(P)}get path(){return function it(j,F){return[...F.path,j]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return j._ngModelWarningSentOnce=!1,j.\u0275fac=function(P){return new(P||j)(c.Y36(Fn,13),c.Y36(ye,10),c.Y36(Ce,10),c.Y36(Se,10),c.Y36(xr,8))},j.\u0275dir=c.lG2({type:j,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([Ni]),c.qOj,c.TTD]}),j})(),Ar=(()=>{class j{constructor(){this._validator=ke}ngOnChanges(P){if(this.inputName in P){const oe=this.normalizeInput(P[this.inputName].currentValue);this._enabled=this.enabled(oe),this._validator=this._enabled?this.createValidator(oe):ke,this._onChange&&this._onChange()}}validate(P){return this._validator(P)}registerOnValidatorChange(P){this._onChange=P}enabled(P){return null!=P}}return j.\u0275fac=function(P){return new(P||j)},j.\u0275dir=c.lG2({type:j,features:[c.TTD]}),j})();const qs={provide:ye,useExisting:(0,c.Gpc)(()=>Ys),multi:!0};let Ys=(()=>{class j extends Ar{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.D6c,this.createValidator=P=>Ne}enabled(P){return P}}return j.\u0275fac=function(){let F;return function(oe){return(F||(F=c.n5z(j)))(oe||j)}}(),j.\u0275dir=c.lG2({type:j,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(P,oe){2&P&&c.uIk("required",oe._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([qs]),c.qOj]}),j})(),Ei=(()=>{class j{}return j.\u0275fac=function(P){return new(P||j)},j.\u0275mod=c.oAB({type:j}),j.\u0275inj=c.cJS({imports:[sr]}),j})(),ua=(()=>{class j{static withConfig(P){var oe;return{ngModule:j,providers:[{provide:$r,useValue:null!==(oe=P.callSetDisabledState)&&void 0!==oe?oe:Tt}]}}}return j.\u0275fac=function(P){return new(P||j)},j.\u0275mod=c.oAB({type:j}),j.\u0275inj=c.cJS({imports:[Ei]}),j})(),_i=(()=>{class j{static withConfig(P){var oe,mt;return{ngModule:j,providers:[{provide:xr,useValue:null!==(oe=P.warnOnNgModelWithFormControl)&&void 0!==oe?oe:"always"},{provide:$r,useValue:null!==(mt=P.callSetDisabledState)&&void 0!==mt?mt:Tt}]}}}return j.\u0275fac=function(P){return new(P||j)},j.\u0275mod=c.oAB({type:j}),j.\u0275inj=c.cJS({imports:[Ei]}),j})();class js extends Pt{constructor(F,P,oe){super(Sn(P),Xn(oe,P)),this.controls=F,this._initObservables(),this._setUpdateStrategy(P),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(F){return this.controls[this._adjustIndex(F)]}push(F,P={}){this.controls.push(F),this._registerControl(F),this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}insert(F,P,oe={}){this.controls.splice(F,0,P),this._registerControl(P),this.updateValueAndValidity({emitEvent:oe.emitEvent})}removeAt(F,P={}){let oe=this._adjustIndex(F);oe<0&&(oe=0),this.controls[oe]&&this.controls[oe]._registerOnCollectionChange(()=>{}),this.controls.splice(oe,1),this.updateValueAndValidity({emitEvent:P.emitEvent})}setControl(F,P,oe={}){let mt=this._adjustIndex(F);mt<0&&(mt=0),this.controls[mt]&&this.controls[mt]._registerOnCollectionChange(()=>{}),this.controls.splice(mt,1),P&&(this.controls.splice(mt,0,P),this._registerControl(P)),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(F,P={}){ht(this,0,F),F.forEach((oe,mt)=>{Ze(this,!1,mt),this.at(mt).setValue(oe,{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P)}patchValue(F,P={}){null!=F&&(F.forEach((oe,mt)=>{this.at(mt)&&this.at(mt).patchValue(oe,{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P))}reset(F=[],P={}){this._forEachChild((oe,mt)=>{oe.reset(F[mt],{onlySelf:!0,emitEvent:P.emitEvent})}),this._updatePristine(P),this._updateTouched(P),this.updateValueAndValidity(P)}getRawValue(){return this.controls.map(F=>F.getRawValue())}clear(F={}){this.controls.length<1||(this._forEachChild(P=>P._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:F.emitEvent}))}_adjustIndex(F){return F<0?F+this.length:F}_syncPendingControls(){let F=this.controls.reduce((P,oe)=>!!oe._syncPendingControls()||P,!1);return F&&this.updateValueAndValidity({onlySelf:!0}),F}_forEachChild(F){this.controls.forEach((P,oe)=>{F(P,oe)})}_updateValue(){this.value=this.controls.filter(F=>F.enabled||this.disabled).map(F=>F.value)}_anyControls(F){return this.controls.some(P=>P.enabled&&F(P))}_setUpControls(){this._forEachChild(F=>this._registerControl(F))}_allControlsDisabled(){for(const F of this.controls)if(F.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(F){F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange)}_find(F){var P;return null!==(P=this.at(F))&&void 0!==P?P:null}}function X(j){return!!j&&(void 0!==j.asyncValidators||void 0!==j.validators||void 0!==j.updateOn)}let w=(()=>{class j{constructor(){this.useNonNullable=!1}get nonNullable(){const P=new j;return P.useNonNullable=!0,P}group(P,oe=null){const mt=this._reduceControls(P);let nn={};return X(oe)?nn=oe:null!==oe&&(nn.validators=oe.validator,nn.asyncValidators=oe.asyncValidator),new Mt(mt,nn)}record(P,oe=null){const mt=this._reduceControls(P);return new br(mt,oe)}control(P,oe,mt){let nn={};return this.useNonNullable?(X(oe)?nn=oe:(nn.validators=oe,nn.asyncValidators=mt),new me(P,{...nn,nonNullable:!0})):new me(P,oe,mt)}array(P,oe,mt){const nn=P.map(Zr=>this._createControl(Zr));return new js(nn,oe,mt)}_reduceControls(P){const oe={};return Object.keys(P).forEach(mt=>{oe[mt]=this._createControl(P[mt])}),oe}_createControl(P){return P instanceof me||P instanceof Pt?P:Array.isArray(P)?this.control(P[0],P.length>1?P[1]:null,P.length>2?P[2]:null):this.control(P)}}return j.\u0275fac=function(P){return new(P||j)},j.\u0275prov=c.Yz7({token:j,factory:j.\u0275fac,providedIn:_i}),j})()},1481:(gn,_t,$)=>{"use strict";$.d(_t,{Dx:()=>rr,b2:()=>fr,q6:()=>zn});var c=$(6895),ne=$(4650);class W extends c.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ue extends W{static makeCurrent(){(0,c.HT)(new Ue)}onAndCancel(it,Z,pe){return it.addEventListener(Z,pe,!1),()=>{it.removeEventListener(Z,pe,!1)}}dispatchEvent(it,Z){it.dispatchEvent(Z)}remove(it){it.parentNode&&it.parentNode.removeChild(it)}createElement(it,Z){return(Z=Z||this.getDefaultDocument()).createElement(it)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(it){return it.nodeType===Node.ELEMENT_NODE}isShadowRoot(it){return it instanceof DocumentFragment}getGlobalEventTarget(it,Z){return"window"===Z?window:"document"===Z?it:"body"===Z?it.body:null}getBaseHref(it){const Z=function He(){return Le=Le||document.querySelector("base"),Le?Le.getAttribute("href"):null}();return null==Z?null:function Se(Tt){we=we||document.createElement("a"),we.setAttribute("href",Tt);const it=we.pathname;return"/"===it.charAt(0)?it:`/${it}`}(Z)}resetBaseElement(){Le=null}getUserAgent(){return window.navigator.userAgent}getCookie(it){return(0,c.Mx)(document.cookie,it)}}let we,Le=null;const $e=new ne.OlP("TRANSITION_ID"),de=[{provide:ne.ip1,useFactory:function xe(Tt,it,Z){return()=>{Z.get(ne.CZH).donePromise.then(()=>{const pe=(0,c.q)(),Ye=it.querySelectorAll(`style[ng-transition="${Tt}"]`);for(let pt=0;pt<Ye.length;pt++)pe.remove(Ye[pt])})}},deps:[$e,c.K0,ne.zs3],multi:!0}];let ze=(()=>{class Tt{build(){return new XMLHttpRequest}}return Tt.\u0275fac=function(Z){return new(Z||Tt)},Tt.\u0275prov=ne.Yz7({token:Tt,factory:Tt.\u0275fac}),Tt})();const Xe=new ne.OlP("EventManagerPlugins");let vt=(()=>{class Tt{constructor(Z,pe){this._zone=pe,this._eventNameToPlugin=new Map,Z.forEach(Ye=>Ye.manager=this),this._plugins=Z.slice().reverse()}addEventListener(Z,pe,Ye){return this._findPluginFor(pe).addEventListener(Z,pe,Ye)}addGlobalEventListener(Z,pe,Ye){return this._findPluginFor(pe).addGlobalEventListener(Z,pe,Ye)}getZone(){return this._zone}_findPluginFor(Z){const pe=this._eventNameToPlugin.get(Z);if(pe)return pe;const Ye=this._plugins;for(let pt=0;pt<Ye.length;pt++){const Lt=Ye[pt];if(Lt.supports(Z))return this._eventNameToPlugin.set(Z,Lt),Lt}throw new Error(`No event manager plugin found for event ${Z}`)}}return Tt.\u0275fac=function(Z){return new(Z||Tt)(ne.LFG(Xe),ne.LFG(ne.R0b))},Tt.\u0275prov=ne.Yz7({token:Tt,factory:Tt.\u0275fac}),Tt})();class lt{constructor(it){this._doc=it}addGlobalEventListener(it,Z,pe){const Ye=(0,c.q)().getGlobalEventTarget(this._doc,it);if(!Ye)throw new Error(`Unsupported event target ${Ye} for event ${Z}`);return this.addEventListener(Ye,Z,pe)}}let at=(()=>{class Tt{constructor(){this._stylesSet=new Set}addStyles(Z){const pe=new Set;Z.forEach(Ye=>{this._stylesSet.has(Ye)||(this._stylesSet.add(Ye),pe.add(Ye))}),this.onStylesAdded(pe)}onStylesAdded(Z){}getAllStyles(){return Array.from(this._stylesSet)}}return Tt.\u0275fac=function(Z){return new(Z||Tt)},Tt.\u0275prov=ne.Yz7({token:Tt,factory:Tt.\u0275fac}),Tt})(),ye=(()=>{class Tt extends at{constructor(Z){super(),this._doc=Z,this._hostNodes=new Map,this._hostNodes.set(Z.head,[])}_addStylesToHost(Z,pe,Ye){Z.forEach(pt=>{const Lt=this._doc.createElement("style");Lt.textContent=pt,Ye.push(pe.appendChild(Lt))})}addHost(Z){const pe=[];this._addStylesToHost(this._stylesSet,Z,pe),this._hostNodes.set(Z,pe)}removeHost(Z){const pe=this._hostNodes.get(Z);pe&&pe.forEach(Ce),this._hostNodes.delete(Z)}onStylesAdded(Z){this._hostNodes.forEach((pe,Ye)=>{this._addStylesToHost(Z,Ye,pe)})}ngOnDestroy(){this._hostNodes.forEach(Z=>Z.forEach(Ce))}}return Tt.\u0275fac=function(Z){return new(Z||Tt)(ne.LFG(c.K0))},Tt.\u0275prov=ne.Yz7({token:Tt,factory:Tt.\u0275fac}),Tt})();function Ce(Tt){(0,c.q)().remove(Tt)}const wt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ve=/%COMP%/g;function he(Tt,it,Z){for(let pe=0;pe<it.length;pe++){let Ye=it[pe];Array.isArray(Ye)?he(Tt,Ye,Z):(Ye=Ye.replace(Ve,Tt),Z.push(Ye))}return Z}function B(Tt){return it=>{if("__ngUnwrap__"===it)return Tt;!1===Tt(it)&&(it.preventDefault(),it.returnValue=!1)}}let Oe=(()=>{class Tt{constructor(Z,pe,Ye){this.eventManager=Z,this.sharedStylesHost=pe,this.appId=Ye,this.rendererByCompId=new Map,this.defaultRenderer=new et(Z)}createRenderer(Z,pe){if(!Z||!pe)return this.defaultRenderer;switch(pe.encapsulation){case ne.ifc.Emulated:{let Ye=this.rendererByCompId.get(pe.id);return Ye||(Ye=new be(this.eventManager,this.sharedStylesHost,pe,this.appId),this.rendererByCompId.set(pe.id,Ye)),Ye.applyToHost(Z),Ye}case 1:case ne.ifc.ShadowDom:return new K(this.eventManager,this.sharedStylesHost,Z,pe);default:if(!this.rendererByCompId.has(pe.id)){const Ye=he(pe.id,pe.styles,[]);this.sharedStylesHost.addStyles(Ye),this.rendererByCompId.set(pe.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Tt.\u0275fac=function(Z){return new(Z||Tt)(ne.LFG(vt),ne.LFG(ye),ne.LFG(ne.AFp))},Tt.\u0275prov=ne.Yz7({token:Tt,factory:Tt.\u0275fac}),Tt})();class et{constructor(it){this.eventManager=it,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(it,Z){return Z?document.createElementNS(wt[Z]||Z,it):document.createElement(it)}createComment(it){return document.createComment(it)}createText(it){return document.createTextNode(it)}appendChild(it,Z){(qe(it)?it.content:it).appendChild(Z)}insertBefore(it,Z,pe){it&&(qe(it)?it.content:it).insertBefore(Z,pe)}removeChild(it,Z){it&&it.removeChild(Z)}selectRootElement(it,Z){let pe="string"==typeof it?document.querySelector(it):it;if(!pe)throw new Error(`The selector "${it}" did not match any elements`);return Z||(pe.textContent=""),pe}parentNode(it){return it.parentNode}nextSibling(it){return it.nextSibling}setAttribute(it,Z,pe,Ye){if(Ye){Z=Ye+":"+Z;const pt=wt[Ye];pt?it.setAttributeNS(pt,Z,pe):it.setAttribute(Z,pe)}else it.setAttribute(Z,pe)}removeAttribute(it,Z,pe){if(pe){const Ye=wt[pe];Ye?it.removeAttributeNS(Ye,Z):it.removeAttribute(`${pe}:${Z}`)}else it.removeAttribute(Z)}addClass(it,Z){it.classList.add(Z)}removeClass(it,Z){it.classList.remove(Z)}setStyle(it,Z,pe,Ye){Ye&(ne.JOm.DashCase|ne.JOm.Important)?it.style.setProperty(Z,pe,Ye&ne.JOm.Important?"important":""):it.style[Z]=pe}removeStyle(it,Z,pe){pe&ne.JOm.DashCase?it.style.removeProperty(Z):it.style[Z]=""}setProperty(it,Z,pe){it[Z]=pe}setValue(it,Z){it.nodeValue=Z}listen(it,Z,pe){return"string"==typeof it?this.eventManager.addGlobalEventListener(it,Z,B(pe)):this.eventManager.addEventListener(it,Z,B(pe))}}function qe(Tt){return"TEMPLATE"===Tt.tagName&&void 0!==Tt.content}class be extends et{constructor(it,Z,pe,Ye){super(it),this.component=pe;const pt=he(Ye+"-"+pe.id,pe.styles,[]);Z.addStyles(pt),this.contentAttr=function ie(Tt){return"_ngcontent-%COMP%".replace(Ve,Tt)}(Ye+"-"+pe.id),this.hostAttr=function ut(Tt){return"_nghost-%COMP%".replace(Ve,Tt)}(Ye+"-"+pe.id)}applyToHost(it){super.setAttribute(it,this.hostAttr,"")}createElement(it,Z){const pe=super.createElement(it,Z);return super.setAttribute(pe,this.contentAttr,""),pe}}class K extends et{constructor(it,Z,pe,Ye){super(it),this.sharedStylesHost=Z,this.hostEl=pe,this.shadowRoot=pe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const pt=he(Ye.id,Ye.styles,[]);for(let Lt=0;Lt<pt.length;Lt++){const en=document.createElement("style");en.textContent=pt[Lt],this.shadowRoot.appendChild(en)}}nodeOrShadowRoot(it){return it===this.hostEl?this.shadowRoot:it}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(it,Z){return super.appendChild(this.nodeOrShadowRoot(it),Z)}insertBefore(it,Z,pe){return super.insertBefore(this.nodeOrShadowRoot(it),Z,pe)}removeChild(it,Z){return super.removeChild(this.nodeOrShadowRoot(it),Z)}parentNode(it){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(it)))}}let le=(()=>{class Tt extends lt{constructor(Z){super(Z)}supports(Z){return!0}addEventListener(Z,pe,Ye){return Z.addEventListener(pe,Ye,!1),()=>this.removeEventListener(Z,pe,Ye)}removeEventListener(Z,pe,Ye){return Z.removeEventListener(pe,Ye)}}return Tt.\u0275fac=function(Z){return new(Z||Tt)(ne.LFG(c.K0))},Tt.\u0275prov=ne.Yz7({token:Tt,factory:Tt.\u0275fac}),Tt})();const ve=["alt","control","meta","shift"],Me={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Be={alt:Tt=>Tt.altKey,control:Tt=>Tt.ctrlKey,meta:Tt=>Tt.metaKey,shift:Tt=>Tt.shiftKey};let At=(()=>{class Tt extends lt{constructor(Z){super(Z)}supports(Z){return null!=Tt.parseEventName(Z)}addEventListener(Z,pe,Ye){const pt=Tt.parseEventName(pe),Lt=Tt.eventCallback(pt.fullKey,Ye,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,c.q)().onAndCancel(Z,pt.domEventName,Lt))}static parseEventName(Z){const pe=Z.toLowerCase().split("."),Ye=pe.shift();if(0===pe.length||"keydown"!==Ye&&"keyup"!==Ye)return null;const pt=Tt._normalizeKey(pe.pop());let Lt="",en=pe.indexOf("code");if(en>-1&&(pe.splice(en,1),Lt="code."),ve.forEach(Cn=>{const hn=pe.indexOf(Cn);hn>-1&&(pe.splice(hn,1),Lt+=Cn+".")}),Lt+=pt,0!=pe.length||0===pt.length)return null;const tn={};return tn.domEventName=Ye,tn.fullKey=Lt,tn}static matchEventFullKeyCode(Z,pe){let Ye=Me[Z.key]||Z.key,pt="";return pe.indexOf("code.")>-1&&(Ye=Z.code,pt="code."),!(null==Ye||!Ye)&&(Ye=Ye.toLowerCase()," "===Ye?Ye="space":"."===Ye&&(Ye="dot"),ve.forEach(Lt=>{Lt!==Ye&&(0,Be[Lt])(Z)&&(pt+=Lt+".")}),pt+=Ye,pt===pe)}static eventCallback(Z,pe,Ye){return pt=>{Tt.matchEventFullKeyCode(pt,Z)&&Ye.runGuarded(()=>pe(pt))}}static _normalizeKey(Z){return"esc"===Z?"escape":Z}}return Tt.\u0275fac=function(Z){return new(Z||Tt)(ne.LFG(c.K0))},Tt.\u0275prov=ne.Yz7({token:Tt,factory:Tt.\u0275fac}),Tt})();const zn=(0,ne.eFA)(ne._c5,"browser",[{provide:ne.Lbi,useValue:c.bD},{provide:ne.g9A,useValue:function Pn(){Ue.makeCurrent()},multi:!0},{provide:c.K0,useFactory:function rn(){return(0,ne.RDi)(document),document},deps:[]}]),Or=new ne.OlP(""),Yt=[{provide:ne.rWj,useClass:class Te{addToWindow(it){ne.dqk.getAngularTestability=(pe,Ye=!0)=>{const pt=it.findTestabilityInTree(pe,Ye);if(null==pt)throw new Error("Could not find testability for element.");return pt},ne.dqk.getAllAngularTestabilities=()=>it.getAllTestabilities(),ne.dqk.getAllAngularRootElements=()=>it.getAllRootElements(),ne.dqk.frameworkStabilizers||(ne.dqk.frameworkStabilizers=[]),ne.dqk.frameworkStabilizers.push(pe=>{const Ye=ne.dqk.getAllAngularTestabilities();let pt=Ye.length,Lt=!1;const en=function(tn){Lt=Lt||tn,pt--,0==pt&&pe(Lt)};Ye.forEach(function(tn){tn.whenStable(en)})})}findTestabilityInTree(it,Z,pe){if(null==Z)return null;const Ye=it.getTestability(Z);return null!=Ye?Ye:pe?(0,c.q)().isShadowRoot(Z)?this.findTestabilityInTree(it,Z.host,!0):this.findTestabilityInTree(it,Z.parentElement,!0):null}},deps:[]},{provide:ne.lri,useClass:ne.dDg,deps:[ne.R0b,ne.eoX,ne.rWj]},{provide:ne.dDg,useClass:ne.dDg,deps:[ne.R0b,ne.eoX,ne.rWj]}],wn=[{provide:ne.zSh,useValue:"root"},{provide:ne.qLn,useFactory:function Fn(){return new ne.qLn},deps:[]},{provide:Xe,useClass:le,multi:!0,deps:[c.K0,ne.R0b,ne.Lbi]},{provide:Xe,useClass:At,multi:!0,deps:[c.K0]},{provide:Oe,useClass:Oe,deps:[vt,ye,ne.AFp]},{provide:ne.FYo,useExisting:Oe},{provide:at,useExisting:ye},{provide:ye,useClass:ye,deps:[c.K0]},{provide:vt,useClass:vt,deps:[Xe,ne.R0b]},{provide:c.JF,useClass:ze,deps:[]},[]];let fr=(()=>{class Tt{constructor(Z){}static withServerTransition(Z){return{ngModule:Tt,providers:[{provide:ne.AFp,useValue:Z.appId},{provide:$e,useExisting:ne.AFp},de]}}}return Tt.\u0275fac=function(Z){return new(Z||Tt)(ne.LFG(Or,12))},Tt.\u0275mod=ne.oAB({type:Tt}),Tt.\u0275inj=ne.cJS({providers:[...wn,...Yt],imports:[c.ez,ne.hGG]}),Tt})(),rr=(()=>{class Tt{constructor(Z){this._doc=Z}getTitle(){return this._doc.title}setTitle(Z){this._doc.title=Z||""}}return Tt.\u0275fac=function(Z){return new(Z||Tt)(ne.LFG(c.K0))},Tt.\u0275prov=ne.Yz7({token:Tt,factory:function(Z){let pe=null;return pe=Z?new Z:function ci(){return new rr((0,ne.LFG)(c.K0))}(),pe},providedIn:"root"}),Tt})();typeof window<"u"&&window},4074:(gn,_t,$)=>{"use strict";$.d(_t,{gz:()=>Gi,y6:()=>Wi,OD:()=>dt,eC:()=>rn,wm:()=>za,wN:()=>Wo,F0:()=>Ln,rH:()=>pl,Bz:()=>bd,Hx:()=>nr});var c=$(4650),ne=$(8996),W=$(9646),Ue=$(1135),Le=$(6805),He=$(9751),we=$(4742),Se=$(4671),$e=$(3268),xe=$(7669),de=$(1810),Te=$(5403),ze=$(9672);function Xe(...S){const A=(0,xe.yG)(S),T=(0,xe.jO)(S),{args:O,keys:z}=(0,we.D)(S);if(0===O.length)return(0,ne.D)([],A);const fe=new He.y(function vt(S,A,T=Se.y){return O=>{lt(A,()=>{const{length:z}=S,fe=new Array(z);let je=z,Qe=z;for(let kt=0;kt<z;kt++)lt(A,()=>{const pn=(0,ne.D)(S[kt],A);let Wn=!1;pn.subscribe((0,Te.x)(O,Mn=>{fe[kt]=Mn,Wn||(Wn=!0,Qe--),Qe||O.next(T(fe.slice()))},()=>{--je||O.complete()}))},O)},O)}}(O,A,z?je=>(0,de.n)(z,je):Se.y));return T?fe.pipe((0,$e.Z)(T)):fe}function lt(S,A,T){S?(0,ze.f)(T,S,A):A()}var at=$(7272),ye=$(9770),Ce=$(9635),wt=$(576);function Ve(S,A){const T=(0,wt.m)(S)?S:()=>S,O=z=>z.error(T());return new He.y(A?z=>A.schedule(O,0,z):O)}var tt=$(515),Ke=$(727),Ne=$(4482);function rt(){return(0,Ne.e)((S,A)=>{let T=null;S._refCount++;const O=(0,Te.x)(A,void 0,void 0,void 0,()=>{if(!S||S._refCount<=0||0<--S._refCount)return void(T=null);const z=S._connection,fe=T;T=null,z&&(!fe||z===fe)&&z.unsubscribe(),A.unsubscribe()});S.subscribe(O),O.closed||(T=S.connect())})}class ie extends He.y{constructor(A,T){super(),this.source=A,this.subjectFactory=T,this._subject=null,this._refCount=0,this._connection=null,(0,Ne.A)(A)&&(this.lift=A.lift)}_subscribe(A){return this.getSubject().subscribe(A)}getSubject(){const A=this._subject;return(!A||A.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:A}=this;this._subject=this._connection=null,null==A||A.unsubscribe()}connect(){let A=this._connection;if(!A){A=this._connection=new Ke.w0;const T=this.getSubject();A.add(this.source.subscribe((0,Te.x)(T,void 0,()=>{this._teardown(),T.complete()},O=>{this._teardown(),T.error(O)},()=>this._teardown()))),A.closed&&(this._connection=null,A=Ke.w0.EMPTY)}return A}refCount(){return rt()(this)}}var ut=$(7579),he=$(6895),B=$(4004),ke=$(3900),Oe=$(5698),et=$(8675),Rt=$(9300),qt=$(5577),qe=$(590),be=$(4351),K=$(8505),le=$(8421);function ve(S){return(0,Ne.e)((A,T)=>{let fe,O=null,z=!1;O=A.subscribe((0,Te.x)(T,void 0,void 0,je=>{fe=(0,le.Xf)(S(je,ve(S)(A))),O?(O.unsubscribe(),O=null,fe.subscribe(T)):z=!0})),z&&(O.unsubscribe(),O=null,fe.subscribe(T))})}var Me=$(5026);function Be(S){return S<=0?()=>tt.E:(0,Ne.e)((A,T)=>{let O=[];A.subscribe((0,Te.x)(T,z=>{O.push(z),S<O.length&&O.shift()},()=>{for(const z of O)T.next(z);T.complete()},void 0,()=>{O=null}))})}var At=$(8068),Ot=$(6590);function Bt(S,A){const T=arguments.length>=2;return O=>O.pipe(S?(0,Rt.h)((z,fe)=>S(z,fe,O)):Se.y,Be(1),T?(0,Ot.d)(A):(0,At.T)(()=>new Le.K))}function vn(S){return(0,Ne.e)((A,T)=>{try{A.subscribe(T)}finally{T.add(S)}})}var Pn=$(8189),Fn=$(1481);const rn="primary",En=Symbol("RouteTitle");class zn{constructor(A){this.params=A||{}}has(A){return Object.prototype.hasOwnProperty.call(this.params,A)}get(A){if(this.has(A)){const T=this.params[A];return Array.isArray(T)?T[0]:T}return null}getAll(A){if(this.has(A)){const T=this.params[A];return Array.isArray(T)?T:[T]}return[]}get keys(){return Object.keys(this.params)}}function Or(S){return new zn(S)}function Yt(S,A,T){const O=T.path.split("/");if(O.length>S.length||"full"===T.pathMatch&&(A.hasChildren()||O.length<S.length))return null;const z={};for(let fe=0;fe<O.length;fe++){const je=O[fe],Qe=S[fe];if(je.startsWith(":"))z[je.substring(1)]=Qe;else if(je!==Qe.path)return null}return{consumed:S.slice(0,O.length),posParams:z}}function fr(S,A){const T=S?Object.keys(S):void 0,O=A?Object.keys(A):void 0;if(!T||!O||T.length!=O.length)return!1;let z;for(let fe=0;fe<T.length;fe++)if(z=T[fe],!ni(S[z],A[z]))return!1;return!0}function ni(S,A){if(Array.isArray(S)&&Array.isArray(A)){if(S.length!==A.length)return!1;const T=[...S].sort(),O=[...A].sort();return T.every((z,fe)=>O[fe]===z)}return S===A}function wr(S){return Array.prototype.concat.apply([],S)}function Kr(S){return S.length>0?S[S.length-1]:null}function rr(S,A){for(const T in S)S.hasOwnProperty(T)&&A(S[T],T)}function tr(S){return(0,c.CqO)(S)?S:(0,c.QGY)(S)?(0,ne.D)(Promise.resolve(S)):(0,W.of)(S)}const Hn=!1,Zn={exact:function Gr(S,A,T){if(!zt(S.segments,A.segments)||!oi(S.segments,A.segments,T)||S.numberOfChildren!==A.numberOfChildren)return!1;for(const O in A.children)if(!S.children[O]||!Gr(S.children[O],A.children[O],T))return!1;return!0},subset:vi},Jr={exact:function Sr(S,A){return fr(S,A)},subset:function qr(S,A){return Object.keys(A).length<=Object.keys(S).length&&Object.keys(A).every(T=>ni(S[T],A[T]))},ignored:()=>!0};function Pr(S,A,T){return Zn[T.paths](S.root,A.root,T.matrixParams)&&Jr[T.queryParams](S.queryParams,A.queryParams)&&!("exact"===T.fragment&&S.fragment!==A.fragment)}function vi(S,A,T){return Ir(S,A,A.segments,T)}function Ir(S,A,T,O){if(S.segments.length>T.length){const z=S.segments.slice(0,T.length);return!(!zt(z,T)||A.hasChildren()||!oi(z,T,O))}if(S.segments.length===T.length){if(!zt(S.segments,T)||!oi(S.segments,T,O))return!1;for(const z in A.children)if(!S.children[z]||!vi(S.children[z],A.children[z],O))return!1;return!0}{const z=T.slice(0,S.segments.length),fe=T.slice(S.segments.length);return!!(zt(S.segments,z)&&oi(S.segments,z,O)&&S.children[rn])&&Ir(S.children[rn],A,fe,O)}}function oi(S,A,T){return A.every((O,z)=>Jr[T](S[z].parameters,O.parameters))}class ar{constructor(A=new er([],{}),T={},O=null){this.root=A,this.queryParams=T,this.fragment=O}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Or(this.queryParams)),this._queryParamMap}toString(){return hr.serialize(this)}}class er{constructor(A,T){this.segments=A,this.children=T,this.parent=null,rr(T,(O,z)=>O.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ot(this)}}class gr{constructor(A,T){this.path=A,this.parameters=T}get parameterMap(){return this._parameterMap||(this._parameterMap=Or(this.parameters)),this._parameterMap}toString(){return ur(this)}}function zt(S,A){return S.length===A.length&&S.every((T,O)=>T.path===A[O].path)}let nr=(()=>{class S{}return S.\u0275fac=function(T){return new(T||S)},S.\u0275prov=c.Yz7({token:S,factory:function(){return new Xn},providedIn:"root"}),S})();class Xn{parse(A){const T=new en(A);return new ar(T.parseRootSegment(),T.parseQueryParams(),T.parseFragment())}serialize(A){const T=`/${Ze(A.root,!0)}`,O=function Tt(S){const A=Object.keys(S).map(T=>{const O=S[T];return Array.isArray(O)?O.map(z=>`${Pt(T)}=${Pt(z)}`).join("&"):`${Pt(T)}=${Pt(O)}`}).filter(T=>!!T);return A.length?`?${A.join("&")}`:""}(A.queryParams);return`${T}${O}${"string"==typeof A.fragment?`#${function Mt(S){return encodeURI(S)}(A.fragment)}`:""}`}}const hr=new Xn;function ot(S){return S.segments.map(A=>ur(A)).join("/")}function Ze(S,A){if(!S.hasChildren())return ot(S);if(A){const T=S.children[rn]?Ze(S.children[rn],!1):"",O=[];return rr(S.children,(z,fe)=>{fe!==rn&&O.push(`${fe}:${Ze(z,!1)}`)}),O.length>0?`${T}(${O.join("//")})`:T}{const T=function Sn(S,A){let T=[];return rr(S.children,(O,z)=>{z===rn&&(T=T.concat(A(O,z)))}),rr(S.children,(O,z)=>{z!==rn&&(T=T.concat(A(O,z)))}),T}(S,(O,z)=>z===rn?[Ze(S.children[rn],!1)]:[`${z}:${Ze(O,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[rn]?`${ot(S)}/${T[0]}`:`${ot(S)}/(${T.join("//")})`}}function ht(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pt(S){return ht(S).replace(/%3B/gi,";")}function Vn(S){return ht(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qn(S){return decodeURIComponent(S)}function br(S){return Qn(S.replace(/\+/g,"%20"))}function ur(S){return`${Vn(S.path)}${function $r(S){return Object.keys(S).map(A=>`;${Vn(A)}=${Vn(S[A])}`).join("")}(S.parameters)}`}const it=/^[^\/()?;=#]+/;function Z(S){const A=S.match(it);return A?A[0]:""}const pe=/^[^=?&#]+/,pt=/^[^&#]+/;class en{constructor(A){this.url=A,this.remaining=A}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new er([],{}):new er([],this.parseChildren())}parseQueryParams(){const A={};if(this.consumeOptional("?"))do{this.parseQueryParam(A)}while(this.consumeOptional("&"));return A}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const A=[];for(this.peekStartsWith("(")||A.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),A.push(this.parseSegment());let T={};this.peekStartsWith("/(")&&(this.capture("/"),T=this.parseParens(!0));let O={};return this.peekStartsWith("(")&&(O=this.parseParens(!1)),(A.length>0||Object.keys(T).length>0)&&(O[rn]=new er(A,T)),O}parseSegment(){const A=Z(this.remaining);if(""===A&&this.peekStartsWith(";"))throw new c.vHH(4009,Hn);return this.capture(A),new gr(Qn(A),this.parseMatrixParams())}parseMatrixParams(){const A={};for(;this.consumeOptional(";");)this.parseParam(A);return A}parseParam(A){const T=Z(this.remaining);if(!T)return;this.capture(T);let O="";if(this.consumeOptional("=")){const z=Z(this.remaining);z&&(O=z,this.capture(O))}A[Qn(T)]=Qn(O)}parseQueryParam(A){const T=function Ye(S){const A=S.match(pe);return A?A[0]:""}(this.remaining);if(!T)return;this.capture(T);let O="";if(this.consumeOptional("=")){const je=function Lt(S){const A=S.match(pt);return A?A[0]:""}(this.remaining);je&&(O=je,this.capture(O))}const z=br(T),fe=br(O);if(A.hasOwnProperty(z)){let je=A[z];Array.isArray(je)||(je=[je],A[z]=je),je.push(fe)}else A[z]=fe}parseParens(A){const T={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const O=Z(this.remaining),z=this.remaining[O.length];if("/"!==z&&")"!==z&&";"!==z)throw new c.vHH(4010,Hn);let fe;O.indexOf(":")>-1?(fe=O.slice(0,O.indexOf(":")),this.capture(fe),this.capture(":")):A&&(fe=rn);const je=this.parseChildren();T[fe]=1===Object.keys(je).length?je[rn]:new er([],je),this.consumeOptional("//")}return T}peekStartsWith(A){return this.remaining.startsWith(A)}consumeOptional(A){return!!this.peekStartsWith(A)&&(this.remaining=this.remaining.substring(A.length),!0)}capture(A){if(!this.consumeOptional(A))throw new c.vHH(4011,Hn)}}function tn(S){return S.segments.length>0?new er([],{[rn]:S}):S}function Cn(S){const A={};for(const O of Object.keys(S.children)){const fe=Cn(S.children[O]);(fe.segments.length>0||fe.hasChildren())&&(A[O]=fe)}return function hn(S){if(1===S.numberOfChildren&&S.children[rn]){const A=S.children[rn];return new er(S.segments.concat(A.segments),A.children)}return S}(new er(S.segments,A))}function Rn(S){return S instanceof ar}function Er(S,A,T,O,z){var fe;if(0===T.length)return pr(A.root,A.root,A.root,O,z);const je=function ir(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new Dn(!0,0,S);let A=0,T=!1;const O=S.reduce((z,fe,je)=>{if("object"==typeof fe&&null!=fe){if(fe.outlets){const Qe={};return rr(fe.outlets,(kt,pn)=>{Qe[pn]="string"==typeof kt?kt.split("/"):kt}),[...z,{outlets:Qe}]}if(fe.segmentPath)return[...z,fe.segmentPath]}return"string"!=typeof fe?[...z,fe]:0===je?(fe.split("/").forEach((Qe,kt)=>{0==kt&&"."===Qe||(0==kt&&""===Qe?T=!0:".."===Qe?A++:""!=Qe&&z.push(Qe))}),z):[...z,fe]},[]);return new Dn(T,A,O)}(T);return je.toRoot()?pr(A.root,A.root,new er([],{}),O,z):function Qe(pn){var Wn;const Mn=function Li(S,A,T,O){if(S.isAbsolute)return new Tr(A.root,!0,0);if(-1===O)return new Tr(T,T===A.root,0);return function Ie(S,A,T){let O=S,z=A,fe=T;for(;fe>z;){if(fe-=z,O=O.parent,!O)throw new c.vHH(4005,!1);z=O.segments.length}return new Tr(O,!1,z-fe)}(T,O+(Fr(S.commands[0])?0:1),S.numberOfDoubleDots)}(je,A,null===(Wn=S.snapshot)||void 0===Wn?void 0:Wn._urlSegment,pn),Ur=Mn.processChildren?J(Mn.segmentGroup,Mn.index,je.commands):N(Mn.segmentGroup,Mn.index,je.commands);return pr(A.root,Mn.segmentGroup,Ur,O,z)}(null===(fe=S.snapshot)||void 0===fe?void 0:fe._lastPathIndex)}function Fr(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function Si(S){return"object"==typeof S&&null!=S&&S.outlets}function pr(S,A,T,O,z){let je,fe={};O&&rr(O,(kt,pn)=>{fe[pn]=Array.isArray(kt)?kt.map(Wn=>`${Wn}`):`${kt}`}),je=S===A?T:hi(S,A,T);const Qe=tn(Cn(je));return new ar(Qe,fe,z)}function hi(S,A,T){const O={};return rr(S.children,(z,fe)=>{O[fe]=z===A?T:hi(z,A,T)}),new er(S.segments,O)}class Dn{constructor(A,T,O){if(this.isAbsolute=A,this.numberOfDoubleDots=T,this.commands=O,A&&O.length>0&&Fr(O[0]))throw new c.vHH(4003,!1);const z=O.find(Si);if(z&&z!==Kr(O))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Tr{constructor(A,T,O){this.segmentGroup=A,this.processChildren=T,this.index=O}}function N(S,A,T){if(S||(S=new er([],{})),0===S.segments.length&&S.hasChildren())return J(S,A,T);const O=function me(S,A,T){let O=0,z=A;const fe={match:!1,pathIndex:0,commandIndex:0};for(;z<S.segments.length;){if(O>=T.length)return fe;const je=S.segments[z],Qe=T[O];if(Si(Qe))break;const kt=`${Qe}`,pn=O<T.length-1?T[O+1]:null;if(z>0&&void 0===kt)break;if(kt&&pn&&"object"==typeof pn&&void 0===pn.outlets){if(!Fe(kt,pn,je))return fe;O+=2}else{if(!Fe(kt,{},je))return fe;O++}z++}return{match:!0,pathIndex:z,commandIndex:O}}(S,A,T),z=T.slice(O.commandIndex);if(O.match&&O.pathIndex<S.segments.length){const fe=new er(S.segments.slice(0,O.pathIndex),{});return fe.children[rn]=new er(S.segments.slice(O.pathIndex),S.children),J(fe,0,z)}return O.match&&0===z.length?new er(S.segments,{}):O.match&&!S.hasChildren()?ae(S,A,T):O.match?J(S,0,z):ae(S,A,T)}function J(S,A,T){if(0===T.length)return new er(S.segments,{});{const O=function ct(S){return Si(S[0])?S[0].outlets:{[rn]:S}}(T),z={};return rr(O,(fe,je)=>{"string"==typeof fe&&(fe=[fe]),null!==fe&&(z[je]=N(S.children[je],A,fe))}),rr(S.children,(fe,je)=>{void 0===O[je]&&(z[je]=fe)}),new er(S.segments,z)}}function ae(S,A,T){const O=S.segments.slice(0,A);let z=0;for(;z<T.length;){const fe=T[z];if(Si(fe)){const kt=Je(fe.outlets);return new er(O,kt)}if(0===z&&Fr(T[0])){O.push(new gr(S.segments[A].path,ue(T[0]))),z++;continue}const je=Si(fe)?fe.outlets[rn]:`${fe}`,Qe=z<T.length-1?T[z+1]:null;je&&Qe&&Fr(Qe)?(O.push(new gr(je,ue(Qe))),z+=2):(O.push(new gr(je,{})),z++)}return new er(O,{})}function Je(S){const A={};return rr(S,(T,O)=>{"string"==typeof T&&(T=[T]),null!==T&&(A[O]=ae(new er([],{}),0,T))}),A}function ue(S){const A={};return rr(S,(T,O)=>A[O]=`${T}`),A}function Fe(S,A,T){return S==T.path&&fr(A,T.parameters)}class We{constructor(A,T){this.id=A,this.url=T}}class dt extends We{constructor(A,T,O="imperative",z=null){super(A,T),this.type=0,this.navigationTrigger=O,this.restoredState=z}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class bt extends We{constructor(A,T,O){super(A,T),this.urlAfterRedirects=O,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Kt extends We{constructor(A,T,O,z){super(A,T),this.reason=O,this.code=z,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class sn extends We{constructor(A,T,O,z){super(A,T),this.error=O,this.target=z,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class mn extends We{constructor(A,T,O,z){super(A,T),this.urlAfterRedirects=O,this.state=z,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vr extends We{constructor(A,T,O,z){super(A,T),this.urlAfterRedirects=O,this.state=z,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kn extends We{constructor(A,T,O,z,fe){super(A,T),this.urlAfterRedirects=O,this.state=z,this.shouldActivate=fe,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class yt extends We{constructor(A,T,O,z){super(A,T),this.urlAfterRedirects=O,this.state=z,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gt extends We{constructor(A,T,O,z){super(A,T),this.urlAfterRedirects=O,this.state=z,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class St{constructor(A){this.route=A,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Xt{constructor(A){this.route=A,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class un{constructor(A){this.snapshot=A,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sr{constructor(A){this.snapshot=A,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xn{constructor(A){this.snapshot=A,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kn{constructor(A){this.snapshot=A,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Un{constructor(A,T,O){this.routerEvent=A,this.position=T,this.anchor=O,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class xr{constructor(A){this._root=A}get root(){return this._root.value}parent(A){const T=this.pathFromRoot(A);return T.length>1?T[T.length-2]:null}children(A){const T=ki(A,this._root);return T?T.children.map(O=>O.value):[]}firstChild(A){const T=ki(A,this._root);return T&&T.children.length>0?T.children[0].value:null}siblings(A){const T=ws(A,this._root);return T.length<2?[]:T[T.length-2].children.map(z=>z.value).filter(z=>z!==A)}pathFromRoot(A){return ws(A,this._root).map(T=>T.value)}}function ki(S,A){if(S===A.value)return A;for(const T of A.children){const O=ki(S,T);if(O)return O}return null}function ws(S,A){if(S===A.value)return[A];for(const T of A.children){const O=ws(S,T);if(O.length)return O.unshift(A),O}return[]}class Zi{constructor(A,T){this.value=A,this.children=T}toString(){return`TreeNode(${this.value})`}}function Ai(S){const A={};return S&&S.children.forEach(T=>A[T.value.outlet]=T),A}class yi extends xr{constructor(A,T){super(A),this.snapshot=T,Is(this,A)}toString(){return this.snapshot.toString()}}function Nr(S,A){const T=function Hi(S,A){const je=new ho([],{},{},"",{},rn,A,null,S.root,-1,{});return new Vs("",new Zi(je,[]))}(S,A),O=new Ue.X([new gr("",{})]),z=new Ue.X({}),fe=new Ue.X({}),je=new Ue.X({}),Qe=new Ue.X(""),kt=new Gi(O,z,je,Qe,fe,rn,A,T.root);return kt.snapshot=T.root,new yi(new Zi(kt,[]),T)}class Gi{constructor(A,T,O,z,fe,je,Qe,kt){var pn,Wn;this.url=A,this.params=T,this.queryParams=O,this.fragment=z,this.data=fe,this.outlet=je,this.component=Qe,this.title=null!==(pn=null===(Wn=this.data)||void 0===Wn?void 0:Wn.pipe((0,B.U)(Mn=>Mn[En])))&&void 0!==pn?pn:(0,W.of)(void 0),this._futureSnapshot=kt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,B.U)(A=>Or(A)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,B.U)(A=>Or(A)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ss(S,A="emptyOnly"){const T=S.pathFromRoot;let O=0;if("always"!==A)for(O=T.length-1;O>=1;){const z=T[O],fe=T[O-1];if(z.routeConfig&&""===z.routeConfig.path)O--;else{if(fe.component)break;O--}}return function Ni(S){return S.reduce((A,T)=>{var O;return{params:{...A.params,...T.params},data:{...A.data,...T.data},resolve:{...T.data,...A.resolve,...null===(O=T.routeConfig)||void 0===O?void 0:O.data,...T._resolvedData}}},{params:{},data:{},resolve:{}})}(T.slice(O))}class ho{constructor(A,T,O,z,fe,je,Qe,kt,pn,Wn,Mn){this.url=A,this.params=T,this.queryParams=O,this.fragment=z,this.data=fe,this.outlet=je,this.component=Qe,this.routeConfig=kt,this._urlSegment=pn,this._lastPathIndex=Wn,this._resolve=Mn}get title(){var A;return null===(A=this.data)||void 0===A?void 0:A[En]}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Or(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Or(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(O=>O.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Vs extends xr{constructor(A,T){super(T),this.url=A,Is(this,T)}toString(){return Ws(this._root)}}function Is(S,A){A.value._routerState=S,A.children.forEach(T=>Is(S,T))}function Ws(S){const A=S.children.length>0?` { ${S.children.map(Ws).join(", ")} } `:"";return`${S.value}${A}`}function rs(S){if(S.snapshot){const A=S.snapshot,T=S._futureSnapshot;S.snapshot=T,fr(A.queryParams,T.queryParams)||S.queryParams.next(T.queryParams),A.fragment!==T.fragment&&S.fragment.next(T.fragment),fr(A.params,T.params)||S.params.next(T.params),function wn(S,A){if(S.length!==A.length)return!1;for(let T=0;T<S.length;++T)if(!fr(S[T],A[T]))return!1;return!0}(A.url,T.url)||S.url.next(T.url),fr(A.data,T.data)||S.data.next(T.data)}else S.snapshot=S._futureSnapshot,S.data.next(S._futureSnapshot.data)}function lo(S,A){const T=fr(S.params,A.params)&&function yn(S,A){return zt(S,A)&&S.every((T,O)=>fr(T.parameters,A[O].parameters))}(S.url,A.url);return T&&!(!S.parent!=!A.parent)&&(!S.parent||lo(S.parent,A.parent))}function fo(S,A,T){if(T&&S.shouldReuseRoute(A.value,T.value.snapshot)){const O=T.value;O._futureSnapshot=A.value;const z=function Po(S,A,T){return A.children.map(O=>{for(const z of T.children)if(S.shouldReuseRoute(O.value,z.value.snapshot))return fo(S,O,z);return fo(S,O)})}(S,A,T);return new Zi(O,z)}{if(S.shouldAttach(A.value)){const fe=S.retrieve(A.value);if(null!==fe){const je=fe.route;return je.value._futureSnapshot=A.value,je.children=A.children.map(Qe=>fo(S,Qe)),je}}const O=function Ba(S){return new Gi(new Ue.X(S.url),new Ue.X(S.params),new Ue.X(S.queryParams),new Ue.X(S.fragment),new Ue.X(S.data),S.outlet,S.component,S)}(A.value),z=A.children.map(fe=>fo(S,fe));return new Zi(O,z)}}const Ri="ngNavigationCancelingError";function Us(S,A){const{redirectTo:T,navigationBehaviorOptions:O}=Rn(A)?{redirectTo:A,navigationBehaviorOptions:void 0}:A,z=Ks(!1,0,A);return z.url=T,z.navigationBehaviorOptions=O,z}function Ks(S,A,T){const O=new Error("NavigationCancelingError: "+(S||""));return O[Ri]=!0,O.cancellationCode=A,T&&(O.url=T),O}function ds(S){return Ar(S)&&Rn(S.url)}function Ar(S){return S&&S[Ri]}class bi{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Wi,this.attachRef=null}}let Wi=(()=>{class S{constructor(){this.contexts=new Map}onChildOutletCreated(T,O){const z=this.getOrCreateContext(T);z.outlet=O,this.contexts.set(T,z)}onChildOutletDestroyed(T){const O=this.getContext(T);O&&(O.outlet=null,O.attachRef=null)}onOutletDeactivated(){const T=this.contexts;return this.contexts=new Map,T}onOutletReAttached(T){this.contexts=T}getOrCreateContext(T){let O=this.getContext(T);return O||(O=new bi,this.contexts.set(T,O)),O}getContext(T){return this.contexts.get(T)||null}}return S.\u0275fac=function(T){return new(T||S)},S.\u0275prov=c.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const is=!1;let Oi=(()=>{class S{constructor(){this.activated=null,this._activatedRoute=null,this.name=rn,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.parentContexts=(0,c.f3M)(Wi),this.location=(0,c.f3M)(c.s_b),this.changeDetector=(0,c.f3M)(c.sBO),this.environmentInjector=(0,c.f3M)(c.lqb)}ngOnChanges(T){if(T.name){const{firstChange:O,previousValue:z}=T.name;if(O)return;this.isTrackedInParentContexts(z)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(z)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(T){var O;return(null===(O=this.parentContexts.getContext(T))||void 0===O?void 0:O.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const T=this.parentContexts.getContext(this.name);null!=T&&T.route&&(T.attachRef?this.attach(T.attachRef,T.route):this.activateWith(T.route,T.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,is);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,is);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,is);this.location.detach();const T=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(T.instance),T}attach(T,O){this.activated=T,this._activatedRoute=O,this.location.insert(T.hostView),this.attachEvents.emit(T.instance)}deactivate(){if(this.activated){const T=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(T)}}activateWith(T,O){if(this.isActivated)throw new c.vHH(4013,is);this._activatedRoute=T;const z=this.location,je=T._futureSnapshot.component,Qe=this.parentContexts.getOrCreateContext(this.name).children,kt=new qs(T,Qe,z.injector);if(O&&function $i(S){return!!S.resolveComponentFactory}(O)){const pn=O.resolveComponentFactory(je);this.activated=z.createComponent(pn,z.length,kt)}else this.activated=z.createComponent(je,{index:z.length,injector:kt,environmentInjector:null!=O?O:this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return S.\u0275fac=function(T){return new(T||S)},S.\u0275dir=c.lG2({type:S,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.TTD]}),S})();class qs{constructor(A,T,O){this.route=A,this.childContexts=T,this.parent=O}get(A,T){return A===Gi?this.route:A===Wi?this.childContexts:this.parent.get(A,T)}}let Ys=(()=>{class S{}return S.\u0275fac=function(T){return new(T||S)},S.\u0275cmp=c.Xpm({type:S,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(T,O){1&T&&c._UZ(0,"router-outlet")},dependencies:[Oi],encapsulation:2}),S})();function Ki(S,A){var T;return S.providers&&!S._injector&&(S._injector=(0,c.MMx)(S.providers,A,`Route: ${S.path}`)),null!==(T=S._injector)&&void 0!==T?T:A}function Do(S){const A=S.children&&S.children.map(Do),T=A?{...S,children:A}:{...S};return!T.component&&!T.loadComponent&&(A||T.loadChildren)&&T.outlet&&T.outlet!==rn&&(T.component=Ys),T}function bs(S){return S.outlet||rn}function al(S,A){const T=S.filter(O=>bs(O)===A);return T.push(...S.filter(O=>bs(O)!==A)),T}function Ei(S){var A;if(!S)return null;if(null!==(A=S.routeConfig)&&void 0!==A&&A._injector)return S.routeConfig._injector;for(let T=S.parent;T;T=T.parent){const O=T.routeConfig;if(null!=O&&O._loadedInjector)return O._loadedInjector;if(null!=O&&O._injector)return O._injector}return null}class _i{constructor(A,T,O,z){this.routeReuseStrategy=A,this.futureState=T,this.currState=O,this.forwardEvent=z}activate(A){const T=this.futureState._root,O=this.currState?this.currState._root:null;this.deactivateChildRoutes(T,O,A),rs(this.futureState.root),this.activateChildRoutes(T,O,A)}deactivateChildRoutes(A,T,O){const z=Ai(T);A.children.forEach(fe=>{const je=fe.value.outlet;this.deactivateRoutes(fe,z[je],O),delete z[je]}),rr(z,(fe,je)=>{this.deactivateRouteAndItsChildren(fe,O)})}deactivateRoutes(A,T,O){const z=A.value,fe=T?T.value:null;if(z===fe)if(z.component){const je=O.getContext(z.outlet);je&&this.deactivateChildRoutes(A,T,je.children)}else this.deactivateChildRoutes(A,T,O);else fe&&this.deactivateRouteAndItsChildren(T,O)}deactivateRouteAndItsChildren(A,T){A.value.component&&this.routeReuseStrategy.shouldDetach(A.value.snapshot)?this.detachAndStoreRouteSubtree(A,T):this.deactivateRouteAndOutlet(A,T)}detachAndStoreRouteSubtree(A,T){const O=T.getContext(A.value.outlet),z=O&&A.value.component?O.children:T,fe=Ai(A);for(const je of Object.keys(fe))this.deactivateRouteAndItsChildren(fe[je],z);if(O&&O.outlet){const je=O.outlet.detach(),Qe=O.children.onOutletDeactivated();this.routeReuseStrategy.store(A.value.snapshot,{componentRef:je,route:A,contexts:Qe})}}deactivateRouteAndOutlet(A,T){const O=T.getContext(A.value.outlet),z=O&&A.value.component?O.children:T,fe=Ai(A);for(const je of Object.keys(fe))this.deactivateRouteAndItsChildren(fe[je],z);O&&O.outlet&&(O.outlet.deactivate(),O.children.onOutletDeactivated(),O.attachRef=null,O.resolver=null,O.route=null)}activateChildRoutes(A,T,O){const z=Ai(T);A.children.forEach(fe=>{this.activateRoutes(fe,z[fe.value.outlet],O),this.forwardEvent(new Kn(fe.value.snapshot))}),A.children.length&&this.forwardEvent(new sr(A.value.snapshot))}activateRoutes(A,T,O){const z=A.value,fe=T?T.value:null;if(rs(z),z===fe)if(z.component){const Qe=O.getOrCreateContext(z.outlet);this.activateChildRoutes(A,T,Qe.children)}else this.activateChildRoutes(A,T,O);else if(z.component){const Qe=O.getOrCreateContext(z.outlet);if(this.routeReuseStrategy.shouldAttach(z.snapshot)){const kt=this.routeReuseStrategy.retrieve(z.snapshot);this.routeReuseStrategy.store(z.snapshot,null),Qe.children.onOutletReAttached(kt.contexts),Qe.attachRef=kt.componentRef,Qe.route=kt.route.value,Qe.outlet&&Qe.outlet.attach(kt.componentRef,kt.route.value),rs(kt.route.value),this.activateChildRoutes(A,null,Qe.children)}else{var je;const kt=Ei(z.snapshot),pn=null!==(je=null==kt?void 0:kt.get(c._Vd))&&void 0!==je?je:null;Qe.attachRef=null,Qe.route=z,Qe.resolver=pn,Qe.injector=kt,Qe.outlet&&Qe.outlet.activateWith(z,Qe.injector),this.activateChildRoutes(A,null,Qe.children)}}else this.activateChildRoutes(A,null,O)}}class js{constructor(A){this.path=A,this.route=this.path[this.path.length-1]}}class Qi{constructor(A,T){this.component=A,this.route=T}}function I(S,A,T){const O=S._root;return G(O,A?A._root:null,T,[O.value])}function w(S,A){const T=Symbol(),O=A.get(S,T);return O===T?"function"!=typeof S||(0,c.Z0I)(S)?A.get(S):S:O}function G(S,A,T,O,z={canDeactivateChecks:[],canActivateChecks:[]}){const fe=Ai(A);return S.children.forEach(je=>{(function Re(S,A,T,O,z={canDeactivateChecks:[],canActivateChecks:[]}){const fe=S.value,je=A?A.value:null,Qe=T?T.getContext(S.value.outlet):null;if(je&&fe.routeConfig===je.routeConfig){const kt=function Ct(S,A,T){if("function"==typeof T)return T(S,A);switch(T){case"pathParamsChange":return!zt(S.url,A.url);case"pathParamsOrQueryParamsChange":return!zt(S.url,A.url)||!fr(S.queryParams,A.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!lo(S,A)||!fr(S.queryParams,A.queryParams);default:return!lo(S,A)}}(je,fe,fe.routeConfig.runGuardsAndResolvers);kt?z.canActivateChecks.push(new js(O)):(fe.data=je.data,fe._resolvedData=je._resolvedData),G(S,A,fe.component?Qe?Qe.children:null:T,O,z),kt&&Qe&&Qe.outlet&&Qe.outlet.isActivated&&z.canDeactivateChecks.push(new Qi(Qe.outlet.component,je))}else je&&j(A,Qe,z),z.canActivateChecks.push(new js(O)),G(S,null,fe.component?Qe?Qe.children:null:T,O,z)})(je,fe[je.value.outlet],T,O.concat([je.value]),z),delete fe[je.value.outlet]}),rr(fe,(je,Qe)=>j(je,T.getContext(Qe),z)),z}function j(S,A,T){const O=Ai(S),z=S.value;rr(O,(fe,je)=>{j(fe,z.component?A?A.children.getContext(je):null:A,T)}),T.canDeactivateChecks.push(new Qi(z.component&&A&&A.outlet&&A.outlet.isActivated?A.outlet.component:null,z))}function F(S){return"function"==typeof S}function Hs(S){return S instanceof Le.K||"EmptyError"===(null==S?void 0:S.name)}const Bl=Symbol("INITIAL_VALUE");function mo(){return(0,ke.w)(S=>Xe(S.map(A=>A.pipe((0,Oe.q)(1),(0,et.O)(Bl)))).pipe((0,B.U)(A=>{for(const T of A)if(!0!==T){if(T===Bl)return Bl;if(!1===T||T instanceof ar)return T}return!0}),(0,Rt.h)(A=>A!==Bl),(0,Oe.q)(1)))}function Ho(S){return(0,Ce.z)((0,K.b)(A=>{if(Rn(A))throw Us(0,A)}),(0,B.U)(A=>!0===A))}const Go={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ll(S,A,T,O,z){const fe=To(S,A,T);return fe.matched?function Ca(S,A,T,O){const z=A.canMatch;if(!z||0===z.length)return(0,W.of)(!0);const fe=z.map(je=>{const Qe=w(je,S);return tr(function Ji(S){return S&&F(S.canMatch)}(Qe)?Qe.canMatch(A,T):S.runInContext(()=>Qe(A,T)))});return(0,W.of)(fe).pipe(mo(),Ho())}(O=Ki(A,O),A,T).pipe((0,B.U)(je=>!0===je?fe:{...Go})):(0,W.of)(fe)}function To(S,A,T){var O;if(""===A.path)return"full"===A.pathMatch&&(S.hasChildren()||T.length>0)?{...Go}:{matched:!0,consumedSegments:[],remainingSegments:T,parameters:{},positionalParamSegments:{}};const fe=(A.matcher||Yt)(T,S,A);if(!fe)return{...Go};const je={};rr(fe.posParams,(kt,pn)=>{je[pn]=kt.path});const Qe=fe.consumed.length>0?{...je,...fe.consumed[fe.consumed.length-1].parameters}:je;return{matched:!0,consumedSegments:fe.consumed,remainingSegments:T.slice(fe.consumed.length),parameters:Qe,positionalParamSegments:null!==(O=fe.posParams)&&void 0!==O?O:{}}}function es(S,A,T,O){if(T.length>0&&function Os(S,A,T){return T.some(O=>ul(S,A,O)&&bs(O)!==rn)}(S,T,O)){const fe=new er(A,function Da(S,A,T,O){const z={};z[rn]=O,O._sourceSegment=S,O._segmentIndexShift=A.length;for(const fe of T)if(""===fe.path&&bs(fe)!==rn){const je=new er([],{});je._sourceSegment=S,je._segmentIndexShift=A.length,z[bs(fe)]=je}return z}(S,A,O,new er(T,S.children)));return fe._sourceSegment=S,fe._segmentIndexShift=A.length,{segmentGroup:fe,slicedSegments:[]}}if(0===T.length&&function _o(S,A,T){return T.some(O=>ul(S,A,O))}(S,T,O)){const fe=new er(S.segments,function Zs(S,A,T,O,z){const fe={};for(const je of O)if(ul(S,T,je)&&!z[bs(je)]){const Qe=new er([],{});Qe._sourceSegment=S,Qe._segmentIndexShift=A.length,fe[bs(je)]=Qe}return{...z,...fe}}(S,A,T,O,S.children));return fe._sourceSegment=S,fe._segmentIndexShift=A.length,{segmentGroup:fe,slicedSegments:T}}const z=new er(S.segments,S.children);return z._sourceSegment=S,z._segmentIndexShift=A.length,{segmentGroup:z,slicedSegments:T}}function ul(S,A,T){return(!(S.hasChildren()||A.length>0)||"full"!==T.pathMatch)&&""===T.path}function Va(S,A,T,O){return!!(bs(S)===O||O!==rn&&ul(A,T,S))&&("**"===S.path||To(A,S,T).matched)}function Sl(S,A,T){return 0===A.length&&!S.children[T]}const Ua=!1;class ha{constructor(A){this.segmentGroup=A||null}}class Vl{constructor(A){this.urlTree=A}}function Ps(S){return Ve(new ha(S))}function Xs(S){return Ve(new Vl(S))}class cl{constructor(A,T,O,z,fe){this.injector=A,this.configLoader=T,this.urlSerializer=O,this.urlTree=z,this.config=fe,this.allowRedirects=!0}apply(){const A=es(this.urlTree.root,[],[],this.config).segmentGroup,T=new er(A.segments,A.children);return this.expandSegmentGroup(this.injector,this.config,T,rn).pipe((0,B.U)(fe=>this.createUrlTree(Cn(fe),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ve(fe=>{if(fe instanceof Vl)return this.allowRedirects=!1,this.match(fe.urlTree);throw fe instanceof ha?this.noMatchError(fe):fe}))}match(A){return this.expandSegmentGroup(this.injector,this.config,A.root,rn).pipe((0,B.U)(z=>this.createUrlTree(Cn(z),A.queryParams,A.fragment))).pipe(ve(z=>{throw z instanceof ha?this.noMatchError(z):z}))}noMatchError(A){return new c.vHH(4002,Ua)}createUrlTree(A,T,O){const z=tn(A);return new ar(z,T,O)}expandSegmentGroup(A,T,O,z){return 0===O.segments.length&&O.hasChildren()?this.expandChildren(A,T,O).pipe((0,B.U)(fe=>new er([],fe))):this.expandSegment(A,O,T,O.segments,z,!0)}expandChildren(A,T,O){const z=[];for(const fe of Object.keys(O.children))"primary"===fe?z.unshift(fe):z.push(fe);return(0,ne.D)(z).pipe((0,be.b)(fe=>{const je=O.children[fe],Qe=al(T,fe);return this.expandSegmentGroup(A,Qe,je,fe).pipe((0,B.U)(kt=>({segment:kt,outlet:fe})))}),(0,Me.R)((fe,je)=>(fe[je.outlet]=je.segment,fe),{}),Bt())}expandSegment(A,T,O,z,fe,je){return(0,ne.D)(O).pipe((0,be.b)(Qe=>this.expandSegmentAgainstRoute(A,T,O,Qe,z,fe,je).pipe(ve(pn=>{if(pn instanceof ha)return(0,W.of)(null);throw pn}))),(0,qe.P)(Qe=>!!Qe),ve((Qe,kt)=>{if(Hs(Qe))return Sl(T,z,fe)?(0,W.of)(new er([],{})):Ps(T);throw Qe}))}expandSegmentAgainstRoute(A,T,O,z,fe,je,Qe){return Va(z,T,fe,je)?void 0===z.redirectTo?this.matchSegmentAgainstRoute(A,T,z,fe,je):Qe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(A,T,O,z,fe,je):Ps(T):Ps(T)}expandSegmentAgainstRouteUsingRedirect(A,T,O,z,fe,je){return"**"===z.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(A,O,z,je):this.expandRegularSegmentAgainstRouteUsingRedirect(A,T,O,z,fe,je)}expandWildCardWithParamsAgainstRouteUsingRedirect(A,T,O,z){const fe=this.applyRedirectCommands([],O.redirectTo,{});return O.redirectTo.startsWith("/")?Xs(fe):this.lineralizeSegments(O,fe).pipe((0,qt.z)(je=>{const Qe=new er(je,{});return this.expandSegment(A,Qe,T,je,z,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(A,T,O,z,fe,je){const{matched:Qe,consumedSegments:kt,remainingSegments:pn,positionalParamSegments:Wn}=To(T,z,fe);if(!Qe)return Ps(T);const Mn=this.applyRedirectCommands(kt,z.redirectTo,Wn);return z.redirectTo.startsWith("/")?Xs(Mn):this.lineralizeSegments(z,Mn).pipe((0,qt.z)(Ur=>this.expandSegment(A,T,O,Ur.concat(pn),je,!1)))}matchSegmentAgainstRoute(A,T,O,z,fe){return"**"===O.path?(A=Ki(O,A),O.loadChildren?(O._loadedRoutes?(0,W.of)({routes:O._loadedRoutes,injector:O._loadedInjector}):this.configLoader.loadChildren(A,O)).pipe((0,B.U)(Qe=>(O._loadedRoutes=Qe.routes,O._loadedInjector=Qe.injector,new er(z,{})))):(0,W.of)(new er(z,{}))):ll(T,O,z,A).pipe((0,ke.w)(({matched:je,consumedSegments:Qe,remainingSegments:kt})=>{var pn;return je?(A=null!==(pn=O._injector)&&void 0!==pn?pn:A,this.getChildConfig(A,O,z).pipe((0,qt.z)(Mn=>{var Ur;const Qr=null!==(Ur=Mn.injector)&&void 0!==Ur?Ur:A,xs=Mn.routes,{segmentGroup:ls,slicedSegments:Eo}=es(T,Qe,kt,xs),Mi=new er(ls.segments,ls.children);if(0===Eo.length&&Mi.hasChildren())return this.expandChildren(Qr,xs,Mi).pipe((0,B.U)(ql=>new er(Qe,ql)));if(0===xs.length&&0===Eo.length)return(0,W.of)(new er(Qe,{}));const wo=bs(O)===fe;return this.expandSegment(Qr,Mi,xs,Eo,wo?rn:fe,!0).pipe((0,B.U)(Ao=>new er(Qe.concat(Ao.segments),Ao.children)))}))):Ps(T)}))}getChildConfig(A,T,O){return T.children?(0,W.of)({routes:T.children,injector:A}):T.loadChildren?void 0!==T._loadedRoutes?(0,W.of)({routes:T._loadedRoutes,injector:T._loadedInjector}):function da(S,A,T,O){const z=A.canLoad;if(void 0===z||0===z.length)return(0,W.of)(!0);const fe=z.map(je=>{const Qe=w(je,S);return tr(function oe(S){return S&&F(S.canLoad)}(Qe)?Qe.canLoad(A,T):S.runInContext(()=>Qe(A,T)))});return(0,W.of)(fe).pipe(mo(),Ho())}(A,T,O).pipe((0,qt.z)(z=>z?this.configLoader.loadChildren(A,T).pipe((0,K.b)(fe=>{T._loadedRoutes=fe.routes,T._loadedInjector=fe.injector})):function hu(S){return Ve(Ks(Ua,3))}())):(0,W.of)({routes:[],injector:A})}lineralizeSegments(A,T){let O=[],z=T.root;for(;;){if(O=O.concat(z.segments),0===z.numberOfChildren)return(0,W.of)(O);if(z.numberOfChildren>1||!z.children[rn])return Ve(new c.vHH(4e3,Ua));z=z.children[rn]}}applyRedirectCommands(A,T,O){return this.applyRedirectCreateUrlTree(T,this.urlSerializer.parse(T),A,O)}applyRedirectCreateUrlTree(A,T,O,z){const fe=this.createSegmentGroup(A,T.root,O,z);return new ar(fe,this.createQueryParams(T.queryParams,this.urlTree.queryParams),T.fragment)}createQueryParams(A,T){const O={};return rr(A,(z,fe)=>{if("string"==typeof z&&z.startsWith(":")){const Qe=z.substring(1);O[fe]=T[Qe]}else O[fe]=z}),O}createSegmentGroup(A,T,O,z){const fe=this.createSegments(A,T.segments,O,z);let je={};return rr(T.children,(Qe,kt)=>{je[kt]=this.createSegmentGroup(A,Qe,O,z)}),new er(fe,je)}createSegments(A,T,O,z){return T.map(fe=>fe.path.startsWith(":")?this.findPosParam(A,fe,z):this.findOrReturn(fe,O))}findPosParam(A,T,O){const z=O[T.path.substring(1)];if(!z)throw new c.vHH(4001,Ua);return z}findOrReturn(A,T){let O=0;for(const z of T){if(z.path===A.path)return T.splice(O),z;O++}return A}}class Gs{}class L{constructor(A,T,O,z,fe,je,Qe){this.injector=A,this.rootComponentType=T,this.config=O,this.urlTree=z,this.url=fe,this.paramsInheritanceStrategy=je,this.urlSerializer=Qe}recognize(){const A=es(this.urlTree.root,[],[],this.config.filter(T=>void 0===T.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,A,rn).pipe((0,B.U)(T=>{if(null===T)return null;const O=new ho([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},rn,this.rootComponentType,null,this.urlTree.root,-1,{}),z=new Zi(O,T),fe=new Vs(this.url,z);return this.inheritParamsAndData(fe._root),fe}))}inheritParamsAndData(A){const T=A.value,O=Ss(T,this.paramsInheritanceStrategy);T.params=Object.freeze(O.params),T.data=Object.freeze(O.data),A.children.forEach(z=>this.inheritParamsAndData(z))}processSegmentGroup(A,T,O,z){return 0===O.segments.length&&O.hasChildren()?this.processChildren(A,T,O):this.processSegment(A,T,O,O.segments,z)}processChildren(A,T,O){return(0,ne.D)(Object.keys(O.children)).pipe((0,be.b)(z=>{const fe=O.children[z],je=al(T,z);return this.processSegmentGroup(A,je,fe,z)}),(0,Me.R)((z,fe)=>z&&fe?(z.push(...fe),z):null),function Ht(S,A=!1){return(0,Ne.e)((T,O)=>{let z=0;T.subscribe((0,Te.x)(O,fe=>{const je=S(fe,z++);(je||A)&&O.next(fe),!je&&O.complete()}))})}(z=>null!==z),(0,Ot.d)(null),Bt(),(0,B.U)(z=>{if(null===z)return null;const fe=nt(z);return function ee(S){S.sort((A,T)=>A.value.outlet===rn?-1:T.value.outlet===rn?1:A.value.outlet.localeCompare(T.value.outlet))}(fe),fe}))}processSegment(A,T,O,z,fe){return(0,ne.D)(T).pipe((0,be.b)(je=>{var Qe;return this.processSegmentAgainstRoute(null!==(Qe=je._injector)&&void 0!==Qe?Qe:A,je,O,z,fe)}),(0,qe.P)(je=>!!je),ve(je=>{if(Hs(je))return Sl(O,z,fe)?(0,W.of)([]):(0,W.of)(null);throw je}))}processSegmentAgainstRoute(A,T,O,z,fe){if(T.redirectTo||!Va(T,O,z,fe))return(0,W.of)(null);let je;if("**"===T.path){var Qe,kt;const pn=z.length>0?Kr(z).parameters:{},Wn=qn(O)+z.length,Mn=new ho(z,pn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ui(T),bs(T),null!==(Qe=null!==(kt=T.component)&&void 0!==kt?kt:T._loadedComponent)&&void 0!==Qe?Qe:null,T,Zt(O),Wn,Gn(T));je=(0,W.of)({snapshot:Mn,consumedSegments:[],remainingSegments:[]})}else je=ll(O,T,z,A).pipe((0,B.U)(({matched:pn,consumedSegments:Wn,remainingSegments:Mn,parameters:Ur})=>{var Qr,xs;if(!pn)return null;const ls=qn(O)+Wn.length;return{snapshot:new ho(Wn,Ur,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ui(T),bs(T),null!==(Qr=null!==(xs=T.component)&&void 0!==xs?xs:T._loadedComponent)&&void 0!==Qr?Qr:null,T,Zt(O),ls,Gn(T)),consumedSegments:Wn,remainingSegments:Mn}}));return je.pipe((0,ke.w)(pn=>{var Wn,Mn;if(null===pn)return(0,W.of)(null);const{snapshot:Ur,consumedSegments:Qr,remainingSegments:xs}=pn;A=null!==(Wn=T._injector)&&void 0!==Wn?Wn:A;const ls=null!==(Mn=T._loadedInjector)&&void 0!==Mn?Mn:A,Eo=function U(S){return S.children?S.children:S.loadChildren?S._loadedRoutes:[]}(T),{segmentGroup:Mi,slicedSegments:wo}=es(O,Qr,xs,Eo.filter(Ao=>void 0===Ao.redirectTo));if(0===wo.length&&Mi.hasChildren())return this.processChildren(ls,Eo,Mi).pipe((0,B.U)(Ao=>null===Ao?null:[new Zi(Ur,Ao)]));if(0===Eo.length&&0===wo.length)return(0,W.of)([new Zi(Ur,[])]);const Lo=bs(T)===fe;return this.processSegment(ls,Eo,Mi,wo,Lo?rn:fe).pipe((0,B.U)(Ao=>null===Ao?null:[new Zi(Ur,Ao)]))}))}}function ce(S){const A=S.value.routeConfig;return A&&""===A.path&&void 0===A.redirectTo}function nt(S){const A=[],T=new Set;for(const O of S){if(!ce(O)){A.push(O);continue}const z=A.find(fe=>O.value.routeConfig===fe.value.routeConfig);void 0!==z?(z.children.push(...O.children),T.add(z)):A.push(O)}for(const O of T){const z=nt(O.children);A.push(new Zi(O.value,z))}return A.filter(O=>!T.has(O))}function Zt(S){let A=S;for(;A._sourceSegment;)A=A._sourceSegment;return A}function qn(S){var A;let T=S,O=null!==(A=T._segmentIndexShift)&&void 0!==A?A:0;for(;T._sourceSegment;){var z;T=T._sourceSegment,O+=null!==(z=T._segmentIndexShift)&&void 0!==z?z:0}return O-1}function ui(S){return S.data||{}}function Gn(S){return S.resolve||{}}function qi(S){return"string"==typeof S.title||null===S.title}function as(S){return(0,ke.w)(A=>{const T=S(A);return T?(0,ne.D)(T).pipe((0,B.U)(()=>A)):(0,W.of)(A)})}let Tn=(()=>{class S{buildTitle(T){let O,z=T.root;for(;void 0!==z;){var fe;O=null!==(fe=this.getResolvedTitleForRoute(z))&&void 0!==fe?fe:O,z=z.children.find(je=>je.outlet===rn)}return O}getResolvedTitleForRoute(T){return T.data[En]}}return S.\u0275fac=function(T){return new(T||S)},S.\u0275prov=c.Yz7({token:S,factory:function(){return(0,c.f3M)(Yn)},providedIn:"root"}),S})(),Yn=(()=>{class S extends Tn{constructor(T){super(),this.title=T}updateTitle(T){const O=this.buildTitle(T);void 0!==O&&this.title.setTitle(O)}}return S.\u0275fac=function(T){return new(T||S)(c.LFG(Fn.Dx))},S.\u0275prov=c.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();class Wo{}class jn{shouldDetach(A){return!1}store(A,T){}shouldAttach(A){return!1}retrieve(A){return null}shouldReuseRoute(A,T){return A.routeConfig===T.routeConfig}}class Wt extends jn{}const ys=new c.OlP("",{providedIn:"root",factory:()=>({})}),No=new c.OlP("ROUTES");let Ha=(()=>{class S{constructor(T,O){this.injector=T,this.compiler=O,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(T){if(this.componentLoaders.get(T))return this.componentLoaders.get(T);if(T._loadedComponent)return(0,W.of)(T._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(T);const O=tr(T.loadComponent()).pipe((0,B.U)(hl),(0,K.b)(fe=>{this.onLoadEndListener&&this.onLoadEndListener(T),T._loadedComponent=fe}),vn(()=>{this.componentLoaders.delete(T)})),z=new ie(O,()=>new ut.x).pipe(rt());return this.componentLoaders.set(T,z),z}loadChildren(T,O){if(this.childrenLoaders.get(O))return this.childrenLoaders.get(O);if(O._loadedRoutes)return(0,W.of)({routes:O._loadedRoutes,injector:O._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(O);const fe=this.loadModuleFactoryOrRoutes(O.loadChildren).pipe((0,B.U)(Qe=>{this.onLoadEndListener&&this.onLoadEndListener(O);let kt,pn,Wn=!1;Array.isArray(Qe)?pn=Qe:(kt=Qe.create(T).injector,pn=wr(kt.get(No,[],c.XFs.Self|c.XFs.Optional)));return{routes:pn.map(Do),injector:kt}}),vn(()=>{this.childrenLoaders.delete(O)})),je=new ie(fe,()=>new ut.x).pipe(rt());return this.childrenLoaders.set(O,je),je}loadModuleFactoryOrRoutes(T){return tr(T()).pipe((0,B.U)(hl),(0,qt.z)(z=>z instanceof c.YKP||Array.isArray(z)?(0,W.of)(z):(0,ne.D)(this.compiler.compileModuleAsync(z))))}}return S.\u0275fac=function(T){return new(T||S)(c.LFG(c.zs3),c.LFG(c.Sil))},S.\u0275prov=c.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function hl(S){return function Ta(S){return S&&"object"==typeof S&&"default"in S}(S)?S.default:S}class Sa{}class Bu{shouldProcessUrl(A){return!0}extract(A){return A}merge(A,T){return A}}function Ul(S){throw S}function fl(S,A,T){return A.parse("/")}const Br={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Fo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Bi(){var S,A;const T=(0,c.f3M)(nr),O=(0,c.f3M)(Wi),z=(0,c.f3M)(he.Ye),fe=(0,c.f3M)(c.zs3),je=(0,c.f3M)(c.Sil),Qe=null!==(S=(0,c.f3M)(No,{optional:!0}))&&void 0!==S?S:[],kt=null!==(A=(0,c.f3M)(ys,{optional:!0}))&&void 0!==A?A:{},pn=(0,c.f3M)(Yn),Wn=(0,c.f3M)(Tn,{optional:!0}),Mn=(0,c.f3M)(Sa,{optional:!0}),Ur=(0,c.f3M)(Wo,{optional:!0}),Qr=new Ln(null,T,O,z,fe,je,wr(Qe));return Mn&&(Qr.urlHandlingStrategy=Mn),Ur&&(Qr.routeReuseStrategy=Ur),Qr.titleStrategy=null!=Wn?Wn:pn,function Al(S,A){S.errorHandler&&(A.errorHandler=S.errorHandler),S.malformedUriErrorHandler&&(A.malformedUriErrorHandler=S.malformedUriErrorHandler),S.onSameUrlNavigation&&(A.onSameUrlNavigation=S.onSameUrlNavigation),S.paramsInheritanceStrategy&&(A.paramsInheritanceStrategy=S.paramsInheritanceStrategy),S.urlUpdateStrategy&&(A.urlUpdateStrategy=S.urlUpdateStrategy),S.canceledNavigationResolution&&(A.canceledNavigationResolution=S.canceledNavigationResolution)}(kt,Qr),Qr}let Ln=(()=>{class S{constructor(T,O,z,fe,je,Qe,kt){this.rootComponentType=T,this.urlSerializer=O,this.rootContexts=z,this.location=fe,this.config=kt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ut.x,this.errorHandler=Ul,this.malformedUriErrorHandler=fl,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,W.of)(void 0),this.urlHandlingStrategy=new Bu,this.routeReuseStrategy=new Wt,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.canceledNavigationResolution="replace",this.configLoader=je.get(Ha),this.configLoader.onLoadEndListener=Ur=>this.triggerEvent(new Xt(Ur)),this.configLoader.onLoadStartListener=Ur=>this.triggerEvent(new St(Ur)),this.ngModule=je.get(c.h0i),this.console=je.get(c.c2e);const Mn=je.get(c.R0b);this.isNgZoneEnabled=Mn instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(kt),this.currentUrlTree=new ar,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Nr(this.currentUrlTree,this.rootComponentType),this.transitions=new Ue.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var T;return null===(T=this.location.getState())||void 0===T?void 0:T.\u0275routerPageId}setupNavigations(T){const O=this.events;return T.pipe((0,Rt.h)(z=>0!==z.id),(0,B.U)(z=>({...z,extractedUrl:this.urlHandlingStrategy.extract(z.rawUrl)})),(0,ke.w)(z=>{let fe=!1,je=!1;return(0,W.of)(z).pipe((0,K.b)(Qe=>{this.currentNavigation={id:Qe.id,initialUrl:Qe.rawUrl,extractedUrl:Qe.extractedUrl,trigger:Qe.source,extras:Qe.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,ke.w)(Qe=>{const kt=this.browserUrlTree.toString(),pn=!this.navigated||Qe.extractedUrl.toString()!==kt||kt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||pn)&&this.urlHandlingStrategy.shouldProcessUrl(Qe.rawUrl))return ei(Qe.source)&&(this.browserUrlTree=Qe.extractedUrl),(0,W.of)(Qe).pipe((0,ke.w)(Mn=>{const Ur=this.transitions.getValue();return O.next(new dt(Mn.id,this.serializeUrl(Mn.extractedUrl),Mn.source,Mn.restoredState)),Ur!==this.transitions.getValue()?tt.E:Promise.resolve(Mn)}),function zo(S,A,T,O){return(0,ke.w)(z=>function fa(S,A,T,O,z){return new cl(S,A,T,O,z).apply()}(S,A,T,z.extractedUrl,O).pipe((0,B.U)(fe=>({...z,urlAfterRedirects:fe}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,K.b)(Mn=>{this.currentNavigation={...this.currentNavigation,finalUrl:Mn.urlAfterRedirects},z.urlAfterRedirects=Mn.urlAfterRedirects}),function or(S,A,T,O,z){return(0,qt.z)(fe=>function os(S,A,T,O,z,fe,je="emptyOnly"){return new L(S,A,T,O,z,je,fe).recognize().pipe((0,ke.w)(Qe=>null===Qe?function ja(S){return new He.y(A=>A.error(S))}(new Gs):(0,W.of)(Qe)))}(S,A,T,fe.urlAfterRedirects,O.serialize(fe.urlAfterRedirects),O,z).pipe((0,B.U)(je=>({...fe,targetSnapshot:je}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,K.b)(Mn=>{if(z.targetSnapshot=Mn.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!Mn.extras.skipLocationChange){const Qr=this.urlHandlingStrategy.merge(Mn.urlAfterRedirects,Mn.rawUrl);this.setBrowserUrl(Qr,Mn)}this.browserUrlTree=Mn.urlAfterRedirects}const Ur=new mn(Mn.id,this.serializeUrl(Mn.extractedUrl),this.serializeUrl(Mn.urlAfterRedirects),Mn.targetSnapshot);O.next(Ur)}));if(pn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Ur,extractedUrl:Qr,source:xs,restoredState:ls,extras:Eo}=Qe,Mi=new dt(Ur,this.serializeUrl(Qr),xs,ls);O.next(Mi);const wo=Nr(Qr,this.rootComponentType).snapshot;return z={...Qe,targetSnapshot:wo,urlAfterRedirects:Qr,extras:{...Eo,skipLocationChange:!1,replaceUrl:!1}},(0,W.of)(z)}return this.rawUrlTree=Qe.rawUrl,Qe.resolve(null),tt.E}),(0,K.b)(Qe=>{const kt=new vr(Qe.id,this.serializeUrl(Qe.extractedUrl),this.serializeUrl(Qe.urlAfterRedirects),Qe.targetSnapshot);this.triggerEvent(kt)}),(0,B.U)(Qe=>z={...Qe,guards:I(Qe.targetSnapshot,Qe.currentSnapshot,this.rootContexts)}),function on(S,A){return(0,qt.z)(T=>{const{targetSnapshot:O,currentSnapshot:z,guards:{canActivateChecks:fe,canDeactivateChecks:je}}=T;return 0===je.length&&0===fe.length?(0,W.of)({...T,guardsResult:!0}):function li(S,A,T,O){return(0,ne.D)(S).pipe((0,qt.z)(z=>function Cs(S,A,T,O,z){const fe=A&&A.routeConfig?A.routeConfig.canDeactivate:null;if(!fe||0===fe.length)return(0,W.of)(!0);const je=fe.map(Qe=>{var kt;const pn=null!==(kt=Ei(A))&&void 0!==kt?kt:z,Wn=w(Qe,pn);return tr(function Zr(S){return S&&F(S.canDeactivate)}(Wn)?Wn.canDeactivate(S,A,T,O):pn.runInContext(()=>Wn(S,A,T,O))).pipe((0,qe.P)())});return(0,W.of)(je).pipe(mo())}(z.component,z.route,T,A,O)),(0,qe.P)(z=>!0!==z,!0))}(je,O,z,S).pipe((0,qt.z)(Qe=>Qe&&function P(S){return"boolean"==typeof S}(Qe)?function ba(S,A,T,O){return(0,ne.D)(A).pipe((0,be.b)(z=>(0,at.z)(function fs(S,A){return null!==S&&A&&A(new un(S)),(0,W.of)(!0)}(z.route.parent,O),function ca(S,A){return null!==S&&A&&A(new xn(S)),(0,W.of)(!0)}(z.route,O),function vo(S,A,T){const O=A[A.length-1],fe=A.slice(0,A.length-1).reverse().map(je=>function X(S){const A=S.routeConfig?S.routeConfig.canActivateChild:null;return A&&0!==A.length?{node:S,guards:A}:null}(je)).filter(je=>null!==je).map(je=>(0,ye.P)(()=>{const Qe=je.guards.map(kt=>{var pn;const Wn=null!==(pn=Ei(je.node))&&void 0!==pn?pn:T,Mn=w(kt,Wn);return tr(function nn(S){return S&&F(S.canActivateChild)}(Mn)?Mn.canActivateChild(O,S):Wn.runInContext(()=>Mn(O,S))).pipe((0,qe.P)())});return(0,W.of)(Qe).pipe(mo())}));return(0,W.of)(fe).pipe(mo())}(S,z.path,T),function yo(S,A,T){const O=A.routeConfig?A.routeConfig.canActivate:null;if(!O||0===O.length)return(0,W.of)(!0);const z=O.map(fe=>(0,ye.P)(()=>{var je;const Qe=null!==(je=Ei(A))&&void 0!==je?je:T,kt=w(fe,Qe);return tr(function mt(S){return S&&F(S.canActivate)}(kt)?kt.canActivate(A,S):Qe.runInContext(()=>kt(A,S))).pipe((0,qe.P)())}));return(0,W.of)(z).pipe(mo())}(S,z.route,T))),(0,qe.P)(z=>!0!==z,!0))}(O,fe,S,A):(0,W.of)(Qe)),(0,B.U)(Qe=>({...T,guardsResult:Qe})))})}(this.ngModule.injector,Qe=>this.triggerEvent(Qe)),(0,K.b)(Qe=>{if(z.guardsResult=Qe.guardsResult,Rn(Qe.guardsResult))throw Us(0,Qe.guardsResult);const kt=new kn(Qe.id,this.serializeUrl(Qe.extractedUrl),this.serializeUrl(Qe.urlAfterRedirects),Qe.targetSnapshot,!!Qe.guardsResult);this.triggerEvent(kt)}),(0,Rt.h)(Qe=>!!Qe.guardsResult||(this.restoreHistory(Qe),this.cancelNavigationTransition(Qe,"",3),!1)),as(Qe=>{if(Qe.guards.canActivateChecks.length)return(0,W.of)(Qe).pipe((0,K.b)(kt=>{const pn=new yt(kt.id,this.serializeUrl(kt.extractedUrl),this.serializeUrl(kt.urlAfterRedirects),kt.targetSnapshot);this.triggerEvent(pn)}),(0,ke.w)(kt=>{let pn=!1;return(0,W.of)(kt).pipe(function ri(S,A){return(0,qt.z)(T=>{const{targetSnapshot:O,guards:{canActivateChecks:z}}=T;if(!z.length)return(0,W.of)(T);let fe=0;return(0,ne.D)(z).pipe((0,be.b)(je=>function Ci(S,A,T,O){const z=S.routeConfig,fe=S._resolve;return void 0!==(null==z?void 0:z.title)&&!qi(z)&&(fe[En]=z.title),function Pi(S,A,T,O){const z=function cn(S){return[...Object.keys(S),...Object.getOwnPropertySymbols(S)]}(S);if(0===z.length)return(0,W.of)({});const fe={};return(0,ne.D)(z).pipe((0,qt.z)(je=>function jr(S,A,T,O){var z;const fe=null!==(z=Ei(A))&&void 0!==z?z:O,je=w(S,fe);return tr(je.resolve?je.resolve(A,T):fe.runInContext(()=>je(A,T)))}(S[je],A,T,O).pipe((0,qe.P)(),(0,K.b)(Qe=>{fe[je]=Qe}))),Be(1),function An(S){return(0,B.U)(()=>S)}(fe),ve(je=>Hs(je)?tt.E:Ve(je)))}(fe,S,A,O).pipe((0,B.U)(je=>(S._resolvedData=je,S.data=Ss(S,T).resolve,z&&qi(z)&&(S.data[En]=z.title),null)))}(je.route,O,S,A)),(0,K.b)(()=>fe++),Be(1),(0,qt.z)(je=>fe===z.length?(0,W.of)(T):tt.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,K.b)({next:()=>pn=!0,complete:()=>{pn||(this.restoreHistory(kt),this.cancelNavigationTransition(kt,"",2))}}))}),(0,K.b)(kt=>{const pn=new gt(kt.id,this.serializeUrl(kt.extractedUrl),this.serializeUrl(kt.urlAfterRedirects),kt.targetSnapshot);this.triggerEvent(pn)}))}),as(Qe=>{const kt=pn=>{var Wn;const Mn=[];null!==(Wn=pn.routeConfig)&&void 0!==Wn&&Wn.loadComponent&&!pn.routeConfig._loadedComponent&&Mn.push(this.configLoader.loadComponent(pn.routeConfig).pipe((0,K.b)(Ur=>{pn.component=Ur}),(0,B.U)(()=>{})));for(const Ur of pn.children)Mn.push(...kt(Ur));return Mn};return Xe(kt(Qe.targetSnapshot.root)).pipe((0,Ot.d)(),(0,Oe.q)(1))}),as(()=>this.afterPreactivation()),(0,B.U)(Qe=>{const kt=function zi(S,A,T){const O=fo(S,A._root,T?T._root:void 0);return new yi(O,A)}(this.routeReuseStrategy,Qe.targetSnapshot,Qe.currentRouterState);return z={...Qe,targetRouterState:kt}}),(0,K.b)(Qe=>{this.currentUrlTree=Qe.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Qe.urlAfterRedirects,Qe.rawUrl),this.routerState=Qe.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Qe.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Qe),this.browserUrlTree=Qe.urlAfterRedirects)}),((S,A,T)=>(0,B.U)(O=>(new _i(A,O.targetRouterState,O.currentRouterState,T).activate(S),O)))(this.rootContexts,this.routeReuseStrategy,Qe=>this.triggerEvent(Qe)),(0,K.b)({next(){fe=!0},complete(){fe=!0}}),vn(()=>{var Qe;fe||je||this.cancelNavigationTransition(z,"",1),(null===(Qe=this.currentNavigation)||void 0===Qe?void 0:Qe.id)===z.id&&(this.currentNavigation=null)}),ve(Qe=>{if(je=!0,Ar(Qe)){ds(Qe)||(this.navigated=!0,this.restoreHistory(z,!0));const pn=new Kt(z.id,this.serializeUrl(z.extractedUrl),Qe.message,Qe.cancellationCode);if(O.next(pn),ds(Qe)){const Wn=this.urlHandlingStrategy.merge(Qe.url,this.rawUrlTree),Mn={skipLocationChange:z.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ei(z.source)};this.scheduleNavigation(Wn,"imperative",null,Mn,{resolve:z.resolve,reject:z.reject,promise:z.promise})}else z.resolve(!1)}else{var kt;this.restoreHistory(z,!0);const pn=new sn(z.id,this.serializeUrl(z.extractedUrl),Qe,null!==(kt=z.targetSnapshot)&&void 0!==kt?kt:void 0);O.next(pn);try{z.resolve(this.errorHandler(Qe))}catch(Wn){z.reject(Wn)}}return tt.E}))}))}resetRootComponentType(T){this.rootComponentType=T,this.routerState.root.component=this.rootComponentType}setTransition(T){this.transitions.next({...this.transitions.value,...T})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(T=>{const O="popstate"===T.type?"popstate":"hashchange";"popstate"===O&&setTimeout(()=>{var z;const fe={replaceUrl:!0},je=null!==(z=T.state)&&void 0!==z&&z.navigationId?T.state:null;if(je){const kt={...je};delete kt.navigationId,delete kt.\u0275routerPageId,0!==Object.keys(kt).length&&(fe.state=kt)}const Qe=this.parseUrl(T.url);this.scheduleNavigation(Qe,O,je,fe)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(T){this.events.next(T)}resetConfig(T){this.config=T.map(Do),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(T,O={}){const{relativeTo:z,queryParams:fe,fragment:je,queryParamsHandling:Qe,preserveFragment:kt}=O,pn=z||this.routerState.root,Wn=kt?this.currentUrlTree.fragment:je;let Mn=null;switch(Qe){case"merge":Mn={...this.currentUrlTree.queryParams,...fe};break;case"preserve":Mn=this.currentUrlTree.queryParams;break;default:Mn=fe||null}return null!==Mn&&(Mn=this.removeEmptyProps(Mn)),Er(pn,this.currentUrlTree,T,Mn,null!=Wn?Wn:null)}navigateByUrl(T,O={skipLocationChange:!1}){const z=Rn(T)?T:this.parseUrl(T),fe=this.urlHandlingStrategy.merge(z,this.rawUrlTree);return this.scheduleNavigation(fe,"imperative",null,O)}navigate(T,O={skipLocationChange:!1}){return function pa(S){for(let A=0;A<S.length;A++){if(null==S[A])throw new c.vHH(4008,false)}}(T),this.navigateByUrl(this.createUrlTree(T,O),O)}serializeUrl(T){return this.urlSerializer.serialize(T)}parseUrl(T){let O;try{O=this.urlSerializer.parse(T)}catch(z){O=this.malformedUriErrorHandler(z,this.urlSerializer,T)}return O}isActive(T,O){let z;if(z=!0===O?{...Br}:!1===O?{...Fo}:O,Rn(T))return Pr(this.currentUrlTree,T,z);const fe=this.parseUrl(T);return Pr(this.currentUrlTree,fe,z)}removeEmptyProps(T){return Object.keys(T).reduce((O,z)=>{const fe=T[z];return null!=fe&&(O[z]=fe),O},{})}processNavigations(){this.navigations.subscribe(T=>{var O;this.navigated=!0,this.lastSuccessfulId=T.id,this.currentPageId=T.targetPageId,this.events.next(new bt(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,null===(O=this.titleStrategy)||void 0===O||O.updateTitle(this.routerState.snapshot),T.resolve(!0)},T=>{this.console.warn(`Unhandled Navigation Error: ${T}`)})}scheduleNavigation(T,O,z,fe,je){if(this.disposed)return Promise.resolve(!1);let Qe,kt,pn;je?(Qe=je.resolve,kt=je.reject,pn=je.promise):pn=new Promise((xs,ls)=>{Qe=xs,kt=ls});const Wn=++this.navigationId;let Mn;if("computed"===this.canceledNavigationResolution)if(0===this.currentPageId&&(z=this.location.getState()),z&&z.\u0275routerPageId)Mn=z.\u0275routerPageId;else if(fe.replaceUrl||fe.skipLocationChange){var Ur;Mn=null!==(Ur=this.browserPageId)&&void 0!==Ur?Ur:0}else{var Qr;Mn=(null!==(Qr=this.browserPageId)&&void 0!==Qr?Qr:0)+1}else Mn=0;return this.setTransition({id:Wn,targetPageId:Mn,source:O,restoredState:z,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:T,extras:fe,resolve:Qe,reject:kt,promise:pn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),pn.catch(xs=>Promise.reject(xs))}setBrowserUrl(T,O){const z=this.urlSerializer.serialize(T),fe={...O.extras.state,...this.generateNgRouterState(O.id,O.targetPageId)};this.location.isCurrentPathEqualTo(z)||O.extras.replaceUrl?this.location.replaceState(z,"",fe):this.location.go(z,"",fe)}restoreHistory(T,O=!1){if("computed"===this.canceledNavigationResolution){var z,fe;const je=this.currentPageId-T.targetPageId;"popstate"!==T.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(z=this.currentNavigation)||void 0===z?void 0:z.finalUrl)||0===je?this.currentUrlTree===(null===(fe=this.currentNavigation)||void 0===fe?void 0:fe.finalUrl)&&0===je&&(this.resetState(T),this.browserUrlTree=T.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(je)}else"replace"===this.canceledNavigationResolution&&(O&&this.resetState(T),this.resetUrlToCurrentUrlTree())}resetState(T){this.routerState=T.currentRouterState,this.currentUrlTree=T.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,T.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(T,O,z){const fe=new Kt(T.id,this.serializeUrl(T.extractedUrl),O,z);this.triggerEvent(fe),T.resolve(!1)}generateNgRouterState(T,O){return"computed"===this.canceledNavigationResolution?{navigationId:T,\u0275routerPageId:O}:{navigationId:T}}}return S.\u0275fac=function(T){c.$Z()},S.\u0275prov=c.Yz7({token:S,factory:function(){return Bi()},providedIn:"root"}),S})();function ei(S){return"imperative"!==S}let pl=(()=>{class S{constructor(T,O,z,fe,je,Qe){this.router=T,this.route=O,this.tabIndexAttribute=z,this.renderer=fe,this.el=je,this.locationStrategy=Qe,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new ut.x;const kt=je.nativeElement.tagName;this.isAnchorElement="A"===kt||"AREA"===kt,this.isAnchorElement?this.subscription=T.events.subscribe(pn=>{pn instanceof bt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(T){this._preserveFragment=(0,c.D6c)(T)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(T){this._skipLocationChange=(0,c.D6c)(T)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(T){this._replaceUrl=(0,c.D6c)(T)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(T){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",T)}ngOnChanges(T){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(T){null!=T?(this.commands=Array.isArray(T)?T:[T],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(T,O,z,fe,je){return!!(null===this.urlTree||this.isAnchorElement&&(0!==T||O||z||fe||je||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){var T;null===(T=this.subscription)||void 0===T||T.unsubscribe()}updateHref(){var T;this.href=null!==this.urlTree&&this.locationStrategy?null===(T=this.locationStrategy)||void 0===T?void 0:T.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const O=null===this.href?null:(0,c.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",O)}applyAttributeValue(T,O){const z=this.renderer,fe=this.el.nativeElement;null!==O?z.setAttribute(fe,T,O):z.removeAttribute(fe,T)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return S.\u0275fac=function(T){return new(T||S)(c.Y36(Ln),c.Y36(Gi),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(he.S$))},S.\u0275dir=c.lG2({type:S,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(T,O){1&T&&c.NdJ("click",function(fe){return O.onClick(fe.button,fe.ctrlKey,fe.shiftKey,fe.altKey,fe.metaKey)}),2&T&&c.uIk("target",O.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),S})();class Ga{}let za=(()=>{class S{preload(T,O){return O().pipe(ve(()=>(0,W.of)(null)))}}return S.\u0275fac=function(T){return new(T||S)},S.\u0275prov=c.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})(),Vu=(()=>{class S{constructor(T,O,z,fe,je){this.router=T,this.injector=z,this.preloadingStrategy=fe,this.loader=je}setUpPreloading(){this.subscription=this.router.events.pipe((0,Rt.h)(T=>T instanceof bt),(0,be.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(T,O){const z=[];for(const kt of O){var fe,je;kt.providers&&!kt._injector&&(kt._injector=(0,c.MMx)(kt.providers,T,`Route: ${kt.path}`));const pn=null!==(fe=kt._injector)&&void 0!==fe?fe:T,Wn=null!==(je=kt._loadedInjector)&&void 0!==je?je:pn;if(kt.loadChildren&&!kt._loadedRoutes&&void 0===kt.canLoad||kt.loadComponent&&!kt._loadedComponent)z.push(this.preloadConfig(pn,kt));else if(kt.children||kt._loadedRoutes){var Qe;z.push(this.processRoutes(Wn,null!==(Qe=kt.children)&&void 0!==Qe?Qe:kt._loadedRoutes))}}return(0,ne.D)(z).pipe((0,Pn.J)())}preloadConfig(T,O){return this.preloadingStrategy.preload(O,()=>{let z;z=O.loadChildren&&void 0===O.canLoad?this.loader.loadChildren(T,O):(0,W.of)(null);const fe=z.pipe((0,qt.z)(je=>{var Qe;return null===je?(0,W.of)(void 0):(O._loadedRoutes=je.routes,O._loadedInjector=je.injector,this.processRoutes(null!==(Qe=je.injector)&&void 0!==Qe?Qe:T,je.routes))}));if(O.loadComponent&&!O._loadedComponent){const je=this.loader.loadComponent(O);return(0,ne.D)([fe,je]).pipe((0,Pn.J)())}return fe})}}return S.\u0275fac=function(T){return new(T||S)(c.LFG(Ln),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(Ga),c.LFG(Ha))},S.\u0275prov=c.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const uo=new c.OlP("");let Wa=(()=>{class S{constructor(T,O,z,fe={}){this.router=T,this.viewportScroller=O,this.zone=z,this.options=fe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},fe.scrollPositionRestoration=fe.scrollPositionRestoration||"disabled",fe.anchorScrolling=fe.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(T=>{T instanceof dt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=T.navigationTrigger,this.restoredId=T.restoredState?T.restoredState.navigationId:0):T instanceof bt&&(this.lastId=T.id,this.scheduleScrollEvent(T,this.router.parseUrl(T.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(T=>{T instanceof Un&&(T.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(T.position):T.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(T.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(T,O){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.router.triggerEvent(new Un(T,"popstate"===this.lastSource?this.store[this.restoredId]:null,O))})},0)})}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return S.\u0275fac=function(T){c.$Z()},S.\u0275prov=c.Yz7({token:S,factory:S.\u0275fac}),S})();function vs(S,A){return{\u0275kind:S,\u0275providers:A}}function fu(){const S=(0,c.f3M)(c.zs3);return A=>{var T,O;const z=S.get(c.z2F);if(A!==z.components[0])return;const fe=S.get(Ln),je=S.get(jt);1===S.get(Hl)&&fe.initialNavigation(),null===(T=S.get(co,null,c.XFs.Optional))||void 0===T||T.setUpPreloading(),null===(O=S.get(uo,null,c.XFs.Optional))||void 0===O||O.init(),fe.resetRootComponentType(z.componentTypes[0]),je.next(),je.complete()}}const jt=new c.OlP("",{factory:()=>new ut.x}),Hl=new c.OlP("",{providedIn:"root",factory:()=>1});const co=new c.OlP("");function ga(S){return vs(0,[{provide:co,useExisting:Vu},{provide:Ga,useExisting:S}])}const Hu=new c.OlP("ROUTER_FORROOT_GUARD"),Gl=[he.Ye,{provide:nr,useClass:Xn},{provide:Ln,useFactory:Bi},Wi,{provide:Gi,useFactory:function Yo(S){return S.routerState.root},deps:[Ln]},Ha,[]];function zr(){return new c.PXZ("Router",Ln)}let bd=(()=>{class S{constructor(T){}static forRoot(T,O){return{ngModule:S,providers:[Gl,[],{provide:No,multi:!0,useValue:T},{provide:Hu,useFactory:Wl,deps:[[Ln,new c.FiY,new c.tp0]]},{provide:ys,useValue:O||{}},null!=O&&O.useHash?{provide:he.S$,useClass:he.Do}:{provide:he.S$,useClass:he.b0},{provide:uo,useFactory:()=>{const S=(0,c.f3M)(Ln),A=(0,c.f3M)(he.EM),T=(0,c.f3M)(c.R0b),O=(0,c.f3M)(ys);return O.scrollOffset&&A.setOffset(O.scrollOffset),new Wa(S,A,T,O)}},null!=O&&O.preloadingStrategy?ga(O.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:zr},null!=O&&O.initialNavigation?Kl(O):[],[{provide:yl,useFactory:fu},{provide:c.tb,multi:!0,useExisting:yl}]]}}static forChild(T){return{ngModule:S,providers:[{provide:No,multi:!0,useValue:T}]}}}return S.\u0275fac=function(T){return new(T||S)(c.LFG(Hu,8))},S.\u0275mod=c.oAB({type:S}),S.\u0275inj=c.cJS({imports:[Ys]}),S})();function Wl(S){return"guarded"}function Kl(S){return["disabled"===S.initialNavigation?vs(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const A=(0,c.f3M)(Ln);return()=>{A.setUpLocationChangeListener()}}},{provide:Hl,useValue:2}]).\u0275providers:[],"enabledBlocking"===S.initialNavigation?vs(2,[{provide:Hl,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:A=>{const T=A.get(he.V_,Promise.resolve());let O=!1;return()=>T.then(()=>new Promise(fe=>{const je=A.get(Ln),Qe=A.get(jt);(function z(fe){A.get(Ln).events.pipe((0,Rt.h)(Qe=>Qe instanceof bt||Qe instanceof Kt||Qe instanceof sn),(0,B.U)(Qe=>Qe instanceof bt||Qe instanceof Kt&&(0===Qe.code||1===Qe.code)&&null),(0,Rt.h)(Qe=>null!==Qe),(0,Oe.q)(1)).subscribe(()=>{fe()})})(()=>{fe(!0),O=!0}),je.afterPreactivation=()=>(fe(!0),O||Qe.closed?(0,W.of)(void 0):Qe),je.initialNavigation()}))}}]).\u0275providers:[]]}const yl=new c.OlP("")},3942:(gn,_t,$)=>{"use strict";$.d(_t,{Z:()=>vt});var c=$(2090),ne=$(4859),W=$(9681),Ue=$(1877);class Le{constructor(at,ye){this._delegate=at,this.firebase=ye,(0,W._addComponent)(at,new ne.wA("app-compat",()=>this,"PUBLIC")),this.container=at.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(at){this._delegate.automaticDataCollectionEnabled=at}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(at=>{this._delegate.checkDestroyed(),at()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,W.deleteApp)(this._delegate)))}_getService(at,ye=W._DEFAULT_ENTRY_NAME){var Ce;this._delegate.checkDestroyed();const wt=this._delegate.container.getProvider(at);return!wt.isInitialized()&&"EXPLICIT"===(null===(Ce=wt.getComponent())||void 0===Ce?void 0:Ce.instantiationMode)&&wt.initialize(),wt.getImmediate({identifier:ye})}_removeServiceInstance(at,ye=W._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(at).clearInstance(ye)}_addComponent(at){(0,W._addComponent)(this._delegate,at)}_addOrOverwriteComponent(at){(0,W._addOrOverwriteComponent)(this._delegate,at)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const we=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),xe=function $e(){const lt=function Se(lt){const at={},ye={__esModule:!0,initializeApp:function Ve(rt,ie={}){const ut=W.initializeApp(rt,ie);if((0,c.r3)(at,ut.name))return at[ut.name];const he=new lt(ut,ye);return at[ut.name]=he,he},app:wt,registerVersion:W.registerVersion,setLogLevel:W.setLogLevel,onLog:W.onLog,apps:null,SDK_VERSION:W.SDK_VERSION,INTERNAL:{registerComponent:function Ke(rt){const ie=rt.name,ut=ie.replace("-compat","");if(W._registerComponent(rt)&&"PUBLIC"===rt.type){const he=(B=wt())=>{if("function"!=typeof B[ut])throw we.create("invalid-app-argument",{appName:ie});return B[ut]()};void 0!==rt.serviceProps&&(0,c.ZB)(he,rt.serviceProps),ye[ut]=he,lt.prototype[ut]=function(...B){return this._getService.bind(this,ie).apply(this,rt.multipleInstances?B:[])}}return"PUBLIC"===rt.type?ye[ut]:null},removeApp:function Ce(rt){delete at[rt]},useAsService:function Ne(rt,ie){return"serverAuth"===ie?null:ie},modularAPIs:W}};function wt(rt){if(!(0,c.r3)(at,rt=rt||W._DEFAULT_ENTRY_NAME))throw we.create("no-app",{appName:rt});return at[rt]}return ye.default=ye,Object.defineProperty(ye,"apps",{get:function tt(){return Object.keys(at).map(rt=>at[rt])}}),wt.App=lt,ye}(Le);return lt.INTERNAL=Object.assign(Object.assign({},lt.INTERNAL),{createFirebaseNamespace:$e,extendNamespace:function at(ye){(0,c.ZB)(lt,ye)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),lt}(),de=new Ue.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){de.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const lt=self.firebase.SDK_VERSION;lt&&lt.indexOf("LITE")>=0&&de.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const vt=xe;!function Xe(lt){(0,W.registerVersion)("@firebase/app-compat","0.2.0",lt)}()},9681:(gn,_t,$)=>{"use strict";$.r(_t),$.d(_t,{FirebaseError:()=>Ue.ZR,SDK_VERSION:()=>Fn,_DEFAULT_ENTRY_NAME:()=>be,_addComponent:()=>Me,_addOrOverwriteComponent:()=>Be,_apps:()=>le,_clearComponents:()=>Ht,_components:()=>ve,_getProvider:()=>Ot,_registerComponent:()=>At,_removeServiceInstance:()=>Bt,deleteApp:()=>Or,getApp:()=>En,getApps:()=>zn,initializeApp:()=>rn,onLog:()=>fr,registerVersion:()=>wn,setLogLevel:()=>ni});var c=$(5861),ne=$(4859),W=$(1877),Ue=$(2090),Le=$(8766);class He{constructor(zt){this.container=zt}getPlatformInfoString(){return this.container.getProviders().map(Sn=>{if(function we(yn){const zt=yn.getComponent();return"VERSION"===(null==zt?void 0:zt.type)}(Sn)){const nr=Sn.getImmediate();return`${nr.library}/${nr.version}`}return null}).filter(Sn=>Sn).join(" ")}}const Se="@firebase/app",xe=new W.Yd("@firebase/app"),be="[DEFAULT]",K={[Se]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},le=new Map,ve=new Map;function Me(yn,zt){try{yn.container.addComponent(zt)}catch(Sn){xe.debug(`Component ${zt.name} failed to register with FirebaseApp ${yn.name}`,Sn)}}function Be(yn,zt){yn.container.addOrOverwriteComponent(zt)}function At(yn){const zt=yn.name;if(ve.has(zt))return xe.debug(`There were multiple attempts to register component ${zt}.`),!1;ve.set(zt,yn);for(const Sn of le.values())Me(Sn,yn);return!0}function Ot(yn,zt){const Sn=yn.container.getProvider("heartbeat").getImmediate({optional:!0});return Sn&&Sn.triggerHeartbeat(),yn.container.getProvider(zt)}function Bt(yn,zt,Sn=be){Ot(yn,zt).clearInstance(Sn)}function Ht(){ve.clear()}const vn=new Ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Pn{constructor(zt,Sn,nr){this._isDeleted=!1,this._options=Object.assign({},zt),this._config=Object.assign({},Sn),this._name=Sn.name,this._automaticDataCollectionEnabled=Sn.automaticDataCollectionEnabled,this._container=nr,this.container.addComponent(new ne.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(zt){this.checkDestroyed(),this._automaticDataCollectionEnabled=zt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(zt){this._isDeleted=zt}checkDestroyed(){if(this.isDeleted)throw vn.create("app-deleted",{appName:this._name})}}const Fn="9.15.0";function rn(yn,zt={}){let Sn=yn;"object"!=typeof zt&&(zt={name:zt});const nr=Object.assign({name:be,automaticDataCollectionEnabled:!1},zt),Xn=nr.name;if("string"!=typeof Xn||!Xn)throw vn.create("bad-app-name",{appName:String(Xn)});if(Sn||(Sn=(0,Ue.aH)()),!Sn)throw vn.create("no-options");const hr=le.get(Xn);if(hr){if((0,Ue.vZ)(Sn,hr.options)&&(0,Ue.vZ)(nr,hr.config))return hr;throw vn.create("duplicate-app",{appName:Xn})}const ot=new ne.H0(Xn);for(const ht of ve.values())ot.addComponent(ht);const Ze=new Pn(Sn,nr,ot);return le.set(Xn,Ze),Ze}function En(yn=be){const zt=le.get(yn);if(!zt&&yn===be)return rn();if(!zt)throw vn.create("no-app",{appName:yn});return zt}function zn(){return Array.from(le.values())}function Or(yn){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,c.Z)(function*(yn){const zt=yn.name;le.has(zt)&&(le.delete(zt),yield Promise.all(yn.container.getProviders().map(Sn=>Sn.delete())),yn.isDeleted=!0)})).apply(this,arguments)}function wn(yn,zt,Sn){var nr;let Xn=null!==(nr=K[yn])&&void 0!==nr?nr:yn;Sn&&(Xn+=`-${Sn}`);const hr=Xn.match(/\s|\//),ot=zt.match(/\s|\//);if(hr||ot){const Ze=[`Unable to register library "${Xn}" with version "${zt}":`];return hr&&Ze.push(`library name "${Xn}" contains illegal characters (whitespace or "/")`),hr&&ot&&Ze.push("and"),ot&&Ze.push(`version name "${zt}" contains illegal characters (whitespace or "/")`),void xe.warn(Ze.join(" "))}At(new ne.wA(`${Xn}-version`,()=>({library:Xn,version:zt}),"VERSION"))}function fr(yn,zt){if(null!==yn&&"function"!=typeof yn)throw vn.create("invalid-log-argument");(0,W.Am)(yn,zt)}function ni(yn){(0,W.Ub)(yn)}const ci="firebase-heartbeat-store";let rr=null;function tr(){return rr||(rr=(0,Le.X3)("firebase-heartbeat-database",1,{upgrade:(yn,zt)=>{0===zt&&yn.createObjectStore(ci)}}).catch(yn=>{throw vn.create("idb-open",{originalErrorMessage:yn.message})})),rr}function Zn(){return(Zn=(0,c.Z)(function*(yn){try{return(yield tr()).transaction(ci).objectStore(ci).get(Sr(yn))}catch(zt){if(zt instanceof Ue.ZR)xe.warn(zt.message);else{const Sn=vn.create("idb-get",{originalErrorMessage:null==zt?void 0:zt.message});xe.warn(Sn.message)}}})).apply(this,arguments)}function Jr(yn,zt){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,c.Z)(function*(yn,zt){try{const nr=(yield tr()).transaction(ci,"readwrite");return yield nr.objectStore(ci).put(zt,Sr(yn)),nr.done}catch(Sn){if(Sn instanceof Ue.ZR)xe.warn(Sn.message);else{const nr=vn.create("idb-set",{originalErrorMessage:null==Sn?void 0:Sn.message});xe.warn(nr.message)}}})).apply(this,arguments)}function Sr(yn){return`${yn.name}!${yn.options.appId}`}class vi{constructor(zt){this.container=zt,this._heartbeatsCache=null;const Sn=this.container.getProvider("app").getImmediate();this._storage=new ar(Sn),this._heartbeatsCachePromise=this._storage.read().then(nr=>(this._heartbeatsCache=nr,nr))}triggerHeartbeat(){var zt=this;return(0,c.Z)(function*(){const nr=zt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Xn=Ir();if(null===zt._heartbeatsCache&&(zt._heartbeatsCache=yield zt._heartbeatsCachePromise),zt._heartbeatsCache.lastSentHeartbeatDate!==Xn&&!zt._heartbeatsCache.heartbeats.some(hr=>hr.date===Xn))return zt._heartbeatsCache.heartbeats.push({date:Xn,agent:nr}),zt._heartbeatsCache.heartbeats=zt._heartbeatsCache.heartbeats.filter(hr=>{const ot=new Date(hr.date).valueOf();return Date.now()-ot<=2592e6}),zt._storage.overwrite(zt._heartbeatsCache)})()}getHeartbeatsHeader(){var zt=this;return(0,c.Z)(function*(){if(null===zt._heartbeatsCache&&(yield zt._heartbeatsCachePromise),null===zt._heartbeatsCache||0===zt._heartbeatsCache.heartbeats.length)return"";const Sn=Ir(),{heartbeatsToSend:nr,unsentEntries:Xn}=function oi(yn,zt=1024){const Sn=[];let nr=yn.slice();for(const Xn of yn){const hr=Sn.find(ot=>ot.agent===Xn.agent);if(hr){if(hr.dates.push(Xn.date),er(Sn)>zt){hr.dates.pop();break}}else if(Sn.push({agent:Xn.agent,dates:[Xn.date]}),er(Sn)>zt){Sn.pop();break}nr=nr.slice(1)}return{heartbeatsToSend:Sn,unsentEntries:nr}}(zt._heartbeatsCache.heartbeats),hr=(0,Ue.L)(JSON.stringify({version:2,heartbeats:nr}));return zt._heartbeatsCache.lastSentHeartbeatDate=Sn,Xn.length>0?(zt._heartbeatsCache.heartbeats=Xn,yield zt._storage.overwrite(zt._heartbeatsCache)):(zt._heartbeatsCache.heartbeats=[],zt._storage.overwrite(zt._heartbeatsCache)),hr})()}}function Ir(){return(new Date).toISOString().substring(0,10)}class ar{constructor(zt){this.app=zt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,Ue.hl)()&&(0,Ue.eu)().then(()=>!0).catch(()=>!1)})()}read(){var zt=this;return(0,c.Z)(function*(){return(yield zt._canUseIndexedDBPromise)&&(yield function Hn(yn){return Zn.apply(this,arguments)}(zt.app))||{heartbeats:[]}})()}overwrite(zt){var Sn=this;return(0,c.Z)(function*(){var nr;if(yield Sn._canUseIndexedDBPromise){const hr=yield Sn.read();return Jr(Sn.app,{lastSentHeartbeatDate:null!==(nr=zt.lastSentHeartbeatDate)&&void 0!==nr?nr:hr.lastSentHeartbeatDate,heartbeats:zt.heartbeats})}})()}add(zt){var Sn=this;return(0,c.Z)(function*(){var nr;if(yield Sn._canUseIndexedDBPromise){const hr=yield Sn.read();return Jr(Sn.app,{lastSentHeartbeatDate:null!==(nr=zt.lastSentHeartbeatDate)&&void 0!==nr?nr:hr.lastSentHeartbeatDate,heartbeats:[...hr.heartbeats,...zt.heartbeats]})}})()}}function er(yn){return(0,Ue.L)(JSON.stringify({version:2,heartbeats:yn})).length}!function gr(yn){At(new ne.wA("platform-logger",zt=>new He(zt),"PRIVATE")),At(new ne.wA("heartbeat",zt=>new vi(zt),"PRIVATE")),wn(Se,"0.9.0",yn),wn(Se,"0.9.0","esm2017"),wn("fire-js","")}("")},4859:(gn,_t,$)=>{"use strict";$.d(_t,{H0:()=>Se,wA:()=>W,zt:()=>Le});var c=$(5861),ne=$(2090);class W{constructor(xe,de,Te){this.name=xe,this.instanceFactory=de,this.type=Te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(xe){return this.instantiationMode=xe,this}setMultipleInstances(xe){return this.multipleInstances=xe,this}setServiceProps(xe){return this.serviceProps=xe,this}setInstanceCreatedCallback(xe){return this.onInstanceCreated=xe,this}}const Ue="[DEFAULT]";class Le{constructor(xe,de){this.name=xe,this.container=de,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(xe){const de=this.normalizeInstanceIdentifier(xe);if(!this.instancesDeferred.has(de)){const Te=new ne.BH;if(this.instancesDeferred.set(de,Te),this.isInitialized(de)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:de});ze&&Te.resolve(ze)}catch(ze){}}return this.instancesDeferred.get(de).promise}getImmediate(xe){var de;const Te=this.normalizeInstanceIdentifier(null==xe?void 0:xe.identifier),ze=null!==(de=null==xe?void 0:xe.optional)&&void 0!==de&&de;if(!this.isInitialized(Te)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Te})}catch(Xe){if(ze)return null;throw Xe}}getComponent(){return this.component}setComponent(xe){if(xe.name!==this.name)throw Error(`Mismatching Component ${xe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=xe,this.shouldAutoInitialize()){if(function we($e){return"EAGER"===$e.instantiationMode}(xe))try{this.getOrInitializeService({instanceIdentifier:Ue})}catch(de){}for(const[de,Te]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier(de);try{const Xe=this.getOrInitializeService({instanceIdentifier:ze});Te.resolve(Xe)}catch(Xe){}}}}clearInstance(xe=Ue){this.instancesDeferred.delete(xe),this.instancesOptions.delete(xe),this.instances.delete(xe)}delete(){var xe=this;return(0,c.Z)(function*(){const de=Array.from(xe.instances.values());yield Promise.all([...de.filter(Te=>"INTERNAL"in Te).map(Te=>Te.INTERNAL.delete()),...de.filter(Te=>"_delete"in Te).map(Te=>Te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(xe=Ue){return this.instances.has(xe)}getOptions(xe=Ue){return this.instancesOptions.get(xe)||{}}initialize(xe={}){const{options:de={}}=xe,Te=this.normalizeInstanceIdentifier(xe.instanceIdentifier);if(this.isInitialized(Te))throw Error(`${this.name}(${Te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:Te,options:de});for(const[Xe,vt]of this.instancesDeferred.entries())Te===this.normalizeInstanceIdentifier(Xe)&&vt.resolve(ze);return ze}onInit(xe,de){var Te;const ze=this.normalizeInstanceIdentifier(de),Xe=null!==(Te=this.onInitCallbacks.get(ze))&&void 0!==Te?Te:new Set;Xe.add(xe),this.onInitCallbacks.set(ze,Xe);const vt=this.instances.get(ze);return vt&&xe(vt,ze),()=>{Xe.delete(xe)}}invokeOnInitCallbacks(xe,de){const Te=this.onInitCallbacks.get(de);if(Te)for(const ze of Te)try{ze(xe,de)}catch(Xe){}}getOrInitializeService({instanceIdentifier:xe,options:de={}}){let Te=this.instances.get(xe);if(!Te&&this.component&&(Te=this.component.instanceFactory(this.container,{instanceIdentifier:($e=xe,$e===Ue?void 0:$e),options:de}),this.instances.set(xe,Te),this.instancesOptions.set(xe,de),this.invokeOnInitCallbacks(Te,xe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,xe,Te)}catch(ze){}var $e;return Te||null}normalizeInstanceIdentifier(xe=Ue){return this.component?this.component.multipleInstances?xe:Ue:xe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Se{constructor(xe){this.name=xe,this.providers=new Map}addComponent(xe){const de=this.getProvider(xe.name);if(de.isComponentSet())throw new Error(`Component ${xe.name} has already been registered with ${this.name}`);de.setComponent(xe)}addOrOverwriteComponent(xe){this.getProvider(xe.name).isComponentSet()&&this.providers.delete(xe.name),this.addComponent(xe)}getProvider(xe){if(this.providers.has(xe))return this.providers.get(xe);const de=new Le(xe,this);return this.providers.set(xe,de),de}getProviders(){return Array.from(this.providers.values())}}},1877:(gn,_t,$)=>{"use strict";$.d(_t,{Am:()=>$e,Ub:()=>Se,Yd:()=>we,in:()=>ne});const c=[];var ne=(()=>{return(xe=ne||(ne={}))[xe.DEBUG=0]="DEBUG",xe[xe.VERBOSE=1]="VERBOSE",xe[xe.INFO=2]="INFO",xe[xe.WARN=3]="WARN",xe[xe.ERROR=4]="ERROR",xe[xe.SILENT=5]="SILENT",ne;var xe})();const W={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},Ue=ne.INFO,Le={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},He=(xe,de,...Te)=>{if(de<xe.logLevel)return;const ze=(new Date).toISOString(),Xe=Le[de];if(!Xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${de})`);console[Xe](`[${ze}]  ${xe.name}:`,...Te)};class we{constructor(de){this.name=de,this._logLevel=Ue,this._logHandler=He,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(de){if(!(de in ne))throw new TypeError(`Invalid value "${de}" assigned to \`logLevel\``);this._logLevel=de}setLogLevel(de){this._logLevel="string"==typeof de?W[de]:de}get logHandler(){return this._logHandler}set logHandler(de){if("function"!=typeof de)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=de}get userLogHandler(){return this._userLogHandler}set userLogHandler(de){this._userLogHandler=de}debug(...de){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...de),this._logHandler(this,ne.DEBUG,...de)}log(...de){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...de),this._logHandler(this,ne.VERBOSE,...de)}info(...de){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...de),this._logHandler(this,ne.INFO,...de)}warn(...de){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...de),this._logHandler(this,ne.WARN,...de)}error(...de){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...de),this._logHandler(this,ne.ERROR,...de)}}function Se(xe){c.forEach(de=>{de.setLogLevel(xe)})}function $e(xe,de){for(const Te of c){let ze=null;de&&de.level&&(ze=W[de.level]),Te.userLogHandler=null===xe?null:(Xe,vt,...lt)=>{const at=lt.map(ye=>{if(null==ye)return null;if("string"==typeof ye)return ye;if("number"==typeof ye||"boolean"==typeof ye)return ye.toString();if(ye instanceof Error)return ye.message;try{return JSON.stringify(ye)}catch(Ce){return null}}).filter(ye=>ye).join(" ");vt>=(null!=ze?ze:Xe.logLevel)&&xe({level:ne[vt].toLowerCase(),message:at,args:lt,type:Xe.name})}}}},6188:(gn,_t,$)=>{"use strict";$.d(_t,{Zw:()=>Xe,aw:()=>qt,X$:()=>Rt,sK:()=>Oe});var c=$(4650),ne=$(9646),W=$(9751),Ue=$(576);function Le(qe){return!!qe&&(qe instanceof W.y||(0,Ue.m)(qe.lift)&&(0,Ue.m)(qe.subscribe))}var He=$(4128),we=$(7272),Se=$(9770),$e=$(5698),xe=$(3151),de=$(4004),Te=$(4351),ze=$(3900);class Xe{}let vt=(()=>{class qe extends Xe{getTranslation(K){return(0,ne.of)({})}}return qe.\u0275fac=function(){let be;return function(le){return(be||(be=c.n5z(qe)))(le||qe)}}(),qe.\u0275prov=c.Yz7({token:qe,factory:qe.\u0275fac}),qe})();class lt{}let at=(()=>{class qe{handle(K){return K.key}}return qe.\u0275fac=function(K){return new(K||qe)},qe.\u0275prov=c.Yz7({token:qe,factory:qe.\u0275fac}),qe})();function ye(qe,be){if(qe===be)return!0;if(null===qe||null===be)return!1;if(qe!=qe&&be!=be)return!0;let ve,Me,Be,K=typeof qe;if(K==typeof be&&"object"==K){if(!Array.isArray(qe)){if(Array.isArray(be))return!1;for(Me in Be=Object.create(null),qe){if(!ye(qe[Me],be[Me]))return!1;Be[Me]=!0}for(Me in be)if(!(Me in Be)&&typeof be[Me]<"u")return!1;return!0}if(!Array.isArray(be))return!1;if((ve=qe.length)==be.length){for(Me=0;Me<ve;Me++)if(!ye(qe[Me],be[Me]))return!1;return!0}}return!1}function Ce(qe){return typeof qe<"u"&&null!==qe}function wt(qe){return qe&&"object"==typeof qe&&!Array.isArray(qe)}function Ve(qe,be){let K=Object.assign({},qe);return wt(qe)&&wt(be)&&Object.keys(be).forEach(le=>{wt(be[le])?le in qe?K[le]=Ve(qe[le],be[le]):Object.assign(K,{[le]:be[le]}):Object.assign(K,{[le]:be[le]})}),K}class tt{}let Ke=(()=>{class qe extends tt{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(K,le){let ve;return ve="string"==typeof K?this.interpolateString(K,le):"function"==typeof K?this.interpolateFunction(K,le):K,ve}getValue(K,le){let ve="string"==typeof le?le.split("."):[le];le="";do{le+=ve.shift(),!Ce(K)||!Ce(K[le])||"object"!=typeof K[le]&&ve.length?ve.length?le+=".":K=void 0:(K=K[le],le="")}while(ve.length);return K}interpolateFunction(K,le){return K(le)}interpolateString(K,le){return le?K.replace(this.templateMatcher,(ve,Me)=>{let Be=this.getValue(le,Me);return Ce(Be)?Be:ve}):K}}return qe.\u0275fac=function(){let be;return function(le){return(be||(be=c.n5z(qe)))(le||qe)}}(),qe.\u0275prov=c.Yz7({token:qe,factory:qe.\u0275fac}),qe})();class Ne{}let rt=(()=>{class qe extends Ne{compile(K,le){return K}compileTranslations(K,le){return K}}return qe.\u0275fac=function(){let be;return function(le){return(be||(be=c.n5z(qe)))(le||qe)}}(),qe.\u0275prov=c.Yz7({token:qe,factory:qe.\u0275fac}),qe})();class ie{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new c.vpe,this.onLangChange=new c.vpe,this.onDefaultLangChange=new c.vpe}}const ut=new c.OlP("USE_STORE"),he=new c.OlP("USE_DEFAULT_LANG"),B=new c.OlP("DEFAULT_LANGUAGE"),ke=new c.OlP("USE_EXTEND");let Oe=(()=>{class qe{constructor(K,le,ve,Me,Be,At=!0,Ot=!1,Bt=!1,Ht){this.store=K,this.currentLoader=le,this.compiler=ve,this.parser=Me,this.missingTranslationHandler=Be,this.useDefaultLang=At,this.isolate=Ot,this.extend=Bt,this.pending=!1,this._onTranslationChange=new c.vpe,this._onLangChange=new c.vpe,this._onDefaultLangChange=new c.vpe,this._langs=[],this._translations={},this._translationRequests={},Ht&&this.setDefaultLang(Ht)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(K){this.isolate?this._defaultLang=K:this.store.defaultLang=K}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(K){this.isolate?this._currentLang=K:this.store.currentLang=K}get langs(){return this.isolate?this._langs:this.store.langs}set langs(K){this.isolate?this._langs=K:this.store.langs=K}get translations(){return this.isolate?this._translations:this.store.translations}set translations(K){this.isolate?this._translations=K:this.store.translations=K}setDefaultLang(K){if(K===this.defaultLang)return;let le=this.retrieveTranslations(K);typeof le<"u"?(null==this.defaultLang&&(this.defaultLang=K),le.pipe((0,$e.q)(1)).subscribe(ve=>{this.changeDefaultLang(K)})):this.changeDefaultLang(K)}getDefaultLang(){return this.defaultLang}use(K){if(K===this.currentLang)return(0,ne.of)(this.translations[K]);let le=this.retrieveTranslations(K);return typeof le<"u"?(this.currentLang||(this.currentLang=K),le.pipe((0,$e.q)(1)).subscribe(ve=>{this.changeLang(K)}),le):(this.changeLang(K),(0,ne.of)(this.translations[K]))}retrieveTranslations(K){let le;return(typeof this.translations[K]>"u"||this.extend)&&(this._translationRequests[K]=this._translationRequests[K]||this.getTranslation(K),le=this._translationRequests[K]),le}getTranslation(K){this.pending=!0;const le=this.currentLoader.getTranslation(K).pipe((0,xe.d)(1),(0,$e.q)(1));return this.loadingTranslations=le.pipe((0,de.U)(ve=>this.compiler.compileTranslations(ve,K)),(0,xe.d)(1),(0,$e.q)(1)),this.loadingTranslations.subscribe({next:ve=>{this.translations[K]=this.extend&&this.translations[K]?{...ve,...this.translations[K]}:ve,this.updateLangs(),this.pending=!1},error:ve=>{this.pending=!1}}),le}setTranslation(K,le,ve=!1){le=this.compiler.compileTranslations(le,K),this.translations[K]=(ve||this.extend)&&this.translations[K]?Ve(this.translations[K],le):le,this.updateLangs(),this.onTranslationChange.emit({lang:K,translations:this.translations[K]})}getLangs(){return this.langs}addLangs(K){K.forEach(le=>{-1===this.langs.indexOf(le)&&this.langs.push(le)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(K,le,ve){let Me;if(le instanceof Array){let Be={},At=!1;for(let Ot of le)Be[Ot]=this.getParsedResult(K,Ot,ve),Le(Be[Ot])&&(At=!0);if(At){const Ot=le.map(Bt=>Le(Be[Bt])?Be[Bt]:(0,ne.of)(Be[Bt]));return(0,He.D)(Ot).pipe((0,de.U)(Bt=>{let Ht={};return Bt.forEach((An,vn)=>{Ht[le[vn]]=An}),Ht}))}return Be}if(K&&(Me=this.parser.interpolate(this.parser.getValue(K,le),ve)),typeof Me>"u"&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(Me=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],le),ve)),typeof Me>"u"){let Be={key:le,translateService:this};typeof ve<"u"&&(Be.interpolateParams=ve),Me=this.missingTranslationHandler.handle(Be)}return typeof Me<"u"?Me:le}get(K,le){if(!Ce(K)||!K.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,Te.b)(ve=>Le(ve=this.getParsedResult(ve,K,le))?ve:(0,ne.of)(ve)));{let ve=this.getParsedResult(this.translations[this.currentLang],K,le);return Le(ve)?ve:(0,ne.of)(ve)}}getStreamOnTranslationChange(K,le){if(!Ce(K)||!K.length)throw new Error('Parameter "key" required');return(0,we.z)((0,Se.P)(()=>this.get(K,le)),this.onTranslationChange.pipe((0,ze.w)(ve=>{const Me=this.getParsedResult(ve.translations,K,le);return"function"==typeof Me.subscribe?Me:(0,ne.of)(Me)})))}stream(K,le){if(!Ce(K)||!K.length)throw new Error('Parameter "key" required');return(0,we.z)((0,Se.P)(()=>this.get(K,le)),this.onLangChange.pipe((0,ze.w)(ve=>{const Me=this.getParsedResult(ve.translations,K,le);return Le(Me)?Me:(0,ne.of)(Me)})))}instant(K,le){if(!Ce(K)||!K.length)throw new Error('Parameter "key" required');let ve=this.getParsedResult(this.translations[this.currentLang],K,le);if(Le(ve)){if(K instanceof Array){let Me={};return K.forEach((Be,At)=>{Me[K[At]]=K[At]}),Me}return K}return ve}set(K,le,ve=this.currentLang){this.translations[ve][K]=this.compiler.compile(le,ve),this.updateLangs(),this.onTranslationChange.emit({lang:ve,translations:this.translations[ve]})}changeLang(K){this.currentLang=K,this.onLangChange.emit({lang:K,translations:this.translations[K]}),null==this.defaultLang&&this.changeDefaultLang(K)}changeDefaultLang(K){this.defaultLang=K,this.onDefaultLangChange.emit({lang:K,translations:this.translations[K]})}reloadLang(K){return this.resetLang(K),this.getTranslation(K)}resetLang(K){this._translationRequests[K]=void 0,this.translations[K]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let K=window.navigator.languages?window.navigator.languages[0]:null;return K=K||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,typeof K>"u"?void 0:(-1!==K.indexOf("-")&&(K=K.split("-")[0]),-1!==K.indexOf("_")&&(K=K.split("_")[0]),K)}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let K=window.navigator.languages?window.navigator.languages[0]:null;return K=K||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,K}}return qe.\u0275fac=function(K){return new(K||qe)(c.LFG(ie),c.LFG(Xe),c.LFG(Ne),c.LFG(tt),c.LFG(lt),c.LFG(he),c.LFG(ut),c.LFG(ke),c.LFG(B))},qe.\u0275prov=c.Yz7({token:qe,factory:qe.\u0275fac}),qe})(),Rt=(()=>{class qe{constructor(K,le){this.translate=K,this._ref=le,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(K,le,ve){let Me=Be=>{this.value=void 0!==Be?Be:K,this.lastKey=K,this._ref.markForCheck()};if(ve){let Be=this.translate.getParsedResult(ve,K,le);Le(Be.subscribe)?Be.subscribe(Me):Me(Be)}this.translate.get(K,le).subscribe(Me)}transform(K,...le){if(!K||!K.length)return K;if(ye(K,this.lastKey)&&ye(le,this.lastParams))return this.value;let ve;if(Ce(le[0])&&le.length)if("string"==typeof le[0]&&le[0].length){let Me=le[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{ve=JSON.parse(Me)}catch(Be){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${le[0]}`)}}else"object"==typeof le[0]&&!Array.isArray(le[0])&&(ve=le[0]);return this.lastKey=K,this.lastParams=le,this.updateValue(K,ve),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(Me=>{this.lastKey&&Me.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(K,ve,Me.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(Me=>{this.lastKey&&(this.lastKey=null,this.updateValue(K,ve,Me.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(K,ve))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return qe.\u0275fac=function(K){return new(K||qe)(c.Y36(Oe,16),c.Y36(c.sBO,16))},qe.\u0275pipe=c.Yjl({name:"translate",type:qe,pure:!1}),qe.\u0275prov=c.Yz7({token:qe,factory:qe.\u0275fac}),qe})(),qt=(()=>{class qe{static forRoot(K={}){return{ngModule:qe,providers:[K.loader||{provide:Xe,useClass:vt},K.compiler||{provide:Ne,useClass:rt},K.parser||{provide:tt,useClass:Ke},K.missingTranslationHandler||{provide:lt,useClass:at},ie,{provide:ut,useValue:K.isolate},{provide:he,useValue:K.useDefaultLang},{provide:ke,useValue:K.extend},{provide:B,useValue:K.defaultLanguage},Oe]}}static forChild(K={}){return{ngModule:qe,providers:[K.loader||{provide:Xe,useClass:vt},K.compiler||{provide:Ne,useClass:rt},K.parser||{provide:tt,useClass:Ke},K.missingTranslationHandler||{provide:lt,useClass:at},{provide:ut,useValue:K.isolate},{provide:he,useValue:K.useDefaultLang},{provide:ke,useValue:K.extend},{provide:B,useValue:K.defaultLanguage},Oe]}}}return qe.\u0275fac=function(K){return new(K||qe)},qe.\u0275mod=c.oAB({type:qe}),qe.\u0275inj=c.cJS({}),qe})()},259:(gn,_t,$)=>{"use strict";$.d(_t,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=$(9681);(0,c.registerVersion)("firebase","9.15.0","app")},9260:(gn,_t,$)=>{"use strict";$.d(_t,{Z:()=>c.Z});var c=$(3942);c.Z.registerVersion("firebase","9.15.0","app-compat")},9169:(gn,_t,$)=>{"use strict";$.r(_t);var c=$(5861),ne=$(3942),W=$(2090),Ue=$(9681),Le=$(1877),He=$(655),we=$(4859);const vt=function ze(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},lt=function Xe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},at=new W.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ce=new Le.Yd("@firebase/auth");function wt(C,...g){Ce.logLevel<=Le.in.ERROR&&Ce.error(`Auth (${Ue.SDK_VERSION}): ${C}`,...g)}function Ve(C,...g){throw rt(C,...g)}function tt(C,...g){return rt(C,...g)}function Ke(C,g,_){const x=Object.assign(Object.assign({},lt()),{[g]:_});return new W.LL("auth","Firebase",x).create(g,{appName:C.name})}function Ne(C,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&Ve(C,"argument-error"),Ke(C,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function rt(C,...g){if("string"!=typeof C){const _=g[0],x=[...g.slice(1)];return x[0]&&(x[0].appName=C.name),C._errorFactory.create(_,...x)}return at.create(C,...g)}function ie(C,g,..._){if(!C)throw rt(g,..._)}function ut(C){const g="INTERNAL ASSERTION FAILED: "+C;throw wt(g),new Error(g)}function he(C,g){C||ut(g)}const B=new Map;function ke(C){he(C instanceof Function,"Expected a class definition");let g=B.get(C);return g?(he(g instanceof C,"Instance stored in cache mismatched with class"),g):(g=new C,B.set(C,g),g)}function Rt(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function qt(){return"http:"===qe()||"https:"===qe()}function qe(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class le{constructor(g,_){this.shortDelay=g,this.longDelay=_,he(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,W.uI)()||(0,W.b$)()}get(){return function be(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(qt()||(0,W.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ve(C,g){he(C.emulator,"Emulator should always be set here");const{url:_}=C.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class Me{static initialize(g,_,x){this.fetchImpl=g,_&&(this.headersImpl=_),x&&(this.responseImpl=x)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ut("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ut("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ut("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Be={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},At=new le(3e4,6e4);function Ot(C,g){return C.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:C.tenantId}):g}function Bt(C,g,_,x){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,c.Z)(function*(C,g,_,x,re={}){return An(C,re,(0,c.Z)(function*(){let De={},It={};x&&("GET"===g?It=x:De={body:JSON.stringify(x)});const Qt=(0,W.xO)(Object.assign({key:C.config.apiKey},It)).slice(1),Bn=yield C._getAdditionalHeaders();return Bn["Content-Type"]="application/json",C.languageCode&&(Bn["X-Firebase-Locale"]=C.languageCode),Me.fetch()(rn(C,C.config.apiHost,_,Qt),Object.assign({method:g,headers:Bn,referrerPolicy:"no-referrer"},De))}))})).apply(this,arguments)}function An(C,g,_){return vn.apply(this,arguments)}function vn(){return(vn=(0,c.Z)(function*(C,g,_){C._canInitEmulator=!1;const x=Object.assign(Object.assign({},Be),g);try{const re=new En(C),De=yield Promise.race([_(),re.promise]);re.clearNetworkTimeout();const It=yield De.json();if("needConfirmation"in It)throw zn(C,"account-exists-with-different-credential",It);if(De.ok&&!("errorMessage"in It))return It;{const Qt=De.ok?It.errorMessage:It.error.message,[Bn,cr]=Qt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Bn)throw zn(C,"credential-already-in-use",It);if("EMAIL_EXISTS"===Bn)throw zn(C,"email-already-in-use",It);if("USER_DISABLED"===Bn)throw zn(C,"user-disabled",It);const Lr=x[Bn]||Bn.toLowerCase().replace(/[_\s]+/g,"-");if(cr)throw Ke(C,Lr,cr);Ve(C,Lr)}}catch(re){if(re instanceof W.ZR)throw re;Ve(C,"network-request-failed")}})).apply(this,arguments)}function Pn(C,g,_,x){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,c.Z)(function*(C,g,_,x,re={}){const De=yield Bt(C,g,_,x,re);return"mfaPendingCredential"in De&&Ve(C,"multi-factor-auth-required",{_serverResponse:De}),De})).apply(this,arguments)}function rn(C,g,_,x){const re=`${g}${_}?${x}`;return C.config.emulator?ve(C.config,re):`${C.config.apiScheme}://${re}`}class En{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,x)=>{this.timer=setTimeout(()=>x(tt(this.auth,"network-request-failed")),At.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function zn(C,g,_){const x={appName:C.name};_.email&&(x.email=_.email),_.phoneNumber&&(x.phoneNumber=_.phoneNumber);const re=tt(C,g,x);return re.customData._tokenResponse=_,re}function Yt(){return(Yt=(0,c.Z)(function*(C,g){return Bt(C,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function wn(C,g){return fr.apply(this,arguments)}function fr(){return(fr=(0,c.Z)(function*(C,g){return Bt(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function ni(C,g){return wr.apply(this,arguments)}function wr(){return(wr=(0,c.Z)(function*(C,g){return Bt(C,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Kr(C){if(C)try{const g=new Date(Number(C));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function tr(){return(tr=(0,c.Z)(function*(C,g=!1){const _=(0,W.m9)(C),x=yield _.getIdToken(g),re=Zn(x);ie(re&&re.exp&&re.auth_time&&re.iat,_.auth,"internal-error");const De="object"==typeof re.firebase?re.firebase:void 0,It=null==De?void 0:De.sign_in_provider;return{claims:re,token:x,authTime:Kr(Hn(re.auth_time)),issuedAtTime:Kr(Hn(re.iat)),expirationTime:Kr(Hn(re.exp)),signInProvider:It||null,signInSecondFactor:(null==De?void 0:De.sign_in_second_factor)||null}})).apply(this,arguments)}function Hn(C){return 1e3*Number(C)}function Zn(C){const[g,_,x]=C.split(".");if(void 0===g||void 0===_||void 0===x)return wt("JWT malformed, contained fewer than 3 sections"),null;try{const re=(0,W.tV)(_);return re?JSON.parse(re):(wt("Failed to decode base64 JWT payload"),null)}catch(re){return wt("Caught error parsing JWT payload as JSON",null==re?void 0:re.toString()),null}}function Pr(C,g){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,c.Z)(function*(C,g,_=!1){if(_)return g;try{return yield g}catch(x){throw x instanceof W.ZR&&Gr(x)&&C.auth.currentUser===C&&(yield C.auth.signOut()),x}})).apply(this,arguments)}function Gr({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}class qr{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const x=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),x}{this.errorBackoff=3e4;const re=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,re)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const x=this.getInterval(g);this.timerId=setTimeout((0,c.Z)(function*(){yield _.iteration()}),x)}iteration(){var g=this;return(0,c.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===(null==_?void 0:_.code)&&g.schedule(!0))}g.schedule()})()}}class vi{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kr(this.lastLoginAt),this.creationTime=Kr(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ir(C){return oi.apply(this,arguments)}function oi(){return(oi=(0,c.Z)(function*(C){var g;const _=C.auth,x=yield C.getIdToken(),re=yield Pr(C,ni(_,{idToken:x}));ie(null==re?void 0:re.users.length,_,"internal-error");const De=re.users[0];C._notifyReloadListener(De);const It=null!==(g=De.providerUserInfo)&&void 0!==g&&g.length?yn(De.providerUserInfo):[],Qt=gr(C.providerData,It),Lr=!!C.isAnonymous&&!(C.email&&De.passwordHash||null!=Qt&&Qt.length),kr={uid:De.localId,displayName:De.displayName||null,photoURL:De.photoUrl||null,email:De.email||null,emailVerified:De.emailVerified||!1,phoneNumber:De.phoneNumber||null,tenantId:De.tenantId||null,providerData:Qt,metadata:new vi(De.createdAt,De.lastLoginAt),isAnonymous:Lr};Object.assign(C,kr)})).apply(this,arguments)}function er(){return(er=(0,c.Z)(function*(C){const g=(0,W.m9)(C);yield Ir(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function gr(C,g){return[...C.filter(x=>!g.some(re=>re.providerId===x.providerId)),...g]}function yn(C){return C.map(g=>{var{providerId:_}=g,x=(0,He._T)(g,["providerId"]);return{providerId:_,uid:x.rawId||"",displayName:x.displayName||null,email:x.email||null,phoneNumber:x.phoneNumber||null,photoURL:x.photoUrl||null}})}function Sn(){return(Sn=(0,c.Z)(function*(C,g){const _=yield An(C,{},(0,c.Z)(function*(){const x=(0,W.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:re,apiKey:De}=C.config,It=rn(C,re,"/v1/token",`key=${De}`),Qt=yield C._getAdditionalHeaders();return Qt["Content-Type"]="application/x-www-form-urlencoded",Me.fetch()(It,{method:"POST",headers:Qt,body:x})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class nr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){ie(g.idToken,"internal-error"),ie(typeof g.idToken<"u","internal-error"),ie(typeof g.refreshToken<"u","internal-error");const _="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function Jr(C){const g=Zn(C);return ie(g,"internal-error"),ie(typeof g.exp<"u","internal-error"),ie(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var x=this;return(0,c.Z)(function*(){return ie(!x.accessToken||x.refreshToken,g,"user-token-expired"),_||!x.accessToken||x.isExpired?x.refreshToken?(yield x.refresh(g,x.refreshToken),x.accessToken):null:x.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var x=this;return(0,c.Z)(function*(){const{accessToken:re,refreshToken:De,expiresIn:It}=yield function zt(C,g){return Sn.apply(this,arguments)}(g,_);x.updateTokensAndExpiration(re,De,Number(It))})()}updateTokensAndExpiration(g,_,x){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*x}static fromJSON(g,_){const{refreshToken:x,accessToken:re,expirationTime:De}=_,It=new nr;return x&&(ie("string"==typeof x,"internal-error",{appName:g}),It.refreshToken=x),re&&(ie("string"==typeof re,"internal-error",{appName:g}),It.accessToken=re),De&&(ie("number"==typeof De,"internal-error",{appName:g}),It.expirationTime=De),It}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new nr,this.toJSON())}_performRefresh(){return ut("not implemented")}}function Xn(C,g){ie("string"==typeof C||typeof C>"u","internal-error",{appName:g})}class hr{constructor(g){var{uid:_,auth:x,stsTokenManager:re}=g,De=(0,He._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=x,this.stsTokenManager=re,this.accessToken=re.accessToken,this.displayName=De.displayName||null,this.email=De.email||null,this.emailVerified=De.emailVerified||!1,this.phoneNumber=De.phoneNumber||null,this.photoURL=De.photoURL||null,this.isAnonymous=De.isAnonymous||!1,this.tenantId=De.tenantId||null,this.providerData=De.providerData?[...De.providerData]:[],this.metadata=new vi(De.createdAt||void 0,De.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,c.Z)(function*(){const x=yield Pr(_,_.stsTokenManager.getToken(_.auth,g));return ie(x,_.auth,"internal-error"),_.accessToken!==x&&(_.accessToken=x,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),x})()}getIdTokenResult(g){return function rr(C){return tr.apply(this,arguments)}(this,g)}reload(){return function ar(C){return er.apply(this,arguments)}(this)}_assign(g){this!==g&&(ie(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new hr(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var x=this;return(0,c.Z)(function*(){let re=!1;g.idToken&&g.idToken!==x.stsTokenManager.accessToken&&(x.stsTokenManager.updateFromServerResponse(g),re=!0),_&&(yield Ir(x)),yield x.auth._persistUserIfCurrent(x),re&&x.auth._notifyListenersIfCurrent(x)})()}delete(){var g=this;return(0,c.Z)(function*(){const _=yield g.getIdToken();return yield Pr(g,function Or(C,g){return Yt.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var x,re,De,It,Qt,Bn,cr,Lr;const kr=null!==(x=_.displayName)&&void 0!==x?x:void 0,Vi=null!==(re=_.email)&&void 0!==re?re:void 0,bl=null!==(De=_.phoneNumber)&&void 0!==De?De:void 0,hc=null!==(It=_.photoURL)&&void 0!==It?It:void 0,Oh=null!==(Qt=_.tenantId)&&void 0!==Qt?Qt:void 0,ra=null!==(Bn=_._redirectEventId)&&void 0!==Bn?Bn:void 0,nl=null!==(cr=_.createdAt)&&void 0!==cr?cr:void 0,Ph=null!==(Lr=_.lastLoginAt)&&void 0!==Lr?Lr:void 0,{uid:Of,emailVerified:Pf,isAnonymous:ia,providerData:kh,stsTokenManager:kf}=_;ie(Of&&kf,g,"internal-error");const Cl=nr.fromJSON(this.name,kf);ie("string"==typeof Of,g,"internal-error"),Xn(kr,g.name),Xn(Vi,g.name),ie("boolean"==typeof Pf,g,"internal-error"),ie("boolean"==typeof ia,g,"internal-error"),Xn(bl,g.name),Xn(hc,g.name),Xn(Oh,g.name),Xn(ra,g.name),Xn(nl,g.name),Xn(Ph,g.name);const Nh=new hr({uid:Of,auth:g,email:Vi,emailVerified:Pf,displayName:kr,isAnonymous:ia,photoURL:hc,phoneNumber:bl,tenantId:Oh,stsTokenManager:Cl,createdAt:nl,lastLoginAt:Ph});return kh&&Array.isArray(kh)&&(Nh.providerData=kh.map(Zc=>Object.assign({},Zc))),ra&&(Nh._redirectEventId=ra),Nh}static _fromIdTokenResponse(g,_,x=!1){return(0,c.Z)(function*(){const re=new nr;re.updateFromServerResponse(_);const De=new hr({uid:_.localId,auth:g,stsTokenManager:re,isAnonymous:x});return yield Ir(De),De})()}}const Ze=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(_,x){var re=this;return(0,c.Z)(function*(){re.storage[_]=x})()}_get(_){var x=this;return(0,c.Z)(function*(){const re=x.storage[_];return void 0===re?null:re})()}_remove(_){var x=this;return(0,c.Z)(function*(){delete x.storage[_]})()}_addListener(_,x){}_removeListener(_,x){}}return C.type="NONE",C})();function ht(C,g,_){return`firebase:${C}:${g}:${_}`}class Pt{constructor(g,_,x){this.persistence=g,this.auth=_,this.userKey=x;const{config:re,name:De}=this.auth;this.fullUserKey=ht(this.userKey,re.apiKey,De),this.fullPersistenceKey=ht("persistence",re.apiKey,De),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,c.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?hr._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,c.Z)(function*(){if(_.persistence===g)return;const x=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,x?_.setCurrentUser(x):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,x="authUser"){return(0,c.Z)(function*(){if(!_.length)return new Pt(ke(Ze),g,x);const re=(yield Promise.all(_.map(function(){var cr=(0,c.Z)(function*(Lr){if(yield Lr._isAvailable())return Lr});return function(Lr){return cr.apply(this,arguments)}}()))).filter(cr=>cr);let De=re[0]||ke(Ze);const It=ht(x,g.config.apiKey,g.name);let Qt=null;for(const cr of _)try{const Lr=yield cr._get(It);if(Lr){const kr=hr._fromJSON(g,Lr);cr!==De&&(Qt=kr),De=cr;break}}catch(Lr){}const Bn=re.filter(cr=>cr._shouldAllowMigration);return De._shouldAllowMigration&&Bn.length?(De=Bn[0],Qt&&(yield De._set(It,Qt.toJSON())),yield Promise.all(_.map(function(){var cr=(0,c.Z)(function*(Lr){if(Lr!==De)try{yield Lr._remove(It)}catch(kr){}});return function(Lr){return cr.apply(this,arguments)}}())),new Pt(De,g,x)):new Pt(De,g,x)})()}}function Mt(C){const g=C.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(ur(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(Vn(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Tt(g))return"Blackberry";if(it(g))return"Webos";if(Qn(g))return"Safari";if((g.includes("chrome/")||br(g))&&!g.includes("edge/"))return"Chrome";if($r(g))return"Android";{const x=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==x?void 0:x.length))return x[1]}return"Other"}function Vn(C=(0,W.z$)()){return/firefox\//i.test(C)}function Qn(C=(0,W.z$)()){const g=C.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function br(C=(0,W.z$)()){return/crios\//i.test(C)}function ur(C=(0,W.z$)()){return/iemobile/i.test(C)}function $r(C=(0,W.z$)()){return/android/i.test(C)}function Tt(C=(0,W.z$)()){return/blackberry/i.test(C)}function it(C=(0,W.z$)()){return/webos/i.test(C)}function Z(C=(0,W.z$)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function Lt(C=(0,W.z$)()){return Z(C)||$r(C)||it(C)||Tt(C)||/windows phone/i.test(C)||ur(C)}function tn(C,g=[]){let _;switch(C){case"Browser":_=Mt((0,W.z$)());break;case"Worker":_=`${Mt((0,W.z$)())}-${C}`;break;default:_=C}const x=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${Ue.SDK_VERSION}/${x}`}class Cn{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,_){const x=De=>new Promise((It,Qt)=>{try{It(g(De))}catch(Bn){Qt(Bn)}});x.onAbort=_,this.queue.push(x);const re=this.queue.length-1;return()=>{this.queue[re]=()=>Promise.resolve()}}runMiddleware(g){var _=this;return(0,c.Z)(function*(){if(_.auth.currentUser===g)return;const x=[];try{for(const re of _.queue)yield re(g),re.onAbort&&x.push(re.onAbort)}catch(re){x.reverse();for(const De of x)try{De()}catch(It){}throw _.auth._errorFactory.create("login-blocked",{originalMessage:null==re?void 0:re.message})}})()}}class hn{constructor(g,_,x){this.app=g,this.heartbeatServiceProvider=_,this.config=x,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dr(this),this.idTokenSubscription=new Dr(this),this.beforeStateQueue=new Cn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=at,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=x.sdkClientVersion}_initializeWithPersistence(g,_){var x=this;return _&&(this._popupRedirectResolver=ke(_)),this._initializationPromise=this.queue((0,c.Z)(function*(){var re,De;if(!x._deleted&&(x.persistenceManager=yield Pt.create(x,g),!x._deleted)){if(null!==(re=x._popupRedirectResolver)&&void 0!==re&&re._shouldInitProactively)try{yield x._popupRedirectResolver._initialize(x)}catch(It){}yield x.initializeCurrentUser(_),x.lastNotifiedUid=(null===(De=x.currentUser)||void 0===De?void 0:De.uid)||null,!x._deleted&&(x._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,c.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_,!0)}})()}initializeCurrentUser(g){var _=this;return(0,c.Z)(function*(){var x;const re=yield _.assertedPersistence.getCurrentUser();let De=re,It=!1;if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const Qt=null===(x=_.redirectUser)||void 0===x?void 0:x._redirectEventId,Bn=null==De?void 0:De._redirectEventId,cr=yield _.tryRedirectSignIn(g);(!Qt||Qt===Bn)&&(null==cr?void 0:cr.user)&&(De=cr.user,It=!0)}if(!De)return _.directlySetCurrentUser(null);if(!De._redirectEventId){if(It)try{yield _.beforeStateQueue.runMiddleware(De)}catch(Qt){De=re,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(Qt))}return De?_.reloadAndSetCurrentUserOrClear(De):_.directlySetCurrentUser(null)}return ie(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===De._redirectEventId?_.directlySetCurrentUser(De):_.reloadAndSetCurrentUserOrClear(De)})()}tryRedirectSignIn(g){var _=this;return(0,c.Z)(function*(){let x=null;try{x=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch(re){yield _._setRedirectUser(null)}return x})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,c.Z)(function*(){try{yield Ir(g)}catch(x){if("auth/network-request-failed"!==(null==x?void 0:x.code))return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function K(){if(typeof navigator>"u")return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var g=this;return(0,c.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,c.Z)(function*(){const x=g?(0,W.m9)(g):null;return x&&ie(x.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(x&&x._clone(_))})()}_updateCurrentUser(g,_=!1){var x=this;return(0,c.Z)(function*(){if(!x._deleted)return g&&ie(x.tenantId===g.tenantId,x,"tenant-id-mismatch"),_||(yield x.beforeStateQueue.runMiddleware(g)),x.queue((0,c.Z)(function*(){yield x.directlySetCurrentUser(g),x.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,c.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var _=this;return this.queue((0,c.Z)(function*(){yield _.assertedPersistence.setPersistence(ke(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new W.LL("auth","Firebase",g())}onAuthStateChanged(g,_,x){return this.registerStateListener(this.authStateSubscription,g,_,x)}beforeAuthStateChanged(g,_){return this.beforeStateQueue.pushCallback(g,_)}onIdTokenChanged(g,_,x){return this.registerStateListener(this.idTokenSubscription,g,_,x)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var x=this;return(0,c.Z)(function*(){const re=yield x.getOrInitRedirectPersistenceManager(_);return null===g?re.removeCurrentUser():re.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,c.Z)(function*(){if(!_.redirectPersistenceManager){const x=g&&ke(g)||_._popupRedirectResolver;ie(x,_,"argument-error"),_.redirectPersistenceManager=yield Pt.create(_,[ke(x._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,c.Z)(function*(){var x,re;return _._isInitialized&&(yield _.queue((0,c.Z)(function*(){}))),(null===(x=_._currentUser)||void 0===x?void 0:x._redirectEventId)===g?_._currentUser:(null===(re=_.redirectUser)||void 0===re?void 0:re._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,c.Z)(function*(){if(g===_.currentUser)return _.queue((0,c.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const x=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==x&&(this.lastNotifiedUid=x,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,x,re){if(this._deleted)return()=>{};const De="function"==typeof _?_:_.next.bind(_),It=this._isInitialized?Promise.resolve():this._initializationPromise;return ie(It,this,"internal-error"),It.then(()=>De(this.currentUser)),"function"==typeof _?g.addObserver(_,x,re):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,c.Z)(function*(){_.currentUser&&_.currentUser!==g&&_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh(),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=tn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,c.Z)(function*(){var _;const x={"X-Client-Version":g.clientVersion};g.app.options.appId&&(x["X-Firebase-gmpid"]=g.app.options.appId);const re=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return re&&(x["X-Firebase-Client"]=re),x})()}}function Rn(C){return(0,W.m9)(C)}class Dr{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,W.ne)(_=>this.observer=_)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function di(C){const g=C.indexOf(":");return g<0?"":C.substr(0,g+1)}function Er(C){if(!C)return null;const g=Number(C);return isNaN(g)?null:g}class Si{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return ut("not implemented")}_getIdTokenResponse(g){return ut("not implemented")}_linkToIdToken(g,_){return ut("not implemented")}_getReauthenticationResolver(g){return ut("not implemented")}}function pr(C,g){return hi.apply(this,arguments)}function hi(){return(hi=(0,c.Z)(function*(C,g){return Bt(C,"POST","/v1/accounts:resetPassword",Ot(C,g))})).apply(this,arguments)}function Dn(C,g){return ir.apply(this,arguments)}function ir(){return(ir=(0,c.Z)(function*(C,g){return Bt(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Tr(C,g){return mi.apply(this,arguments)}function mi(){return(mi=(0,c.Z)(function*(C,g){return Bt(C,"POST","/v1/accounts:update",Ot(C,g))})).apply(this,arguments)}function Ie(){return(Ie=(0,c.Z)(function*(C,g){return Pn(C,"POST","/v1/accounts:signInWithPassword",Ot(C,g))})).apply(this,arguments)}function ct(C,g){return N.apply(this,arguments)}function N(){return(N=(0,c.Z)(function*(C,g){return Bt(C,"POST","/v1/accounts:sendOobCode",Ot(C,g))})).apply(this,arguments)}function J(C,g){return me.apply(this,arguments)}function me(){return(me=(0,c.Z)(function*(C,g){return ct(C,g)})).apply(this,arguments)}function ae(C,g){return Je.apply(this,arguments)}function Je(){return(Je=(0,c.Z)(function*(C,g){return ct(C,g)})).apply(this,arguments)}function ue(C,g){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,c.Z)(function*(C,g){return ct(C,g)})).apply(this,arguments)}function We(C,g){return dt.apply(this,arguments)}function dt(){return(dt=(0,c.Z)(function*(C,g){return ct(C,g)})).apply(this,arguments)}function Kt(){return(Kt=(0,c.Z)(function*(C,g){return Pn(C,"POST","/v1/accounts:signInWithEmailLink",Ot(C,g))})).apply(this,arguments)}function mn(){return(mn=(0,c.Z)(function*(C,g){return Pn(C,"POST","/v1/accounts:signInWithEmailLink",Ot(C,g))})).apply(this,arguments)}class vr extends Si{constructor(g,_,x,re=null){super("password",x),this._email=g,this._password=_,this._tenantId=re}static _fromEmailAndPassword(g,_){return new vr(g,_,"password")}static _fromEmailAndCode(g,_,x=null){return new vr(g,_,"emailLink",x)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,c.Z)(function*(){switch(_.signInMethod){case"password":return function Li(C,g){return Ie.apply(this,arguments)}(g,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function bt(C,g){return Kt.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:Ve(g,"internal-error")}})()}_linkToIdToken(g,_){var x=this;return(0,c.Z)(function*(){switch(x.signInMethod){case"password":return Dn(g,{idToken:_,returnSecureToken:!0,email:x._email,password:x._password});case"emailLink":return function sn(C,g){return mn.apply(this,arguments)}(g,{idToken:_,email:x._email,oobCode:x._password});default:Ve(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function kn(C,g){return yt.apply(this,arguments)}function yt(){return(yt=(0,c.Z)(function*(C,g){return Pn(C,"POST","/v1/accounts:signInWithIdp",Ot(C,g))})).apply(this,arguments)}class St extends Si{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new St(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):Ve("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:x,signInMethod:re}=_,De=(0,He._T)(_,["providerId","signInMethod"]);if(!x||!re)return null;const It=new St(x,re);return It.idToken=De.idToken||void 0,It.accessToken=De.accessToken||void 0,It.secret=De.secret,It.nonce=De.nonce,It.pendingToken=De.pendingToken||null,It}_getIdTokenResponse(g){return kn(g,this.buildRequest())}_linkToIdToken(g,_){const x=this.buildRequest();return x.idToken=_,kn(g,x)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,kn(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,W.xO)(_)}return g}}function Xt(C,g){return un.apply(this,arguments)}function un(){return(un=(0,c.Z)(function*(C,g){return Bt(C,"POST","/v1/accounts:sendVerificationCode",Ot(C,g))})).apply(this,arguments)}function xn(){return(xn=(0,c.Z)(function*(C,g){return Pn(C,"POST","/v1/accounts:signInWithPhoneNumber",Ot(C,g))})).apply(this,arguments)}function Un(){return(Un=(0,c.Z)(function*(C,g){const _=yield Pn(C,"POST","/v1/accounts:signInWithPhoneNumber",Ot(C,g));if(_.temporaryProof)throw zn(C,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const ai={USER_NOT_FOUND:"user-not-found"};function ki(){return(ki=(0,c.Z)(function*(C,g){return Pn(C,"POST","/v1/accounts:signInWithPhoneNumber",Ot(C,Object.assign(Object.assign({},g),{operation:"REAUTH"})),ai)})).apply(this,arguments)}class ws extends Si{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new ws({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new ws({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function sr(C,g){return xn.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function Kn(C,g){return Un.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function xr(C,g){return ki.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:x,verificationCode:re}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:x,code:re}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:x,phoneNumber:re,temporaryProof:De}=g;return x||_||re||De?new ws({verificationId:_,verificationCode:x,phoneNumber:re,temporaryProof:De}):null}}class yi{constructor(g){var _,x,re,De,It,Qt;const Bn=(0,W.zd)((0,W.pd)(g)),cr=null!==(_=Bn.apiKey)&&void 0!==_?_:null,Lr=null!==(x=Bn.oobCode)&&void 0!==x?x:null,kr=function Zi(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(re=Bn.mode)&&void 0!==re?re:null);ie(cr&&Lr&&kr,"argument-error"),this.apiKey=cr,this.operation=kr,this.code=Lr,this.continueUrl=null!==(De=Bn.continueUrl)&&void 0!==De?De:null,this.languageCode=null!==(It=Bn.languageCode)&&void 0!==It?It:null,this.tenantId=null!==(Qt=Bn.tenantId)&&void 0!==Qt?Qt:null}static parseLink(g){const _=function Ai(C){const g=(0,W.zd)((0,W.pd)(C)).link,_=g?(0,W.zd)((0,W.pd)(g)).deep_link_id:null,x=(0,W.zd)((0,W.pd)(C)).deep_link_id;return(x?(0,W.zd)((0,W.pd)(x)).link:null)||x||_||g||C}(g);try{return new yi(_)}catch(x){return null}}}let Hi=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(_,x){return vr._fromEmailAndPassword(_,x)}static credentialWithLink(_,x){const re=yi.parseLink(x);return ie(re,"argument-error"),vr._fromEmailAndCode(_,re.code,re.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class Gi{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Ss extends Gi{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Ni extends Ss{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return ie("providerId"in _&&"signInMethod"in _,"argument-error"),St._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return ie(g.idToken||g.accessToken,"argument-error"),St._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Ni.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Ni.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:x,oauthTokenSecret:re,pendingToken:De,nonce:It,providerId:Qt}=g;if(!x&&!re&&!_&&!De||!Qt)return null;try{return new Ni(Qt)._credential({idToken:_,accessToken:x,nonce:It,pendingToken:De})}catch(Bn){return null}}}let ho=(()=>{class C extends Ss{constructor(){super("facebook.com")}static credential(_){return St._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return C.credential(_.oauthAccessToken)}catch(x){return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),Vs=(()=>{class C extends Ss{constructor(){super("google.com"),this.addScope("profile")}static credential(_,x){return St._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:x})}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:x,oauthAccessToken:re}=_;if(!x&&!re)return null;try{return C.credential(x,re)}catch(De){return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),Is=(()=>{class C extends Ss{constructor(){super("github.com")}static credential(_){return St._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return C.credential(_.oauthAccessToken)}catch(x){return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class rs extends Si{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return kn(g,this.buildRequest())}_linkToIdToken(g,_){const x=this.buildRequest();return x.idToken=_,kn(g,x)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,kn(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:x,signInMethod:re,pendingToken:De}=_;return x&&re&&De&&x===re?new rs(x,De):null}static _create(g,_){return new rs(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class zi extends Gi{constructor(g){ie(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return zi.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return zi.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=rs.fromJSON(g);return ie(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:x}=g;if(!_||!x)return null;try{return rs._create(x,_)}catch(re){return null}}}let fo=(()=>{class C extends Ss{constructor(){super("twitter.com")}static credential(_,x){return St._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:x})}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:x,oauthTokenSecret:re}=_;if(!x||!re)return null;try{return C.credential(x,re)}catch(De){return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function Po(C,g){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,c.Z)(function*(C,g){return Pn(C,"POST","/v1/accounts:signUp",Ot(C,g))})).apply(this,arguments)}class Ri{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,x,re=!1){return(0,c.Z)(function*(){const De=yield hr._fromIdTokenResponse(g,x,re),It=Us(x);return new Ri({user:De,providerId:It,_tokenResponse:x,operationType:_})})()}static _forOperation(g,_,x){return(0,c.Z)(function*(){yield g._updateTokensIfNecessary(x,!0);const re=Us(x);return new Ri({user:g,providerId:re,_tokenResponse:x,operationType:_})})()}}function Us(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function ds(){return(ds=(0,c.Z)(function*(C){var g;const _=Rn(C);if(yield _._initializationPromise,null!==(g=_.currentUser)&&void 0!==g&&g.isAnonymous)return new Ri({user:_.currentUser,providerId:null,operationType:"signIn"});const x=yield Po(_,{returnSecureToken:!0}),re=yield Ri._fromIdTokenResponse(_,"signIn",x,!0);return yield _._updateCurrentUser(re.user),re})).apply(this,arguments)}class Ar extends W.ZR{constructor(g,_,x,re){var De;super(_.code,_.message),this.operationType=x,this.user=re,Object.setPrototypeOf(this,Ar.prototype),this.customData={appName:g.name,tenantId:null!==(De=g.tenantId)&&void 0!==De?De:void 0,_serverResponse:_.customData._serverResponse,operationType:x}}static _fromErrorAndOperation(g,_,x,re){return new Ar(g,_,x,re)}}function bi(C,g,_,x){return("reauthenticate"===g?_._getReauthenticationResolver(C):_._getIdTokenResponse(C)).catch(De=>{throw"auth/multi-factor-auth-required"===De.code?Ar._fromErrorAndOperation(C,De,g,x):De})}function Wi(C){return new Set(C.map(({providerId:g})=>g).filter(g=>!!g))}function Oi(){return(Oi=(0,c.Z)(function*(C,g){const _=(0,W.m9)(C);yield Ys(!0,_,g);const{providerUserInfo:x}=yield wn(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),re=Wi(x||[]);return _.providerData=_.providerData.filter(De=>re.has(De.providerId)),re.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function qs(C,g){return $i.apply(this,arguments)}function $i(){return($i=(0,c.Z)(function*(C,g,_=!1){const x=yield Pr(C,g._linkToIdToken(C.auth,yield C.getIdToken()),_);return Ri._forOperation(C,"link",x)})).apply(this,arguments)}function Ys(C,g,_){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,c.Z)(function*(C,g,_){yield Ir(g);const re=!1===C?"provider-already-linked":"no-such-provider";ie(Wi(g.providerData).has(_)===C,g.auth,re)})).apply(this,arguments)}function la(C,g){return ko.apply(this,arguments)}function ko(){return(ko=(0,c.Z)(function*(C,g,_=!1){const{auth:x}=C,re="reauthenticate";try{const De=yield Pr(C,bi(x,re,g,C),_);ie(De.idToken,x,"internal-error");const It=Zn(De.idToken);ie(It,x,"internal-error");const{sub:Qt}=It;return ie(C.uid===Qt,x,"user-mismatch"),Ri._forOperation(C,re,De)}catch(De){throw"auth/user-not-found"===(null==De?void 0:De.code)&&Ve(x,"user-mismatch"),De}})).apply(this,arguments)}function po(C,g){return As.apply(this,arguments)}function As(){return(As=(0,c.Z)(function*(C,g,_=!1){const x="signIn",re=yield bi(C,x,g),De=yield Ri._fromIdTokenResponse(C,x,re);return _||(yield C._updateCurrentUser(De.user)),De})).apply(this,arguments)}function xi(C,g){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,c.Z)(function*(C,g){return po(Rn(C),g)})).apply(this,arguments)}function go(C,g){return hs.apply(this,arguments)}function hs(){return(hs=(0,c.Z)(function*(C,g){const _=(0,W.m9)(C);return yield Ys(!1,_,g.providerId),qs(_,g)})).apply(this,arguments)}function Do(C,g){return bs.apply(this,arguments)}function bs(){return(bs=(0,c.Z)(function*(C,g){return la((0,W.m9)(C),g)})).apply(this,arguments)}function al(C,g){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,c.Z)(function*(C,g){return Pn(C,"POST","/v1/accounts:signInWithCustomToken",Ot(C,g))})).apply(this,arguments)}function _i(){return(_i=(0,c.Z)(function*(C,g){const _=Rn(C),x=yield al(_,{token:g,returnSecureToken:!0}),re=yield Ri._fromIdTokenResponse(_,"signIn",x);return yield _._updateCurrentUser(re.user),re})).apply(this,arguments)}class js{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?Qi._fromServerResponse(g,_):Ve(g,"internal-error")}}class Qi extends js{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new Qi(_)}}function I(C,g,_){var x;ie((null===(x=_.url)||void 0===x?void 0:x.length)>0,C,"invalid-continue-uri"),ie(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(ie(_.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(ie(_.android.packageName.length>0,C,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function w(){return(w=(0,c.Z)(function*(C,g,_){const x=(0,W.m9)(C),re={requestType:"PASSWORD_RESET",email:g};_&&I(x,re,_),yield ae(x,re)})).apply(this,arguments)}function Re(){return(Re=(0,c.Z)(function*(C,g,_){yield pr((0,W.m9)(C),{oobCode:g,newPassword:_})})).apply(this,arguments)}function j(){return(j=(0,c.Z)(function*(C,g){yield Tr((0,W.m9)(C),{oobCode:g})})).apply(this,arguments)}function F(C,g){return P.apply(this,arguments)}function P(){return(P=(0,c.Z)(function*(C,g){const _=(0,W.m9)(C),x=yield pr(_,{oobCode:g}),re=x.requestType;switch(ie(re,_,"internal-error"),re){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ie(x.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ie(x.mfaInfo,_,"internal-error");default:ie(x.email,_,"internal-error")}let De=null;return x.mfaInfo&&(De=js._fromServerResponse(Rn(_),x.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.newEmail:x.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.email:x.newEmail)||null,multiFactorInfo:De},operation:re}})).apply(this,arguments)}function mt(){return(mt=(0,c.Z)(function*(C,g){const{data:_}=yield F((0,W.m9)(C),g);return _.email})).apply(this,arguments)}function Zr(){return(Zr=(0,c.Z)(function*(C,g,_){const x=Rn(C),re=yield Po(x,{returnSecureToken:!0,email:g,password:_}),De=yield Ri._fromIdTokenResponse(x,"signIn",re);return yield x._updateCurrentUser(De.user),De})).apply(this,arguments)}function Rs(){return(Rs=(0,c.Z)(function*(C,g,_){const x=(0,W.m9)(C),re={requestType:"EMAIL_SIGNIN",email:g};ie(_.handleCodeInApp,x,"argument-error"),_&&I(x,re,_),yield ue(x,re)})).apply(this,arguments)}function mo(){return(mo=(0,c.Z)(function*(C,g,_){const x=(0,W.m9)(C),re=Hi.credentialWithLink(g,_||Rt());return ie(re._tenantId===(x.tenantId||null),x,"tenant-id-mismatch"),xi(x,re)})).apply(this,arguments)}function on(C,g){return li.apply(this,arguments)}function li(){return(li=(0,c.Z)(function*(C,g){return Bt(C,"POST","/v1/accounts:createAuthUri",Ot(C,g))})).apply(this,arguments)}function ca(){return(ca=(0,c.Z)(function*(C,g){const x={identifier:g,continueUri:qt()?Rt():"http://localhost"},{signinMethods:re}=yield on((0,W.m9)(C),x);return re||[]})).apply(this,arguments)}function yo(){return(yo=(0,c.Z)(function*(C,g){const _=(0,W.m9)(C),re={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};g&&I(_.auth,re,g);const{email:De}=yield J(_.auth,re);De!==C.email&&(yield C.reload())})).apply(this,arguments)}function Cs(){return(Cs=(0,c.Z)(function*(C,g,_){const x=(0,W.m9)(C),De={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:g};_&&I(x.auth,De,_);const{email:It}=yield We(x.auth,De);It!==C.email&&(yield C.reload())})).apply(this,arguments)}function da(C,g){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,c.Z)(function*(C,g){return Bt(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Go(){return(Go=(0,c.Z)(function*(C,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const x=(0,W.m9)(C),De={idToken:yield x.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},It=yield Pr(x,da(x.auth,De));x.displayName=It.displayName||null,x.photoURL=It.photoUrl||null;const Qt=x.providerData.find(({providerId:Bn})=>"password"===Bn);Qt&&(Qt.displayName=x.displayName,Qt.photoURL=x.photoURL),yield x._updateTokensIfNecessary(It)})).apply(this,arguments)}function es(C,g,_){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,c.Z)(function*(C,g,_){const{auth:x}=C,De={idToken:yield C.getIdToken(),returnSecureToken:!0};g&&(De.email=g),_&&(De.password=_);const It=yield Pr(C,Dn(x,De));yield C._updateTokensIfNecessary(It,!0)})).apply(this,arguments)}class Os{constructor(g,_,x={}){this.isNewUser=g,this.providerId=_,this.profile=x}}class _o extends Os{constructor(g,_,x,re){super(g,_,x),this.username=re}}class ul extends Os{constructor(g,_){super(g,"facebook.com",_)}}class Va extends _o{constructor(g,_){super(g,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class Sl extends Os{constructor(g,_){super(g,"google.com",_)}}class Ua extends _o{constructor(g,_,x){super(g,"twitter.com",_,x)}}function ha(C){const{user:g,_tokenResponse:_}=C;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Da(C){var g,_;if(!C)return null;const{providerId:x}=C,re=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},De=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!x&&(null==C?void 0:C.idToken)){const It=null===(_=null===(g=Zn(C.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(It)return new Os(De,"anonymous"!==It&&"custom"!==It?It:null)}if(!x)return null;switch(x){case"facebook.com":return new ul(De,re);case"github.com":return new Va(De,re);case"google.com":return new Sl(De,re);case"twitter.com":return new Ua(De,re,C.screenName||null);case"custom":case"anonymous":return new Os(De,null);default:return new Os(De,x,re)}}(_)}class Gs{constructor(g,_,x){this.type=g,this.credential=_,this.auth=x}static _fromIdtoken(g,_){return new Gs("enroll",g,_)}static _fromMfaPendingCredential(g){return new Gs("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,x;if(null!=g&&g.multiFactorSession){if(null!==(_=g.multiFactorSession)&&void 0!==_&&_.pendingCredential)return Gs._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(x=g.multiFactorSession)&&void 0!==x&&x.idToken)return Gs._fromIdtoken(g.multiFactorSession.idToken)}return null}}class ja{constructor(g,_,x){this.session=g,this.hints=_,this.signInResolver=x}static _fromError(g,_){const x=Rn(g),re=_.customData._serverResponse,De=(re.mfaInfo||[]).map(Qt=>js._fromServerResponse(x,Qt));ie(re.mfaPendingCredential,x,"internal-error");const It=Gs._fromMfaPendingCredential(re.mfaPendingCredential);return new ja(It,De,function(){var Qt=(0,c.Z)(function*(Bn){const cr=yield Bn._process(x,It);delete re.mfaInfo,delete re.mfaPendingCredential;const Lr=Object.assign(Object.assign({},re),{idToken:cr.idToken,refreshToken:cr.refreshToken});switch(_.operationType){case"signIn":const kr=yield Ri._fromIdTokenResponse(x,_.operationType,Lr);return yield x._updateCurrentUser(kr.user),kr;case"reauthenticate":return ie(_.user,x,"internal-error"),Ri._forOperation(_.user,_.operationType,Lr);default:Ve(x,"internal-error")}});return function(Bn){return Qt.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,c.Z)(function*(){return _.signInResolver(g)})()}}function L(C,g){return Bt(C,"POST","/v2/accounts/mfaEnrollment:start",Ot(C,g))}class ce{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(x=>js._fromServerResponse(g.auth,x)))})}static _fromUser(g){return new ce(g)}getSession(){var g=this;return(0,c.Z)(function*(){return Gs._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,_){var x=this;return(0,c.Z)(function*(){const re=g,De=yield x.getSession(),It=yield Pr(x.user,re._process(x.user.auth,De,_));return yield x.user._updateTokensIfNecessary(It),x.user.reload()})()}unenroll(g){var _=this;return(0,c.Z)(function*(){const x="string"==typeof g?g:g.uid,re=yield _.user.getIdToken(),De=yield Pr(_.user,function U(C,g){return Bt(C,"POST","/v2/accounts/mfaEnrollment:withdraw",Ot(C,g))}(_.user.auth,{idToken:re,mfaEnrollmentId:x}));_.enrolledFactors=_.enrolledFactors.filter(({uid:It})=>It!==x),yield _.user._updateTokensIfNecessary(De);try{yield _.user.reload()}catch(It){if("auth/user-token-expired"!==(null==It?void 0:It.code))throw It}})()}}const nt=new WeakMap,Zt="__sak";class qn{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Zt,"1"),this.storage.removeItem(Zt),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const ri=(()=>{class C extends qn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,x)=>this.onStorageEvent(_,x),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function fi(){const C=(0,W.z$)();return Qn(C)||Z(C)}()&&function en(){try{return!(!window||window===window.top)}catch(C){return!1}}(),this.fallbackToPolling=Lt(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const x of Object.keys(this.listeners)){const re=this.storage.getItem(x),De=this.localCache[x];re!==De&&_(x,De,re)}}onStorageEvent(_,x=!1){if(!_.key)return void this.forAllChangedKeys((Qt,Bn,cr)=>{this.notifyListeners(Qt,cr)});const re=_.key;if(x?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Qt=this.storage.getItem(re);if(_.newValue!==Qt)null!==_.newValue?this.storage.setItem(re,_.newValue):this.storage.removeItem(re);else if(this.localCache[re]===_.newValue&&!x)return}const De=()=>{const Qt=this.storage.getItem(re);!x&&this.localCache[re]===Qt||this.notifyListeners(re,Qt)},It=this.storage.getItem(re);!function pt(){return(0,W.w1)()&&10===document.documentMode}()||It===_.newValue||_.newValue===_.oldValue?De():setTimeout(De,10)}notifyListeners(_,x){this.localCache[_]=x;const re=this.listeners[_];if(re)for(const De of Array.from(re))De(x&&JSON.parse(x))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,x,re)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:x,newValue:re}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,x){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(x)}_removeListener(_,x){this.listeners[_]&&(this.listeners[_].delete(x),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,x){var re=()=>super._set,De=this;return(0,c.Z)(function*(){yield re().call(De,_,x),De.localCache[_]=JSON.stringify(x)})()}_get(_){var x=()=>super._get,re=this;return(0,c.Z)(function*(){const De=yield x().call(re,_);return re.localCache[_]=JSON.stringify(De),De})()}_remove(_){var x=()=>super._remove,re=this;return(0,c.Z)(function*(){yield x().call(re,_),delete re.localCache[_]})()}}return C.type="LOCAL",C})(),Pi=(()=>{class C extends qn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,x){}_removeListener(_,x){}}return C.type="SESSION",C})();let jr=(()=>{class C{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const x=this.receivers.find(De=>De.isListeningto(_));if(x)return x;const re=new C(_);return this.receivers.push(re),re}isListeningto(_){return this.eventTarget===_}handleEvent(_){var x=this;return(0,c.Z)(function*(){const re=_,{eventId:De,eventType:It,data:Qt}=re.data,Bn=x.handlersMap[It];if(null==Bn||!Bn.size)return;re.ports[0].postMessage({status:"ack",eventId:De,eventType:It});const cr=Array.from(Bn).map(function(){var kr=(0,c.Z)(function*(Vi){return Vi(re.origin,Qt)});return function(Vi){return kr.apply(this,arguments)}}()),Lr=yield function cn(C){return Promise.all(C.map(function(){var g=(0,c.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(x){return{fulfilled:!1,reason:x}}});return function(_){return g.apply(this,arguments)}}()))}(cr);re.ports[0].postMessage({status:"done",eventId:De,eventType:It,response:Lr})})()}_subscribe(_,x){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(x)}_unsubscribe(_,x){this.handlersMap[_]&&x&&this.handlersMap[_].delete(x),(!x||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function qi(C="",g=10){let _="";for(let x=0;x<g;x++)_+=Math.floor(10*Math.random());return C+_}class as{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,x=50){var re=this;return(0,c.Z)(function*(){const De=typeof MessageChannel<"u"?new MessageChannel:null;if(!De)throw new Error("connection_unavailable");let It,Qt;return new Promise((Bn,cr)=>{const Lr=qi("",20);De.port1.start();const kr=setTimeout(()=>{cr(new Error("unsupported_event"))},x);Qt={messageChannel:De,onMessage(Vi){const bl=Vi;if(bl.data.eventId===Lr)switch(bl.data.status){case"ack":clearTimeout(kr),It=setTimeout(()=>{cr(new Error("timeout"))},3e3);break;case"done":clearTimeout(It),Bn(bl.data.response);break;default:clearTimeout(kr),clearTimeout(It),cr(new Error("invalid_response"))}}},re.handlers.add(Qt),De.port1.addEventListener("message",Qt.onMessage),re.target.postMessage({eventType:g,eventId:Lr,data:_},[De.port2])}).finally(()=>{Qt&&re.removeMessageHandler(Qt)})})()}}function Tn(){return window}function Wo(){return typeof Tn().WorkerGlobalScope<"u"&&"function"==typeof Tn().importScripts}function Wt(){return(Wt=(0,c.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch(C){return null}})).apply(this,arguments)}const dl="firebaseLocalStorageDb",No="firebaseLocalStorage",Ha="fbase_key";class Ta{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function hl(C,g){return C.transaction([No],g?"readwrite":"readonly").objectStore(No)}function Bu(){const C=indexedDB.open(dl,1);return new Promise((g,_)=>{C.addEventListener("error",()=>{_(C.error)}),C.addEventListener("upgradeneeded",()=>{const x=C.result;try{x.createObjectStore(No,{keyPath:Ha})}catch(re){_(re)}}),C.addEventListener("success",(0,c.Z)(function*(){const x=C.result;x.objectStoreNames.contains(No)?g(x):(x.close(),yield function Sa(){const C=indexedDB.deleteDatabase(dl);return new Ta(C).toPromise()}(),g(yield Bu()))}))})}function Ko(C,g,_){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,c.Z)(function*(C,g,_){const x=hl(C,!0).put({[Ha]:g,value:_});return new Ta(x).toPromise()})).apply(this,arguments)}function Br(){return(Br=(0,c.Z)(function*(C,g){const _=hl(C,!1).get(g),x=yield new Ta(_).toPromise();return void 0===x?null:x.value})).apply(this,arguments)}function Fo(C,g){const _=hl(C,!0).delete(g);return new Ta(_).toPromise()}const pa=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,c.Z)(function*(){return _.db||(_.db=yield Bu()),_.db})()}_withRetries(_){var x=this;return(0,c.Z)(function*(){let re=0;for(;;)try{const De=yield x._openDb();return yield _(De)}catch(De){if(re++>3)throw De;x.db&&(x.db.close(),x.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,c.Z)(function*(){return Wo()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,c.Z)(function*(){_.receiver=jr._getInstance(function ys(){return Wo()?self:null}()),_.receiver._subscribe("keyChanged",function(){var x=(0,c.Z)(function*(re,De){return{keyProcessed:(yield _._poll()).includes(De.key)}});return function(re,De){return x.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var x=(0,c.Z)(function*(re,De){return["keyChanged"]});return function(re,De){return x.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,c.Z)(function*(){var x,re;if(_.activeServiceWorker=yield function jn(){return Wt.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new as(_.activeServiceWorker);const De=yield _.sender._send("ping",{},800);!De||(null===(x=De[0])||void 0===x?void 0:x.fulfilled)&&(null===(re=De[0])||void 0===re?void 0:re.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var x=this;return(0,c.Z)(function*(){if(x.sender&&x.activeServiceWorker&&function fn(){var C;return(null===(C=null==navigator?void 0:navigator.serviceWorker)||void 0===C?void 0:C.controller)||null}()===x.activeServiceWorker)try{yield x.sender._send("keyChanged",{key:_},x.serviceWorkerReceiverAvailable?800:50)}catch(re){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Bu();return yield Ko(_,Zt,"1"),yield Fo(_,Zt),!0}catch(_){}return!1})()}_withPendingWrite(_){var x=this;return(0,c.Z)(function*(){x.pendingWrites++;try{yield _()}finally{x.pendingWrites--}})()}_set(_,x){var re=this;return(0,c.Z)(function*(){return re._withPendingWrite((0,c.Z)(function*(){return yield re._withRetries(De=>Ko(De,_,x)),re.localCache[_]=x,re.notifyServiceWorker(_)}))})()}_get(_){var x=this;return(0,c.Z)(function*(){const re=yield x._withRetries(De=>function fl(C,g){return Br.apply(this,arguments)}(De,_));return x.localCache[_]=re,re})()}_remove(_){var x=this;return(0,c.Z)(function*(){return x._withPendingWrite((0,c.Z)(function*(){return yield x._withRetries(re=>Fo(re,_)),delete x.localCache[_],x.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,c.Z)(function*(){const x=yield _._withRetries(It=>{const Qt=hl(It,!1).getAll();return new Ta(Qt).toPromise()});if(!x)return[];if(0!==_.pendingWrites)return[];const re=[],De=new Set;for(const{fbase_key:It,value:Qt}of x)De.add(It),JSON.stringify(_.localCache[It])!==JSON.stringify(Qt)&&(_.notifyListeners(It,Qt),re.push(It));for(const It of Object.keys(_.localCache))_.localCache[It]&&!De.has(It)&&(_.notifyListeners(It,null),re.push(It));return re})()}notifyListeners(_,x){this.localCache[_]=x;const re=this.listeners[_];if(re)for(const De of Array.from(re))De(x)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,x){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(x)}_removeListener(_,x){this.listeners[_]&&(this.listeners[_].delete(x),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function ei(C,g){return Bt(C,"POST","/v2/accounts/mfaSignIn:start",Ot(C,g))}function $n(){return($n=(0,c.Z)(function*(C){return(yield Bt(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function za(C){return new Promise((g,_)=>{const x=document.createElement("script");x.setAttribute("src",C),x.onload=g,x.onerror=re=>{const De=tt("internal-error");De.customData=re,_(De)},x.type="text/javascript",x.charset="UTF-8",function Ga(){var C,g;return null!==(g=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==g?g:document}().appendChild(x)})}function qo(C){return`__${C}${Math.floor(1e6*Math.random())}`}const Wa=1e12;class Aa{constructor(g){this.auth=g,this.counter=Wa,this._widgets=new Map}render(g,_){const x=this.counter;return this._widgets.set(x,new jl(g,this.auth.name,_||{})),this.counter++,x}reset(g){var _;const x=g||Wa;null===(_=this._widgets.get(x))||void 0===_||_.delete(),this._widgets.delete(x)}getResponse(g){var _;return(null===(_=this._widgets.get(g||Wa))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,c.Z)(function*(){var x;return null===(x=_._widgets.get(g||Wa))||void 0===x||x.execute(),""})()}}class jl{constructor(g,_,x){this.params=x,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const re="string"==typeof g?document.getElementById(g):g;ie(re,"argument-error",{appName:_}),this.container=re,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Yo(C){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let x=0;x<C;x++)g.push(_.charAt(Math.floor(Math.random()*_.length)));return g.join("")}(50);const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch(x){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(x){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const vs=qo("rcb"),gl=new le(3e4,6e4);class xa{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=Tn().grecaptcha)||void 0===g||!g.render)}load(g,_=""){return ie(function Ka(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(_),g,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(Tn().grecaptcha):new Promise((x,re)=>{const De=Tn().setTimeout(()=>{re(tt(g,"network-request-failed"))},gl.get());Tn()[vs]=()=>{Tn().clearTimeout(De),delete Tn()[vs];const Qt=Tn().grecaptcha;if(!Qt)return void re(tt(g,"internal-error"));const Bn=Qt.render;Qt.render=(cr,Lr)=>{const kr=Bn(cr,Lr);return this.counter++,kr},this.hostLanguage=_,x(Qt)},za(`https://www.google.com/recaptcha/api.js??${(0,W.xO)({onload:vs,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(De),re(tt(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var _;return!(null===(_=Tn().grecaptcha)||void 0===_||!_.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class fu{load(g){return(0,c.Z)(function*(){return new Aa(g)})()}clearedOneInstance(){}}const jt="recaptcha",Hl={theme:"light",type:"image"};class Zo{constructor(g,_=Object.assign({},Hl),x){this.parameters=_,this.type=jt,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Rn(x),this.isInvisible="invisible"===this.parameters.size,ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const re="string"==typeof g?document.getElementById(g):g;ie(re,this.auth,"argument-error"),this.container=re,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new fu:new xa,this.validateStartingState()}verify(){var g=this;return(0,c.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),x=g.getAssertedRecaptcha();return x.getResponse(_)||new Promise(De=>{const It=Qt=>{!Qt||(g.tokenChangeListeners.delete(It),De(Qt))};g.tokenChangeListeners.add(It),g.isInvisible&&x.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){ie(!this.parameters.sitekey,this.auth,"argument-error"),ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(x=>x(_)),"function"==typeof g)g(_);else if("string"==typeof g){const x=Tn()[g];"function"==typeof x&&x(_)}}}assertNotDestroyed(){ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,c.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const x=document.createElement("div");_.appendChild(x),_=x}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,c.Z)(function*(){ie(qt()&&!Wo(),g.auth,"internal-error"),yield function ju(){let C=null;return new Promise(g=>{"complete"!==document.readyState?(C=()=>g(),window.addEventListener("load",C)):g()}).catch(g=>{throw C&&window.removeEventListener("load",C),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function Di(C){return $n.apply(this,arguments)}(g.auth);ie(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Xo{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=ws._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function ga(){return(ga=(0,c.Z)(function*(C,g,_){const x=Rn(C),re=yield Gl(x,g,(0,W.m9)(_));return new Xo(re,De=>xi(x,De))})).apply(this,arguments)}function Qo(){return(Qo=(0,c.Z)(function*(C,g,_){const x=(0,W.m9)(C);yield Ys(!1,x,"phone");const re=yield Gl(x.auth,g,(0,W.m9)(_));return new Xo(re,De=>go(x,De))})).apply(this,arguments)}function Hu(){return(Hu=(0,c.Z)(function*(C,g,_){const x=(0,W.m9)(C),re=yield Gl(x.auth,g,(0,W.m9)(_));return new Xo(re,De=>Do(x,De))})).apply(this,arguments)}function Gl(C,g,_){return zr.apply(this,arguments)}function zr(){return(zr=(0,c.Z)(function*(C,g,_){var x;const re=yield _.verify();try{let De;if(ie("string"==typeof re,C,"argument-error"),ie(_.type===jt,C,"argument-error"),De="string"==typeof g?{phoneNumber:g}:g,"session"in De){const It=De.session;if("phoneNumber"in De)return ie("enroll"===It.type,C,"internal-error"),(yield L(C,{idToken:It.credential,phoneEnrollmentInfo:{phoneNumber:De.phoneNumber,recaptchaToken:re}})).phoneSessionInfo.sessionInfo;{ie("signin"===It.type,C,"internal-error");const Qt=(null===(x=De.multiFactorHint)||void 0===x?void 0:x.uid)||De.multiFactorUid;return ie(Qt,C,"missing-multi-factor-info"),(yield ei(C,{mfaPendingCredential:It.credential,mfaEnrollmentId:Qt,phoneSignInInfo:{recaptchaToken:re}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:It}=yield Xt(C,{phoneNumber:De.phoneNumber,recaptchaToken:re});return It}}finally{_._reset()}})).apply(this,arguments)}function Ma(){return(Ma=(0,c.Z)(function*(C,g){yield qs((0,W.m9)(C),g)})).apply(this,arguments)}let zl=(()=>{class C{constructor(_){this.providerId=C.PROVIDER_ID,this.auth=Rn(_)}verifyPhoneNumber(_,x){return Gl(this.auth,_,(0,W.m9)(x))}static credential(_,x){return ws._fromVerification(_,x)}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:x,temporaryProof:re}=_;return x&&re?ws._fromTokenResponse(x,re):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function So(C,g){return g?ke(g):(ie(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class Wl extends Si{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return kn(g,this._buildIdpRequest())}_linkToIdToken(g,_){return kn(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return kn(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function Kl(C){return po(C.auth,new Wl(C),C.bypassAuthState)}function yl(C){const{auth:g,user:_}=C;return ie(_,g,"internal-error"),la(_,new Wl(C),C.bypassAuthState)}function Ya(C){return pu.apply(this,arguments)}function pu(){return(pu=(0,c.Z)(function*(C){const{auth:g,user:_}=C;return ie(_,g,"internal-error"),qs(_,new Wl(C),C.bypassAuthState)})).apply(this,arguments)}class S{constructor(g,_,x,re,De=!1){this.auth=g,this.resolver=x,this.user=re,this.bypassAuthState=De,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,c.Z)(function*(x,re){g.pendingPromise={resolve:x,reject:re};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(De){g.reject(De)}});return function(x,re){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,c.Z)(function*(){const{urlResponse:x,sessionId:re,postBody:De,tenantId:It,error:Qt,type:Bn}=g;if(Qt)return void _.reject(Qt);const cr={auth:_.auth,requestUri:x,sessionId:re,tenantId:It||void 0,postBody:De||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Bn)(cr))}catch(Lr){_.reject(Lr)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Kl;case"linkViaPopup":case"linkViaRedirect":return Ya;case"reauthViaPopup":case"reauthViaRedirect":return yl;default:Ve(this.auth,"internal-error")}}resolve(g){he(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){he(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const A=new le(2e3,1e4);function O(){return(O=(0,c.Z)(function*(C,g,_){const x=Rn(C);Ne(C,g,Gi);const re=So(x,_);return new kt(x,"signInViaPopup",g,re).executeNotNull()})).apply(this,arguments)}function fe(){return(fe=(0,c.Z)(function*(C,g,_){const x=(0,W.m9)(C);Ne(x.auth,g,Gi);const re=So(x.auth,_);return new kt(x.auth,"reauthViaPopup",g,re,x).executeNotNull()})).apply(this,arguments)}function Qe(){return(Qe=(0,c.Z)(function*(C,g,_){const x=(0,W.m9)(C);Ne(x.auth,g,Gi);const re=So(x.auth,_);return new kt(x.auth,"linkViaPopup",g,re,x).executeNotNull()})).apply(this,arguments)}let kt=(()=>{class C extends S{constructor(_,x,re,De,It){super(_,x,De,It),this.provider=re,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var _=this;return(0,c.Z)(function*(){const x=yield _.execute();return ie(x,_.auth,"internal-error"),x})()}onExecution(){var _=this;return(0,c.Z)(function*(){he(1===_.filter.length,"Popup operations only handle one event");const x=qi();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],x),_.authWindow.associatedEvent=x,_.resolver._originValidation(_.auth).catch(re=>{_.reject(re)}),_.resolver._isIframeWebStorageSupported(_.auth,re=>{re||_.reject(tt(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(tt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const _=()=>{var x,re;this.pollId=null!==(re=null===(x=this.authWindow)||void 0===x?void 0:x.window)&&void 0!==re&&re.closed?window.setTimeout(()=>{this.pollId=null,this.reject(tt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,A.get())};_()}}return C.currentPopupAction=null,C})();const Wn=new Map;class Mn extends S{constructor(g,_,x=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,x),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,c.Z)(function*(){let x=Wn.get(_.auth._key());if(!x){try{const De=(yield function Ur(C,g){return Qr.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;x=()=>Promise.resolve(De)}catch(re){x=()=>Promise.reject(re)}Wn.set(_.auth._key(),x)}return _.bypassAuthState||Wn.set(_.auth._key(),()=>Promise.resolve(null)),x()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,x=this;return(0,c.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(x,g);if("unknown"!==g.type){if(g.eventId){const re=yield x.auth._redirectUserForId(g.eventId);if(re)return x.user=re,_().call(x,g);x.resolve(null)}}else x.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Qr(){return(Qr=(0,c.Z)(function*(C,g){const _=Lo(g),x=wo(C);if(!(yield x._isAvailable()))return!1;const re="true"===(yield x._get(_));return yield x._remove(_),re})).apply(this,arguments)}function xs(C,g){return ls.apply(this,arguments)}function ls(){return(ls=(0,c.Z)(function*(C,g){return wo(C)._set(Lo(g),"true")})).apply(this,arguments)}function Mi(C,g){Wn.set(C._key(),g)}function wo(C){return ke(C._redirectPersistence)}function Lo(C){return ht("pendingRedirect",C.config.apiKey,C.name)}function H(){return(H=(0,c.Z)(function*(C,g,_){const x=Rn(C);Ne(C,g,Gi);const re=So(x,_);return yield xs(re,x),re._openRedirect(x,g,"signInViaRedirect")})).apply(this,arguments)}function st(){return(st=(0,c.Z)(function*(C,g,_){const x=(0,W.m9)(C);Ne(x.auth,g,Gi);const re=So(x.auth,_);yield xs(re,x.auth);const De=yield Nn(x);return re._openRedirect(x.auth,g,"reauthViaRedirect",De)})).apply(this,arguments)}function dn(){return(dn=(0,c.Z)(function*(C,g,_){const x=(0,W.m9)(C);Ne(x.auth,g,Gi);const re=So(x.auth,_);yield Ys(!1,x,g.providerId),yield xs(re,x.auth);const De=yield Nn(x);return re._openRedirect(x.auth,g,"linkViaRedirect",De)})).apply(this,arguments)}function yr(){return(yr=(0,c.Z)(function*(C,g){return yield Rn(C)._initializationPromise,_r(C,g,!1)})).apply(this,arguments)}function _r(C,g){return pi.apply(this,arguments)}function pi(){return(pi=(0,c.Z)(function*(C,g,_=!1){const x=Rn(C),re=So(x,g),It=yield new Mn(x,re,_).execute();return It&&!_&&(delete It.user._redirectEventId,yield x._persistUserIfCurrent(It.user),yield x._setRedirectUser(null,g)),It})).apply(this,arguments)}function Nn(C){return ii.apply(this,arguments)}function ii(){return(ii=(0,c.Z)(function*(C){const g=qi(`${C.uid}:::`);return C._redirectEventId=g,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),g})).apply(this,arguments)}class Ra{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(x=>{this.isEventForConsumer(g,x)&&(_=!0,this.sendToConsumer(g,x),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function ma(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Xa(C);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var x;if(g.error&&!Xa(g)){const re=(null===(x=g.error.code)||void 0===x?void 0:x.split("auth/")[1])||"internal-error";_.onError(tt(this.auth,re))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const x=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&x}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Za(g))}saveEventToCache(g){this.cachedEventUids.add(Za(g)),this.lastProcessedEventTime=Date.now()}}function Za(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(g=>g).join("-")}function Xa({type:C,error:g}){return"unknown"===C&&"auth/no-auth-event"===(null==g?void 0:g.code)}function Oa(C){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,c.Z)(function*(C,g={}){return Bt(C,"GET","/v1/projects",g)})).apply(this,arguments)}const Ju=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Cf=/^https?/;function ec(){return(ec=(0,c.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:g}=yield Oa(C);for(const _ of g)try{if(Cd(_))return}catch(x){}Ve(C,"unauthorized-domain")})).apply(this,arguments)}function Cd(C){const g=Rt(),{protocol:_,hostname:x}=new URL(g);if(C.startsWith("chrome-extension://")){const It=new URL(C);return""===It.hostname&&""===x?"chrome-extension:"===_&&C.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&It.hostname===x}if(!Cf.test(_))return!1;if(Ju.test(C))return x===C;const re=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+re+"|"+re+")$","i").test(x)}const wh=new le(3e4,6e4);function Yl(){const C=Tn().___jsl;if(null!=C&&C.H)for(const g of Object.keys(C.H))if(C.H[g].r=C.H[g].r||[],C.H[g].L=C.H[g].L||[],C.H[g].r=[...C.H[g].L],C.CP)for(let _=0;_<C.CP.length;_++)C.CP[_]=null}let kc=null;function Zl(C){return kc=kc||function Ih(C){return new Promise((g,_)=>{var x,re,De;function It(){Yl(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Yl(),_(tt(C,"network-request-failed"))},timeout:wh.get()})}if(null!==(re=null===(x=Tn().gapi)||void 0===x?void 0:x.iframes)&&void 0!==re&&re.Iframe)g(gapi.iframes.getContext());else{if(null===(De=Tn().gapi)||void 0===De||!De.load){const Qt=qo("iframefcb");return Tn()[Qt]=()=>{gapi.load?It():_(tt(C,"network-request-failed"))},za(`https://apis.google.com/js/api.js?onload=${Qt}`).catch(Bn=>_(Bn))}It()}}).catch(g=>{throw kc=null,g})}(C),kc}const Nc=new le(5e3,15e3),Qs={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Fi=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Np(C){const g=C.config;ie(g.authDomain,C,"auth-domain-config-required");const _=g.emulator?ve(g,"emulator/auth/iframe"):`https://${C.config.authDomain}/__/auth/iframe`,x={apiKey:g.apiKey,appName:C.name,v:Ue.SDK_VERSION},re=Fi.get(C.config.apiHost);re&&(x.eid=re);const De=C._getFrameworks();return De.length&&(x.fw=De.join(",")),`${_}?${(0,W.xO)(x).slice(1)}`}function Jo(){return Jo=(0,c.Z)(function*(C){const g=yield Zl(C),_=Tn().gapi;return ie(_,C,"internal-error"),g.open({where:document.body,url:Np(C),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qs,dontclear:!0},x=>new Promise(function(){var re=(0,c.Z)(function*(De,It){yield x.restyle({setHideOnLeave:!1});const Qt=tt(C,"network-request-failed"),Bn=Tn().setTimeout(()=>{It(Qt)},Nc.get());function cr(){Tn().clearTimeout(Bn),De(x)}x.ping(cr).then(cr,()=>{It(Qt)})});return function(De,It){return re.apply(this,arguments)}}()))}),Jo.apply(this,arguments)}const zs={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class $o{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function Xl(C,g,_,x,re,De){ie(C.config.authDomain,C,"auth-domain-config-required"),ie(C.config.apiKey,C,"invalid-api-key");const It={apiKey:C.config.apiKey,appName:C.name,authType:_,redirectUrl:x,v:Ue.SDK_VERSION,eventId:re};if(g instanceof Gi){g.setDefaultLanguage(C.languageCode),It.providerId=g.providerId||"",(0,W.xb)(g.getCustomParameters())||(It.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Bn,cr]of Object.entries(De||{}))It[Bn]=cr}if(g instanceof Ss){const Bn=g.getScopes().filter(cr=>""!==cr);Bn.length>0&&(It.scopes=Bn.join(","))}C.tenantId&&(It.tid=C.tenantId);const Qt=It;for(const Bn of Object.keys(Qt))void 0===Qt[Bn]&&delete Qt[Bn];return`${function ea({config:C}){return C.emulator?ve(C,"emulator/auth/handler"):`https://${C.authDomain}/__/auth/handler`}(C)}?${(0,W.xO)(Qt).slice(1)}`}const Lc="webStorageSupport",$c=class Io{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pi,this._completeRedirectFn=_r,this._overrideRedirectResult=Mi}_openPopup(g,_,x,re){var De=this;return(0,c.Z)(function*(){var It;he(null===(It=De.eventManagers[g._key()])||void 0===It?void 0:It.manager,"_initialize() not called before _openPopup()");const Qt=Xl(g,_,x,Rt(),re);return function gu(C,g,_,x=500,re=600){const De=Math.max((window.screen.availHeight-re)/2,0).toString(),It=Math.max((window.screen.availWidth-x)/2,0).toString();let Qt="";const Bn=Object.assign(Object.assign({},zs),{width:x.toString(),height:re.toString(),top:De,left:It}),cr=(0,W.z$)().toLowerCase();_&&(Qt=br(cr)?"_blank":_),Vn(cr)&&(g=g||"http://localhost",Bn.scrollbars="yes");const Lr=Object.entries(Bn).reduce((Vi,[bl,hc])=>`${Vi}${bl}=${hc},`,"");if(function Ye(C=(0,W.z$)()){var g;return Z(C)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(cr)&&"_self"!==Qt)return function Ch(C,g){const _=document.createElement("a");_.href=C,_.target=g;const x=document.createEvent("MouseEvent");x.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(x)}(g||"",Qt),new $o(null);const kr=window.open(g||"",Qt,Lr);ie(kr,C,"popup-blocked");try{kr.focus()}catch(Vi){}return new $o(kr)}(g,Qt,qi())})()}_openRedirect(g,_,x,re){var De=this;return(0,c.Z)(function*(){return yield De._originValidation(g),function Yn(C){Tn().location.href=C}(Xl(g,_,x,Rt(),re)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:re,promise:De}=this.eventManagers[_];return re?Promise.resolve(re):(he(De,"If manager is not set, promise should be"),De)}const x=this.initAndGetManager(g);return this.eventManagers[_]={promise:x},x.catch(()=>{delete this.eventManagers[_]}),x}initAndGetManager(g){var _=this;return(0,c.Z)(function*(){const x=yield function tc(C){return Jo.apply(this,arguments)}(g),re=new Ra(g);return x.register("authEvent",De=>(ie(null==De?void 0:De.authEvent,g,"invalid-auth-event"),{status:re.onEvent(De.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:re},_.iframes[g._key()]=x,re})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(Lc,{type:Lc},re=>{var De;const It=null===(De=null==re?void 0:re[0])||void 0===De?void 0:De[Lc];void 0!==It&&_(!!It),Ve(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Df(C){return ec.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return Lt()||Qn()||Z()}};class Ja{constructor(g){this.factorId=g}_process(g,_,x){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,x);case"signin":return this._finalizeSignIn(g,_.credential);default:return ut("unexpected MultiFactorSessionType")}}}class Ql extends Ja{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Ql(g)}_finalizeEnroll(g,_,x){return function ee(C,g){return Bt(C,"POST","/v2/accounts/mfaEnrollment:finalize",Ot(C,g))}(g,{idToken:_,displayName:x,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function pl(C,g){return Bt(C,"POST","/v2/accounts/mfaSignIn:finalize",Ot(C,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ad=(()=>{class C{constructor(){}static assertion(_){return Ql._fromCredential(_)}}return C.FACTOR_ID="phone",C})();var Js="@firebase/auth";class Bc{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,c.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(x=>{g((null==x?void 0:x.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);!_||(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function xl(){return window}function ks(){return(ks=(0,c.Z)(function*(C,g,_){var x;const{BuildInfo:re}=xl();he(g.sessionId,"AuthEvent did not contain a session ID");const De=yield Th(g.sessionId),It={};return Z()?It.ibi=re.packageName:$r()?It.apn=re.packageName:Ve(C,"operation-not-supported-in-this-environment"),re.displayName&&(It.appDisplayName=re.displayName),It.sessionId=De,Xl(C,_,g.type,void 0,null!==(x=g.eventId)&&void 0!==x?x:void 0,It)})).apply(this,arguments)}function sc(){return(sc=(0,c.Z)(function*(C){const{BuildInfo:g}=xl(),_={};Z()?_.iosBundleId=g.packageName:$r()?_.androidPackageName=g.packageName:Ve(C,"operation-not-supported-in-this-environment"),yield Oa(C,_)})).apply(this,arguments)}function Jl(){return(Jl=(0,c.Z)(function*(C,g,_){const{cordova:x}=xl();let re=()=>{};try{yield new Promise((De,It)=>{let Qt=null;function Bn(){var kr;De();const Vi=null===(kr=x.plugins.browsertab)||void 0===kr?void 0:kr.close;"function"==typeof Vi&&Vi(),"function"==typeof(null==_?void 0:_.close)&&_.close()}function cr(){Qt||(Qt=window.setTimeout(()=>{It(tt(C,"redirect-cancelled-by-user"))},2e3))}function Lr(){"visible"===(null==document?void 0:document.visibilityState)&&cr()}g.addPassiveListener(Bn),document.addEventListener("resume",cr,!1),$r()&&document.addEventListener("visibilitychange",Lr,!1),re=()=>{g.removePassiveListener(Bn),document.removeEventListener("resume",cr,!1),document.removeEventListener("visibilitychange",Lr,!1),Qt&&window.clearTimeout(Qt)}})}finally{re()}})).apply(this,arguments)}function Th(C){return eu.apply(this,arguments)}function eu(){return(eu=(0,c.Z)(function*(C){const g=Sh(C),_=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(_)).map(re=>re.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Sh(C){if(he(/[0-9a-zA-Z]+/.test(C),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(C);const g=new ArrayBuffer(C.length),_=new Uint8Array(g);for(let x=0;x<C.length;x++)_[x]=C.charCodeAt(x);return _}(0,W.Pz)("authIdTokenMaxAge"),function Uc(C){(0,Ue._registerComponent)(new we.wA("auth",(g,{options:_})=>{const x=g.getProvider("app").getImmediate(),re=g.getProvider("heartbeat"),{apiKey:De,authDomain:It}=x.options;return((Qt,Bn)=>{ie(De&&!De.includes(":"),"invalid-api-key",{appName:Qt.name}),ie(!(null!=It&&It.includes(":")),"argument-error",{appName:Qt.name});const cr={apiKey:De,authDomain:It,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tn(C)},Lr=new hn(Qt,Bn,cr);return function et(C,g){const _=(null==g?void 0:g.persistence)||[],x=(Array.isArray(_)?_:[_]).map(ke);null!=g&&g.errorMap&&C._updateErrorMap(g.errorMap),C._initializeWithPersistence(x,null==g?void 0:g.popupRedirectResolver)}(Lr,_),Lr})(x,re)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,x)=>{g.getProvider("auth-internal").initialize()})),(0,Ue._registerComponent)(new we.wA("auth-internal",g=>{const _=Rn(g.getProvider("auth").getImmediate());return new Bc(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ue.registerVersion)(Js,"0.21.0",function Vc(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(C)),(0,Ue.registerVersion)(Js,"0.21.0","esm2017")}("Browser");class Ah extends Ra{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(g)),super.onEvent(g)}initialized(){var g=this;return(0,c.Z)(function*(){yield g.initPromise})()}}function tu(C){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,c.Z)(function*(C){const g=yield oc()._get(nu(C));return g&&(yield oc()._remove(nu(C))),g})).apply(this,arguments)}function vl(){const C=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<20;_++){const x=Math.floor(Math.random()*g.length);C.push(g.charAt(x))}return C.join("")}function oc(){return ke(ri)}function nu(C){return ht("authEvent",C.config.apiKey,C.name)}function ac(C){if(null==C||!C.includes("?"))return{};const[g,..._]=C.split("?");return(0,W.zd)(_.join("?"))}const Pa=class ya{constructor(){this._redirectPersistence=Pi,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=_r,this._overrideRedirectResult=Mi}_initialize(g){var _=this;return(0,c.Z)(function*(){const x=g._key();let re=_.eventManagers.get(x);return re||(re=new Ah(g),_.eventManagers.set(x,re),_.attachCallbackListeners(g,re)),re})()}_openPopup(g){Ve(g,"operation-not-supported-in-this-environment")}_openRedirect(g,_,x,re){var De=this;return(0,c.Z)(function*(){!function yu(C){var g,_,x,re,De,It,Qt,Bn,cr,Lr;const kr=xl();ie("function"==typeof(null===(g=null==kr?void 0:kr.universalLinks)||void 0===g?void 0:g.subscribe),C,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ie(typeof(null===(_=null==kr?void 0:kr.BuildInfo)||void 0===_?void 0:_.packageName)<"u",C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ie("function"==typeof(null===(De=null===(re=null===(x=null==kr?void 0:kr.cordova)||void 0===x?void 0:x.plugins)||void 0===re?void 0:re.browsertab)||void 0===De?void 0:De.openUrl),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ie("function"==typeof(null===(Bn=null===(Qt=null===(It=null==kr?void 0:kr.cordova)||void 0===It?void 0:It.plugins)||void 0===Qt?void 0:Qt.browsertab)||void 0===Bn?void 0:Bn.isAvailable),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ie("function"==typeof(null===(Lr=null===(cr=null==kr?void 0:kr.cordova)||void 0===cr?void 0:cr.InAppBrowser)||void 0===Lr?void 0:Lr.open),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const It=yield De._initialize(g);yield It.initialized(),It.resetRedirect(),function Eo(){Wn.clear()}(),yield De._originValidation(g);const Qt=function Md(C,g,_=null){return{type:g,eventId:_,urlResponse:null,sessionId:vl(),postBody:null,tenantId:C.tenantId,error:tt(C,"no-auth-event")}}(g,x,re);yield function el(C,g){return oc()._set(nu(C),g)}(g,Qt);const Bn=yield function ic(C,g,_){return ks.apply(this,arguments)}(g,Qt,_),cr=yield function Sf(C){const{cordova:g}=xl();return new Promise(_=>{g.plugins.browsertab.isAvailable(x=>{let re=null;x?g.plugins.browsertab.openUrl(C):re=g.InAppBrowser.open(C,function pe(C=(0,W.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}()?"_blank":"_system","location=yes"),_(re)})})}(Bn);return function Af(C,g,_){return Jl.apply(this,arguments)}(g,It,cr)})()}_isIframeWebStorageSupported(g,_){throw new Error("Method not implemented.")}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function mu(C){return sc.apply(this,arguments)}(g)),this.originValidationPromises[_]}attachCallbackListeners(g,_){const{universalLinks:x,handleOpenURL:re,BuildInfo:De}=xl(),It=setTimeout((0,c.Z)(function*(){yield tu(g),_.onEvent(lc())}),500),Qt=function(){var Lr=(0,c.Z)(function*(kr){clearTimeout(It);const Vi=yield tu(g);let bl=null;Vi&&(null==kr?void 0:kr.url)&&(bl=function ps(C,g){var _,x;const re=function _u(C){const g=ac(C),_=g.link?decodeURIComponent(g.link):void 0,x=ac(_).link,re=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return ac(re).link||re||x||_||C}(g);if(re.includes("/__/auth/callback")){const De=ac(re),It=De.firebaseError?function xh(C){try{return JSON.parse(C)}catch(g){return null}}(decodeURIComponent(De.firebaseError)):null,Qt=null===(x=null===(_=null==It?void 0:It.code)||void 0===_?void 0:_.split("auth/"))||void 0===x?void 0:x[1],Bn=Qt?tt(Qt):null;return Bn?{type:C.type,eventId:C.eventId,tenantId:C.tenantId,error:Bn,urlResponse:null,sessionId:null,postBody:null}:{type:C.type,eventId:C.eventId,tenantId:C.tenantId,sessionId:C.sessionId,urlResponse:re,postBody:null}}return null}(Vi,kr.url)),_.onEvent(bl||lc())});return function(Vi){return Lr.apply(this,arguments)}}();typeof x<"u"&&"function"==typeof x.subscribe&&x.subscribe(null,Qt);const Bn=re,cr=`${De.packageName.toLowerCase()}://`;xl().handleOpenURL=function(){var Lr=(0,c.Z)(function*(kr){if(kr.toLowerCase().startsWith(cr)&&Qt({url:kr}),"function"==typeof Bn)try{Bn(kr)}catch(Vi){console.error(Vi)}});return function(kr){return Lr.apply(this,arguments)}}()}};function lc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:tt("no-auth-event")}}function uc(){var C;return(null===(C=null==self?void 0:self.location)||void 0===C?void 0:C.protocol)||null}function Ti(C=(0,W.z$)()){return!("file:"!==uc()&&"ionic:"!==uc()&&"capacitor:"!==uc()||!C.toLowerCase().match(/iphone|ipad|ipod|android/))}function to(){try{const C=self.localStorage,g=qi();if(C)return C.setItem(g,"1"),C.removeItem(g),!function ta(C=(0,W.z$)()){return function Hc(){return(0,W.w1)()&&11===(null==document?void 0:document.documentMode)}()||function _l(C=(0,W.z$)()){return/Edge\/\d+/.test(C)}(C)}()||(0,W.hl)()}catch(C){return El()&&(0,W.hl)()}return!1}function El(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ml(){return(function eo(){return"http:"===uc()||"https:"===uc()}()||(0,W.ru)()||Ti())&&!function Rh(){return(0,W.b$)()||(0,W.UG)()}()&&to()&&!El()}function na(){return Ti()&&typeof document<"u"}function wl(){return(wl=(0,c.Z)(function*(){return!!na()&&new Promise(C=>{const g=setTimeout(()=>{C(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),C(!0)})})})).apply(this,arguments)}const no={LOCAL:"local",NONE:"none",SESSION:"session"},Pd=ie,gi="persistence";function wu(C){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,c.Z)(function*(C){yield C._initializationPromise;const g=dc(),_=ht(gi,C.config.apiKey,C.name);g&&g.setItem(_,C._getPersistence())})).apply(this,arguments)}function dc(){var C;try{return(null===(C=function Gu(){return typeof window<"u"?window:null}())||void 0===C?void 0:C.sessionStorage)||null}catch(g){return null}}const Nd=ie;class va{constructor(){this.browserResolver=ke($c),this.cordovaResolver=ke(Pa),this.underlyingResolver=null,this._redirectPersistence=Pi,this._completeRedirectFn=_r,this._overrideRedirectResult=Mi}_initialize(g){var _=this;return(0,c.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,_,x,re){var De=this;return(0,c.Z)(function*(){return yield De.selectUnderlyingResolver(),De.assertedUnderlyingResolver._openPopup(g,_,x,re)})()}_openRedirect(g,_,x,re){var De=this;return(0,c.Z)(function*(){return yield De.selectUnderlyingResolver(),De.assertedUnderlyingResolver._openRedirect(g,_,x,re)})()}_isIframeWebStorageSupported(g,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,_)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return na()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Nd(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,c.Z)(function*(){if(g.underlyingResolver)return;const _=yield function xo(){return wl.apply(this,arguments)}();g.underlyingResolver=_?g.cordovaResolver:g.browserResolver})()}}function ru(C){return C.unwrap()}function Gc(C){return Wc(C)}function Wc(C){const{_tokenResponse:g}=C instanceof W.ZR?C.customData:C;if(!g)return null;if(!(C instanceof W.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return zl.credentialFromResult(C);const _=g.providerId;if(!_||"password"===_)return null;let x;switch(_){case"google.com":x=Vs;break;case"facebook.com":x=ho;break;case"github.com":x=Is;break;case"twitter.com":x=fo;break;default:const{oauthIdToken:re,oauthAccessToken:De,oauthTokenSecret:It,pendingToken:Qt,nonce:Bn}=g;return De||It||re||Qt?Qt?_.startsWith("saml.")?rs._create(_,Qt):St._fromParams({providerId:_,signInMethod:_,pendingToken:Qt,idToken:re,accessToken:De}):new Ni(_).credential({idToken:re,accessToken:De,rawNonce:Bn}):null}return C instanceof W.ZR?x.credentialFromError(C):x.credentialFromResult(C)}function Mo(C,g){return g.catch(_=>{throw _ instanceof W.ZR&&function zc(C,g){var _;const x=null===(_=g.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===(null==g?void 0:g.code))g.resolver=new Ro(C,function os(C,g){var _;const x=(0,W.m9)(C),re=g;return ie(g.customData.operationType,x,"argument-error"),ie(null===(_=re.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,x,"argument-error"),ja._fromError(x,re)}(C,g));else if(x){const re=Wc(g),De=g;re&&(De.credential=re,De.tenantId=x.tenantId||void 0,De.email=x.email||void 0,De.phoneNumber=x.phoneNumber||void 0)}}(C,_),_}).then(_=>{const re=_.user;return{operationType:_.operationType,credential:Gc(_),additionalUserInfo:ha(_),user:Il.getOrCreate(re)}})}function Cu(C,g){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,c.Z)(function*(C,g){const _=yield g;return{verificationId:_.verificationId,confirm:x=>Mo(C,_.confirm(x))}})).apply(this,arguments)}class Ro{constructor(g,_){this.resolver=_,this.auth=function bu(C){return C.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return Mo(ru(this.auth),this.resolver.resolveSignIn(g))}}class Il{constructor(g){this._delegate=g,this.multiFactor=function Gt(C){const g=(0,W.m9)(C);return nt.has(g)||nt.set(g,ce._fromUser(g)),nt.get(g)}(g)}static getOrCreate(g){return Il.USER_MAP.has(g)||Il.USER_MAP.set(g,new Il(g)),Il.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var _=this;return(0,c.Z)(function*(){return Mo(_.auth,go(_._delegate,g))})()}linkWithPhoneNumber(g,_){var x=this;return(0,c.Z)(function*(){return Cu(x.auth,function ml(C,g,_){return Qo.apply(this,arguments)}(x._delegate,g,_))})()}linkWithPopup(g){var _=this;return(0,c.Z)(function*(){return Mo(_.auth,function je(C,g,_){return Qe.apply(this,arguments)}(_._delegate,g,va))})()}linkWithRedirect(g){var _=this;return(0,c.Z)(function*(){return yield wu(Rn(_.auth)),function xt(C,g,_){return function Ut(C,g,_){return dn.apply(this,arguments)}(C,g,_)}(_._delegate,g,va)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var _=this;return(0,c.Z)(function*(){return Mo(_.auth,Do(_._delegate,g))})()}reauthenticateWithPhoneNumber(g,_){return Cu(this.auth,function qa(C,g,_){return Hu.apply(this,arguments)}(this._delegate,g,_))}reauthenticateWithPopup(g){return Mo(this.auth,function z(C,g,_){return fe.apply(this,arguments)}(this._delegate,g,va))}reauthenticateWithRedirect(g){var _=this;return(0,c.Z)(function*(){return yield wu(Rn(_.auth)),function q(C,g,_){return function Ee(C,g,_){return st.apply(this,arguments)}(C,g,_)}(_._delegate,g,va)})()}sendEmailVerification(g){return function fs(C,g){return yo.apply(this,arguments)}(this._delegate,g)}unlink(g){var _=this;return(0,c.Z)(function*(){return yield function is(C,g){return Oi.apply(this,arguments)}(_._delegate,g),_})()}updateEmail(g){return function ll(C,g){return es((0,W.m9)(C),g,null)}(this._delegate,g)}updatePassword(g){return function To(C,g){return es((0,W.m9)(C),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function bd(C,g){return Ma.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function Ca(C,g){return Go.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,_){return function vo(C,g,_){return Cs.apply(this,arguments)}(this._delegate,g,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Il.USER_MAP=new WeakMap;const Kc=ie;let Ns=(()=>{class C{constructor(_,x){if(this.app=_,x.isInitialized())return this._delegate=x.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:re}=_.options;Kc(re,"invalid-api-key",{appName:_.name}),Kc(re,"invalid-api-key",{appName:_.name});const De=typeof window<"u"?va:void 0;this._delegate=x.initialize({options:{persistence:Ld(re,_.name),popupRedirectResolver:De}}),this._delegate._updateErrorMap(vt),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Il.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,x){!function Yr(C,g,_){const x=Rn(C);ie(x._canInitEmulator,x,"emulator-config-failed"),ie(/^https?:\/\//.test(g),x,"invalid-emulator-scheme");const re=!(null==_||!_.disableWarnings),De=di(g),{host:It,port:Qt}=function mr(C){const g=di(C),_=/(\/\/)?([^?#/]+)/.exec(C.substr(g.length));if(!_)return{host:"",port:null};const x=_[2].split("@").pop()||"",re=/^(\[[^\]]+\])(:|$)/.exec(x);if(re){const De=re[1];return{host:De,port:Er(x.substr(De.length+1))}}{const[De,It]=x.split(":");return{host:De,port:Er(It)}}}(g);x.config.emulator={url:`${De}//${It}${null===Qt?"":`:${Qt}`}/`},x.settings.appVerificationDisabledForTesting=!0,x.emulatorConfig=Object.freeze({host:It,port:Qt,protocol:De.replace(":",""),options:Object.freeze({disableWarnings:re})}),re||function Fr(){function C(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}(this._delegate,_,x)}applyActionCode(_){return function Ct(C,g){return j.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return F(this._delegate,_)}confirmPasswordReset(_,x){return function G(C,g,_){return Re.apply(this,arguments)}(this._delegate,_,x)}createUserWithEmailAndPassword(_,x){var re=this;return(0,c.Z)(function*(){return Mo(re._delegate,function nn(C,g,_){return Zr.apply(this,arguments)}(re._delegate,_,x))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function ba(C,g){return ca.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function Hs(C,g){const _=yi.parseLink(g);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}(0,_)}getRedirectResult(){var _=this;return(0,c.Z)(function*(){Kc(Ml(),_._delegate,"operation-not-supported-in-this-environment");const x=yield function Jn(C,g){return yr.apply(this,arguments)}(_._delegate,va);return x?Mo(_._delegate,Promise.resolve(x)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function Mf(C,g){Rn(C)._logFramework(g)}(this._delegate,_)}onAuthStateChanged(_,x,re){const{next:De,error:It,complete:Qt}=qc(_,x,re);return this._delegate.onAuthStateChanged(De,It,Qt)}onIdTokenChanged(_,x,re){const{next:De,error:It,complete:Qt}=qc(_,x,re);return this._delegate.onIdTokenChanged(De,It,Qt)}sendSignInLinkToEmail(_,x){return function Xr(C,g,_){return Rs.apply(this,arguments)}(this._delegate,_,x)}sendPasswordResetEmail(_,x){return function X(C,g,_){return w.apply(this,arguments)}(this._delegate,_,x||void 0)}setPersistence(_){var x=this;return(0,c.Z)(function*(){let re;switch(function kd(C,g){Pd(Object.values(no).includes(g),C,"invalid-persistence-type"),(0,W.b$)()?Pd(g!==no.SESSION,C,"unsupported-persistence-type"):(0,W.UG)()?Pd(g===no.NONE,C,"unsupported-persistence-type"):El()?Pd(g===no.NONE||g===no.LOCAL&&(0,W.hl)(),C,"unsupported-persistence-type"):Pd(g===no.NONE||to(),C,"unsupported-persistence-type")}(x._delegate,_),_){case no.SESSION:re=Pi;break;case no.LOCAL:re=(yield ke(pa)._isAvailable())?pa:ri;break;case no.NONE:re=Ze;break;default:return Ve("argument-error",{appName:x._delegate.name})}return x._delegate.setPersistence(re)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return Mo(this._delegate,function Ks(C){return ds.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return Mo(this._delegate,xi(this._delegate,_))}signInWithCustomToken(_){return Mo(this._delegate,function ua(C,g){return _i.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,x){return Mo(this._delegate,function Ji(C,g,_){return xi((0,W.m9)(C),Hi.credential(g,_))}(this._delegate,_,x))}signInWithEmailLink(_,x){return Mo(this._delegate,function Bl(C,g,_){return mo.apply(this,arguments)}(this._delegate,_,x))}signInWithPhoneNumber(_,x){return Cu(this._delegate,function co(C,g,_){return ga.apply(this,arguments)}(this._delegate,_,x))}signInWithPopup(_){var x=this;return(0,c.Z)(function*(){return Kc(Ml(),x._delegate,"operation-not-supported-in-this-environment"),Mo(x._delegate,function T(C,g,_){return O.apply(this,arguments)}(x._delegate,_,va))})()}signInWithRedirect(_){var x=this;return(0,c.Z)(function*(){return Kc(Ml(),x._delegate,"operation-not-supported-in-this-environment"),yield wu(x._delegate),function Ao(C,g,_){return function ql(C,g,_){return H.apply(this,arguments)}(C,g,_)}(x._delegate,_,va)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function oe(C,g){return mt.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return C.Persistence=no,C})();function qc(C,g,_){let x=C;"function"!=typeof C&&({next:x,error:g,complete:_}=C);const re=x;return{next:It=>re(It&&Il.getOrCreate(It)),error:g,complete:_}}function Ld(C,g){const _=function cc(C,g){const _=dc();if(!_)return[];const x=ht(gi,C,g);switch(_.getItem(x)){case no.NONE:return[Ze];case no.LOCAL:return[pa,Pi];case no.SESSION:return[Pi];default:return[]}}(C,g);if(typeof self<"u"&&!_.includes(pa)&&_.push(pa),typeof window<"u")for(const x of[ri,Pi])_.includes(x)||_.push(x);return _.includes(Ze)||_.push(Ze),_}class Rl{constructor(){this.providerId="phone",this._delegate=new zl(ru(ne.Z.auth()))}static credential(g,_){return zl.credential(g,_)}verifyPhoneNumber(g,_){return this._delegate.verifyPhoneNumber(g,_)}unwrap(){return this._delegate}}Rl.PHONE_SIGN_IN_METHOD=zl.PHONE_SIGN_IN_METHOD,Rl.PROVIDER_ID=zl.PROVIDER_ID;const tl=ie;class iu{constructor(g,_,x=ne.Z.app()){var re;tl(null===(re=x.options)||void 0===re?void 0:re.apiKey,"invalid-api-key",{appName:x.name}),this._delegate=new Zo(g,_,x.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Yc(C){C.INTERNAL.registerComponent(new we.wA("auth-compat",g=>{const _=g.getProvider("app-compat").getImmediate(),x=g.getProvider("auth");return new Ns(_,x)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Hi,FacebookAuthProvider:ho,GithubAuthProvider:Is,GoogleAuthProvider:Vs,OAuthProvider:Ni,SAMLAuthProvider:zi,PhoneAuthProvider:Rl,PhoneMultiFactorGenerator:Ad,RecaptchaVerifier:iu,TwitterAuthProvider:fo,Auth:Ns,AuthCredential:Si,Error:W.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),C.registerVersion("@firebase/auth-compat","0.3.0")}(ne.Z)},8766:(gn,_t,$)=>{"use strict";$.d(_t,{Lj:()=>Ve,X3:()=>wt});var c=$(5861);let W,Ue;const we=new WeakMap,Se=new WeakMap,$e=new WeakMap,xe=new WeakMap,de=new WeakMap;let Xe={get(ie,ut,he){if(ie instanceof IDBTransaction){if("done"===ut)return Se.get(ie);if("objectStoreNames"===ut)return ie.objectStoreNames||$e.get(ie);if("store"===ut)return he.objectStoreNames[1]?void 0:he.objectStore(he.objectStoreNames[0])}return ye(ie[ut])},set:(ie,ut,he)=>(ie[ut]=he,!0),has:(ie,ut)=>ie instanceof IDBTransaction&&("done"===ut||"store"===ut)||ut in ie};function at(ie){return"function"==typeof ie?function lt(ie){return ie!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function He(){return Ue||(Ue=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ie)?function(...ut){return ie.apply(Ce(this),ut),ye(we.get(this))}:function(...ut){return ye(ie.apply(Ce(this),ut))}:function(ut,...he){const B=ie.call(Ce(this),ut,...he);return $e.set(B,ut.sort?ut.sort():[ut]),ye(B)}}(ie):(ie instanceof IDBTransaction&&function ze(ie){if(Se.has(ie))return;const ut=new Promise((he,B)=>{const ke=()=>{ie.removeEventListener("complete",Oe),ie.removeEventListener("error",et),ie.removeEventListener("abort",et)},Oe=()=>{he(),ke()},et=()=>{B(ie.error||new DOMException("AbortError","AbortError")),ke()};ie.addEventListener("complete",Oe),ie.addEventListener("error",et),ie.addEventListener("abort",et)});Se.set(ie,ut)}(ie),((ie,ut)=>ut.some(he=>ie instanceof he))(ie,function Le(){return W||(W=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ie,Xe):ie)}function ye(ie){if(ie instanceof IDBRequest)return function Te(ie){const ut=new Promise((he,B)=>{const ke=()=>{ie.removeEventListener("success",Oe),ie.removeEventListener("error",et)},Oe=()=>{he(ye(ie.result)),ke()},et=()=>{B(ie.error),ke()};ie.addEventListener("success",Oe),ie.addEventListener("error",et)});return ut.then(he=>{he instanceof IDBCursor&&we.set(he,ie)}).catch(()=>{}),de.set(ut,ie),ut}(ie);if(xe.has(ie))return xe.get(ie);const ut=at(ie);return ut!==ie&&(xe.set(ie,ut),de.set(ut,ie)),ut}const Ce=ie=>de.get(ie);function wt(ie,ut,{blocked:he,upgrade:B,blocking:ke,terminated:Oe}={}){const et=indexedDB.open(ie,ut),Rt=ye(et);return B&&et.addEventListener("upgradeneeded",qt=>{B(ye(et.result),qt.oldVersion,qt.newVersion,ye(et.transaction))}),he&&et.addEventListener("blocked",()=>he()),Rt.then(qt=>{Oe&&qt.addEventListener("close",()=>Oe()),ke&&qt.addEventListener("versionchange",()=>ke())}).catch(()=>{}),Rt}function Ve(ie,{blocked:ut}={}){const he=indexedDB.deleteDatabase(ie);return ut&&he.addEventListener("blocked",()=>ut()),ye(he).then(()=>{})}const tt=["get","getKey","getAll","getAllKeys","count"],Ke=["put","add","delete","clear"],Ne=new Map;function rt(ie,ut){if(!(ie instanceof IDBDatabase)||ut in ie||"string"!=typeof ut)return;if(Ne.get(ut))return Ne.get(ut);const he=ut.replace(/FromIndex$/,""),B=ut!==he,ke=Ke.includes(he);if(!(he in(B?IDBIndex:IDBObjectStore).prototype)||!ke&&!tt.includes(he))return;const Oe=function(){var et=(0,c.Z)(function*(Rt,...qt){const qe=this.transaction(Rt,ke?"readwrite":"readonly");let be=qe.store;return B&&(be=be.index(qt.shift())),(yield Promise.all([be[he](...qt),ke&&qe.done]))[0]});return function(qt){return et.apply(this,arguments)}}();return Ne.set(ut,Oe),Oe}!function vt(ie){Xe=ie(Xe)}(ie=>({...ie,get:(ut,he,B)=>rt(ut,he)||ie.get(ut,he,B),has:(ut,he)=>!!rt(ut,he)||ie.has(ut,he)}))},5861:(gn,_t,$)=>{"use strict";function c(W,Ue,Le,He,we,Se,$e){try{var xe=W[Se]($e),de=xe.value}catch(Te){return void Le(Te)}xe.done?Ue(de):Promise.resolve(de).then(He,we)}function ne(W){return function(){var Ue=this,Le=arguments;return new Promise(function(He,we){var Se=W.apply(Ue,Le);function $e(de){c(Se,He,we,$e,xe,"next",de)}function xe(de){c(Se,He,we,$e,xe,"throw",de)}$e(void 0)})}}$.d(_t,{Z:()=>ne})}},gn=>{gn(gn.s=1172)}]);